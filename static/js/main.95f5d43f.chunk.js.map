{"version":3,"sources":["stores/userStore.js","stores/appStore.js","services/error.js","services/response.js","services/axios.js","services/api.js","services/eventsApi.js","stores/profileStore.js","services/authApi.js","services/codes.js","includes/validators.js","stores/authStore.js","services/admin/adminApi.js","services/admin/roomsApi.js","stores/admin/roomsStore.js","routes/PrivateRoute.js","pages/Page403/index.js","routes/AdminRoute.js","components/Bayan/index.js","components/LogoutLink/index.js","components/ThemeSwitcher/index.js","components/Header/index.js","components/Footer/index.js","pages/Login/index.js","pages/Register/index.js","includes/models.js","includes/modelsHelpers.js","components/ServerError/index.js","components/AppError/index.js","pages/Profile/index.js","components/BaseComponent.js","components/RoomEvents/index.js","components/NoRooms/index.js","services/roomsApi.js","pages/Events/index.js","components/SaveEvent.js","components/EventForm/index.js","components/EventFormSkeleton/index.js","pages/AddEvent/index.js","pages/ChangeEvent/index.js","pages/DeleteEvent/index.js","pages/Page404/index.js","pages/ServerError/index.js","pages/AppError/index.js","pages/Offline/index.js","pages/admin/Rooms/index.js","themes/index.js","App.js","index.js"],"names":["makeObservable","this","u","user","undefined","isAdmin","observable","action","RENDER_STATES","window","addEventListener","isOnline","flag","preferDarkMode","localStorage","setItem","JSON","parse","getItem","token","removeItem","value","renderState","message","errorMessage","navigator","onLine","isPreferDarkMode","ApiDataTypeError","Error","Response","response","init","name","key","parseInt","getNestedPropertyValue","Number","isInteger","getApiCode","getApiMessage","apiData","getApiData","obj","path","chains","split","_hasNestedKey","rest","length","hasOwnProperty","_getNestedPropertyValue","createAxiosInstance","baseUrl","axiosInstance","axios","create","baseURL","interceptors","request","use","config","appStore","headers","Authorization","res","hasValidApiResponse","error","Promise","reject","resolve","successHandler","errorHandler","process","Api","data","post","id","put","delete","get","ymd","rooms","params","date","username","eventsApi","getMyEvents","then","events","catch","email","password","CODES","AUTH","FAILURE","VALIDATION","EMAIL_EXISTS","LOGIN","EMPTY_CREDENTIALS","INVALID_CREDENTIALS","LOGOUT","VERIFY","UNSIGNED_TOKEN","INVALID_USER","EVENTS","ROOM_NOT_EXISTS","ROOM_NOT_ACTIVE","CROSS_DATES","NOT_EXISTS","NOT_BELONG_TO_YOU","ID_REQUIRED","ID_INVALID","JWT_UNAUTHORIZED","INVALID_TOKEN","ROOMS","INVALID_DATE","validateRoomTitle","title","String","validateRoomNumber","number","values","password_confirm","serviceMessage","errors","validate","RegExp","test","validateUserName","validateEmail","validatePassword","inProgress","authApi","login","userStore","setUser","setToken","apiCode","finally","register","saveRooms","deleteRoom","RoomsStore","fields","required","text","status","focusedField","_id","isNew","Object","keys","filter","field","msg","isLoading","roomsApi","getRoomsList","roomId","room","find","createNewRoom","err","setErrorMessage","updateRoom","push","getNewRoomObject","e","fieldName","fieldValue","validationRes","validateInputFields","requiredFields","getRequiredFields","postData","forEach","newId","postKeys","setTimeout","focus","loadRooms","needleRoom","roomsFiltered","fieldNames","Array","isArray","validateFunc","isValid","PrivateRoute","Component","component","render","props","isLoggedIn","to","pathname","from","location","Page403","className","AdminRoute","Bayan","backgroundColor","color","bayanStyle","style","React","LogoutLink","inject","logout","unsetToken","Link","href","onClick","doLogout","bind","ThemeSwitcher","observer","handleClick","event","newMode","setPreferDarkMode","icon","IconButton","PureComponent","Header","links","RouterLink","AppBar","position","Toolbar","Footer","version","Login","handleSubmit","preventDefault","authStore","history","startsWith","replace","handleEmailChange","setEmail","target","handlePasswordChange","setPassword","reset","Container","maxWidth","onSubmit","noValidate","FormControl","TextField","label","fullWidth","variant","type","onChange","FormHelperText","Button","disabled","LinkRouter","Register","handleChangeName","setName","handleChangeEmail","handlePasswordConfirmChange","setPasswordConfirm","helperTextName","helperTextEmail","helperTextPasswordConfirmation","helperTextPassword","Model","Room","assignProps","User","Event","description","date_start","date_end","EventHelper","format","dayjs","ServerError","severity","Alert","map","row","index","AppError","Profile","renderEventList","spacing","profileStore","Grid","item","sm","dateFormatClient","routerLink","container","a","loadProfile","INIT","COMMON","COMPONENT_STATE","BaseComponent","getServerErrorState","opts","defaults","state","assign","alert","scroll","setState","scrollToMessages","containerId","constructor","element","document","querySelector","scrollIntoView","behavior","STATUSES","RoomEvents","onDataChange","nextProps","initDinamycProps","selectedTime","timeLine","nowLabel","resetSelections","setTimeLineLeft","onRezise","prevWindowWidth","innerWidth","resizeTimeButtons","getTimeButtonWidth","timeButtonsWidth","timeLineRef","current","offsetWidth","buttonsCount","getVibisleTimeButtonsCount","parseFloat","buttonWidth","querySelectorAll","minWidth","width","toRight","fromTime","timeButtons","buttonsWrapper","prevBtn","nextBtn","currentPos","left","newPos","btnFrom","scrollStep","leftPosLimit","rightPosLimit","setAttribute","removeAttribute","Math","abs","scrollToRight","firstVisibleTimeIndex","scrollToLeft","scrollSwitch","direction","handleScrollMouseDown","button","stopPropagation","mouseDownOnScrollInterval","setInterval","isMouseHoldedOnScroll","handleScrollMouseUp","clearInterval","handleTimeClick","currentTarget","dataset","setTimeData","changeTime","prevClickedButton","setIntermediate","btn","timeData","classList","add","remove","getTimeData","sort","timeIndex","timeLineData","items","handleAddEvent","args","link","join","redirectToAdd","createRef","stepMinutes","prepTimeLine","initTimeData","nowIndex","NaN","nextState","shouldUpdate","buttons","setFirstVisibleIndex","removeEventListener","some","call","btnIndex","crossedOrPengingEvent","getStatus","clickedBtn","newTimeData","sortedIndexes","i","newBtn","round","random","time","timeToCompare","second","millisecond","dateStart","dateEnd","subtract","Paper","EventDetails","TimeLine","Box","ref","data-direction","onMouseDown","onMouseUp","ArrowLeft","borderColor","theme","palette","buttonProps","ArrowRight","bgcolor","renderEventInfo","size","times","renderSelectedTime","withTheme","NoRooms","dateString","BASE_RENDER_STATES","NO_ROOMS","UPDATE","Events","memoize","list","filteredField","roomsFilterValue","re","toString","search","applyRoomFilterValue","handleRoomsFilterChange","handleDateChange","selectedDate","loadRoomsWithEventsOfDay","timeLineLabelFormat","prevRoomList","roomEventsRef","datePost","resultState","getRoomsWithEventsOfDay","timeLineLen","now","timeLineDate","hour","minute","ceil","startOfDay","startOf","allItems","getTimeLine","breakPoints","xs","md","lg","xl","justify","applyFilter","handleChange","applyDate","loopRooms","toLowerCase","RoomFilter","clearTimeout","timeout","inputProps","InputLabelProps","shrink","EventsDatePicker","utils","DateUtils","KeyboardButtonProps","SAVED","SaveEvent","handleDateStartChange","datetime","validateDateStart","handleDateEndChange","validateDateEnd","handleRoomChange","handleTitleChange","validateTitle","handleDescriptionChange","Date","valid","isNaN","getTime","dateFormat","setRoomState","result","stateProps","roomsList","getEvent","DETAILS_ID_REQUIRED","DETAILS_ID_INVALID","EventForm","submitBtnText","Select","MenuItem","DateTimePicker","ampm","minutesStep","multiline","crossedEvents","EventFormSkeleton","Skeleton","height","EventCreated","AddEvent","withRouter","createdEvent","initEventState","defaultStartFrom","setMinutes","getMinutes","defaultEvent","match","getEventFromUrl","dateFrom","dateTo","loadRoomList","newStateOpts","getPostData","addEvent","errorFields","getErrorFields","getValidationErrorState","dbEvents","ChangeEvent","changed","changeEvent","eventId","eventModel","roomState","loadEventDetails","eventState","changedEvent","DeleteComfirm","handleDeleteEvent","EventDeleted","DeleteEvent","deleteEvent","newProps","Page404","reload","reloadWindow","Offline","adminRooms","refreshListHandler","adminRoomsStore","toggleStatusHandler","toggleRoomsStatus","updateRoomHandler","inputTimeoutx","includes","setRoomField","updateField","inputSavingDelay","addRoomHandler","addFreshRoom","removeRoomHandler","textFieldFocusHandler","saveFocus","CircularProgress","edge","aria-label","Refresh","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","Fragment","onFocus","defaultValue","align","Delete","colSpan","getMuiTheme","memoizeOne","darkMode","textColor","background","default","paper","primary","main","colors","green","dark","light","secondary","indigo","red","available","pending","yellow","reserved","createMuiTheme","overrides","MuiTypography","colorPrimary","App","setRenderState","verify","page","exact","ThemeProvider","CssBaseline","stores","___XSTORES","ReactDOM","StrictMode","getElementById"],"mappings":"0pBA6Be,M,aA1BX,aAAe,oDACXA,YAAeC,M,2CAItB,SAAgBC,GACfD,KAAKE,KAAOD,I,uBAEV,WACID,KAAKE,UAAOC,I,sBAGnB,WACC,QAASH,KAAKE,O,gBAGZ,WACI,OAAOF,KAAKE,O,mBAGnB,WAAe,IAAD,EACP,iBAAOF,KAAKE,YAAZ,aAAO,EAAWE,Y,uCAjBrBC,K,yGACHC,K,yGAGGA,K,yECTQC,EACC,SADDA,EAEE,UAFFA,EAGA,QAHAA,EAIC,SAqDC,M,aAhDX,aAAe,IAAD,yNACVC,OAAOC,iBAAiB,SAAUH,aAAO,WAErC,EAAKI,UAAW,MAEpBF,OAAOC,iBAAiB,UAAWH,aAAO,WAEtC,EAAKI,UAAW,MAEpBX,YAAeC,M,qDAKnB,WAAwC,IAAdW,IAAa,yDACnCX,KAAKY,eAAiBD,EACtBH,OAAOK,aAAaC,QAAQ,iBAAkBH,K,8BAErD,WAEC,OAAiB,IADHI,KAAKC,MAAMR,OAAOK,aAAaI,QAAQ,qB,sBAKnD,SAAiBC,GACblB,KAAKkB,MAAQA,EACbV,OAAOK,aAAaC,QAAQ,QAASI,K,wBAGzC,WACIlB,KAAKkB,WAAQf,EACbK,OAAOK,aAAaM,WAAW,W,4BAInC,SAAuBC,GACnBpB,KAAKqB,YAAcD,I,6BAIvB,SAAwBE,GACpBtB,KAAKuB,aAAcD,I,6BAEvB,WACI,OAAOtB,KAAKuB,iB,2CAjCflB,K,yEAAsBG,OAAOgB,UAAUC,U,4CAEvCpB,K,yEAA4BL,KAAK0B,sB,6CACjCpB,K,iHASAD,K,yEAAmBG,OAAOK,aAAaI,QAAQ,Y,oCAC/CX,K,2GAKAA,K,gHAKAD,K,yEAAyBE,K,0CACzBD,K,qHAIAD,K,wEAA0B,M,2CAC1BC,K,0HCnDgBqB,E,wIAAyBC,Q,SCAzBC,E,WACjB,WAAYC,GAAW,oBACnB9B,KAAK+B,KAAKD,GACV9B,KAAKgC,KAAO,kB,wCAGhB,SAAKF,GACD,IAAI,IAAIG,KAAOH,EACX9B,KAAKiC,GAAOH,EAASG,K,wBAI7B,WACI,OAAOC,SAASlC,KAAKmC,uBAAuBnC,KAAM,gB,2BAGtD,WACI,OAAOA,KAAKmC,uBAAuBnC,KAAM,kB,wBAG7C,WACI,OAAOA,KAAKmC,uBAAuBnC,KAAM,e,iCAG7C,WACI,SAAQoC,OAAOC,UAAUrC,KAAKsC,eACE,OAAzBtC,KAAKuC,mB,4BAGhB,WACI,IAAMC,EAAUxC,KAAKyC,aACrB,OAAOD,EAAUA,EAAO,OAAa,K,+BAQzC,SAAkBE,EAAKC,GAMnB,IAAMC,EAASD,EAAKE,MAAM,KAC1B,OANA,SAASC,EAAcJ,EAAKT,GACxB,GAAI,qBAAuBS,EAAK,OAAO,EADD,2BAANK,EAAM,iCAANA,EAAM,kBAEtC,OAAKA,EAAKC,OACHF,EAAa,WAAb,GAAcJ,EAAIT,IAAlB,OAA2Bc,IADTL,EAAIO,eAAehB,IAI5B,WAAb,GAAcS,GAAd,mBAAsBE,O,oCAQjC,SAAuBF,EAAKC,GAQxB,IAAMC,EAASD,EAAKE,MAAM,KAC1B,OARA,SAASK,EAAwBR,EAAKT,GAClC,GAAI,qBAAuBS,EAAK,OAAO,KADS,2BAANK,EAAM,iCAANA,EAAM,kBAEhD,OAAKA,EAAKC,OAGHE,EAAuB,WAAvB,GAAwBR,EAAIT,IAA5B,OAAqCc,IAFjCL,EAAIO,eAAehB,GAAOS,EAAIT,GAAO,MAKtB,WAAvB,GAAwBS,GAAxB,mBAAgCE,S,KCzChCO,EAjBa,SAACC,GACzB,IAAMC,EAAgBC,IAAMC,OAAO,CAC/BC,QAASJ,IAYb,OAVAC,EAAcI,aAAaC,QAAQC,KAAI,SAAUC,GAC7C,IAAM1C,EAAQ2C,EAAS3C,MAEvB,OADA0C,EAAOE,QAAU,CAAEC,cAAc,UAAD,OAAY7C,IACrC0C,KAGXP,EAAcI,aAAa3B,SAAS6B,KAChC,SAAA7B,GAAQ,OAQhB,SAAwBkC,GACpB,IAAMlC,EAAW,IAAID,EAASmC,GAC9B,IAAKlC,EAASmC,sBAAuB,CACjC,IAAMC,EAAQvC,EAAiB,gCAC/B,OAAOwC,QAAQC,OAAO,CAAEF,MAAOA,EAAOpC,SAAUA,IAEpD,OAAOqC,QAAQE,QAAQ,CAAEH,OAAO,EAAOpC,SAAUA,IAdjCwC,CAAexC,MAC3B,SAAAoC,GAAK,OAgBb,SAAsBA,GAClB,IAAMpC,EAAW,IAAID,EAASqC,EAAMpC,UACpC,OAAOqC,QAAQC,OAAQ,CAAEF,MAAOA,EAAOpC,SAAUA,IAlBpCyC,CAAaL,MAEnBb,GChBX,I,kDAAMA,GAAgBF,EAAoBqB,iCAQ3BC,GALX,aAAe,oBACXzE,KAAKsD,MAAQD,ICsBN,O,8JA1BX,SAASqB,GACL,OAAO1E,KAAKsD,MAAMqB,KAAK,iBAAkBD,K,yBAG7C,SAAYE,EAAIF,GACZ,OAAO1E,KAAKsD,MAAMuB,IAAI,iBAAmBD,EAAIF,K,yBAGjD,SAAYE,GACR,OAAO5E,KAAKsD,MAAMwB,OAAO,iBAAmBF,K,sBAGhD,SAASA,GACL,OAAO5E,KAAKsD,MAAMyB,IAAI,iBAAmBH,K,kBAG7C,SAAKI,GAAoB,IAAfC,EAAc,uDAAN,KACVC,EAAS,CAAEC,KAAMH,EAAKC,MAAOA,GACvC,OAAOjF,KAAKsD,MAAMyB,IAAI,eAAgB,CAAEG,OAAQA,M,yBAG9C,WACF,OAAOlF,KAAKsD,MAAMyB,IAAI,wB,GAvBAN,KCCXlE,GACH,OADGA,GAED,SAFCA,GAGA,UA0BE,O,aAtBX,aAAe,6FACXR,YAAeC,M,+CAMnB,SAAoBoF,GAAW,IAAD,OAC1BpF,KAAKqB,YAAcd,GACnB8E,GAAUC,cACLC,KAAKjF,aAAO,YAAmB,IACtBkC,EADqB,EAAfV,SACaW,aACzB,EAAKpB,YAAcd,GACnB,EAAKiF,OAAShD,EAAQgD,WAEzBC,MAAMnF,aAAO,YAAyB,EAAtB4D,MAAsB,EAAfpC,SACpB,EAAK0D,OAAS,GACd,EAAKnE,YAAcd,W,8CAb9BF,K,yEAAyBE,M,oCACzBF,K,wEAAoB,M,uCAEpBC,K,2ECGU,O,4JAjBX,WACI,OAAON,KAAKsD,MAAMyB,IAAI,kB,mBAG1B,SAAMW,EAAOC,GACT,OAAO3F,KAAKsD,MAAMqB,KAAK,cAAe,CAACe,MAAOA,EAAOC,SAAUA,M,oBAGnE,WACI,OAAO3F,KAAKsD,MAAMqB,KAAK,kB,sBAG3B,SAASzE,GACL,OAAOF,KAAKsD,MAAMqB,KAAK,iBAAkBzE,O,GAd3BuE,KCoCPmB,GArCD,CACVC,KAAM,CACFC,QAAS,IACTC,WAAY,KACZC,aAAc,KACdC,MAAO,KACPC,kBAAmB,KACnBC,oBAAqB,KACrBC,OAAQ,KACRC,OAAQ,KACRC,eAAgB,KAChBC,aAAc,MAElBC,OAAQ,CACJV,QAAS,KACTC,WAAY,KACZU,gBAAiB,KACjBC,gBAAiB,KACjBC,YAAa,KACbC,WAAY,KACZC,kBAAmB,KACnBC,YAAa,KACbC,WAAY,MAEhBd,MAAO,CACHC,kBAAmB,KACnBC,oBAAqB,KACrBa,iBAAkB,KAClBV,eAAgB,KAChBW,cAAe,KACfjB,aAAc,MAElBkB,MAAO,CACHpB,QAAS,KACTqB,aAAc,OCjBTC,GAAoB,SAACC,GAG9B,UAFmC,kBAAVA,GAAsBA,aAAiBC,SACzDD,EAAMrE,QAAU,IACC,CAAE1B,QAAS,mCAG1BiG,GAAqB,SAACC,GAG/B,SADgBA,GAAWA,IAAoB,EAATA,KACd,CAAElG,QAAS,0BCnB1Bf,GACD,SADCA,GAEA,UAwHE,O,aApHX,aAAe,+MACXR,YAAeC,M,yCAUnB,WACIA,KAAKyH,OAAOzF,KAAO,GACnBhC,KAAKyH,OAAO/B,MAAQ,GACpB1F,KAAKyH,OAAO9B,SAAW,GACvB3F,KAAKyH,OAAOC,iBAAmB,GAC/B1H,KAAK2H,eAAiB,GACtB3H,KAAK4H,OAAS,K,qBAGlB,SAAgB5F,GACZhC,KAAKyH,OAAOzF,KAAOA,EACnB,IAAM6F,ED9BkB,SAAC7F,GAG7B,QAFmB8F,OAAO,oBACCC,KAAK/F,IACR,CAAEV,QAAS,mEC2Bd0G,CAAiBhG,IAElC,IAAS6F,SAAkB7H,KAAK4H,OAAO5F,KAAMhC,KAAK4H,OAAO5F,KAAO6F,I,sBAGpE,SAAiBnC,GACb1F,KAAKyH,OAAO/B,MAAQA,EACpB,IAAMmC,ED3Ce,WAAiB,IAAhBnC,EAAe,uDAAP,GAGlC,QAFoBoC,OAAQ,0CACAC,KAAKrC,IACT,CAAEpE,QAAS,iBCwCd2G,CAAcvC,IAC/B,IAASmC,SAAkB7H,KAAK4H,OAAOlC,MAAQ1F,KAAK4H,OAAOlC,MAAQmC,I,yBAGvE,SAAoBlC,GAChB3F,KAAKyH,OAAO9B,SAAWA,EACvB,IAAMkC,EDrCkB,WAG5B,QAFuB,wDACQE,KAFgB,uDAAP,KAGjB,CAAEzG,QAAS,yGCkCb4G,CAAiBvC,IAClC,IAASkC,SAAkB7H,KAAK4H,OAAOjC,SAAU3F,KAAK4H,OAAOjC,SAAWkC,I,gCAG5E,SAA2BH,GACvB1H,KAAKyH,OAAOC,iBAAmBA,GAG/B,KADiB1H,KAAKyH,OAAO9B,WAAa3F,KAAKyH,OAAOC,yBAC1B1H,KAAK4H,OAAOF,iBAClC1H,KAAK4H,OAAOF,iBAAmB,CAAEpG,QAAS,0B,mBAQpD,WAAiB,IAAD,OAGZ,OAFAtB,KAAKmI,YAAa,EAClBnI,KAAK2H,eAAiB,GACfS,GAAQC,MAAMrI,KAAKyH,OAAO/B,MAAO1F,KAAKyH,OAAO9B,UAC/CJ,KAAKjF,aAAO,YAAmB,IACtBkC,EADqB,EAAfV,SACaW,aACzB6F,EAAUC,QAAQ/F,EAAQtC,MAC1B2D,EAAS2E,SAAShG,EAAQtC,KAAKgB,WAElCuE,MAAMnF,aAAO,YAAyB,EAAtB4D,MAAuB,IAAhBpC,EAAe,EAAfA,SAEd2G,GADa3G,EAASS,gBACZT,EAASQ,cAEzB,OADA,EAAKjB,YAAcd,GACZkI,GACH,KAAK7C,GAAMC,KAAKM,oBAChB,KAAKP,GAAMC,KAAKK,kBACZ,EAAKyB,eAAiB,sBACtB,MACJ,QAEI,EAAKA,eAAiB,eAE9B,MAAM,IAAI/F,MAAM,oBAEnB8G,QAAQpI,aAAO,WACZ,EAAK6H,YAAa,Q,sBAI9B,WAAoB,IAAD,OACfnI,KAAKmI,YAAa,EAClB,IAAMzD,EAAO,CACT1C,KAAMhC,KAAKyH,OAAOzF,KAClB0D,MAAO1F,KAAKyH,OAAO/B,MACnBC,SAAU3F,KAAKyH,OAAO9B,UAE1B,OAAOyC,GAAQO,SAASjE,GACnBa,KAAKjF,aAAO,YAAmB,IACtBkC,EADqB,EAAfV,SACaW,aACzB6F,EAAUC,QAAQ/F,EAAQtC,MAC1B2D,EAAS2E,SAAShG,EAAQtC,KAAKgB,WAElCuE,MAAMnF,aAAO,YAA0B,IAAvB4D,EAAsB,EAAtBA,MAAOpC,EAAe,EAAfA,SAEd2G,GADa3G,EAASS,gBACZT,EAASQ,cACnBE,EAAUV,EAASW,aAEzB,OAAOgG,GACH,KAAK7C,GAAMC,KAAKE,WACZ,EAAK6B,OAASpF,EAAQoF,OACtB,MACJ,KAAKhC,GAAMC,KAAKG,aACZ,EAAK4B,OAAS,CAAClC,MAAO,CAAEpE,QAAS,iBACjC,MACJ,QACI,EAAKqG,eAAiB,eAE9B,MAAMzD,MAETwE,QAAQpI,aAAO,WACZ,EAAK6H,YAAa,U,yCA5G7B9H,K,wEAAoB,CACjBqF,MAAO,GACPC,SAAU,GACV3D,KAAM,GACN0F,iBAAkB,O,iCAGrBpH,K,qGASAA,K,wGAOAA,K,4GAMAA,K,sHAMAA,K,wHAQAD,K,yEAAyBE,M,oCACzBF,K,wEAAoB,M,4CACpBA,K,wEAA4B,M,wCAC5BA,K,yEAAwB,K,iCAExBC,K,sGA6BAA,K,kFC5FC+C,GAAgBF,EAAoBqB,uCCW3B,O,4MARXoE,UAAY,SAAC3D,GACT,OAAO,EAAK3B,MAAMqB,KAAK,mBAAoB,CAACM,MAAOA,K,EAEvD4D,WAAa,SAACjE,GACV,OAAO,EAAKtB,MAAMwB,OAAX,sBAAiCF,K,kDAP5C,WACI,OAAO5E,KAAKsD,MAAMyB,IAAI,wB,IDE1B,aAAe,oBACX/E,KAAKsD,MAAQD,OEHR9C,GACH,OADGA,GAED,SAFCA,GAGA,UAGPuI,I,aACF,aAAe,yBAGfC,OAAS,CACLvB,OAAQ,CACJwB,UAAU,EAAMC,KAAM,UAE1B5B,MAAO,CACH2B,UAAU,EAAMC,KAAM,SAE1BC,OAAQ,CAAED,KAAM,WAVN,KAadE,kBAAehJ,EAbD,qLACVJ,YAAeC,M,oDAcnB,WACI,MAAO,CACHoJ,IAAK,aAAepJ,KAAKiF,MAAMjC,OAC/BwE,OAAQ,GACRH,MAAO,GACP6B,OAAQ,SAERG,OAAO,K,+BAIf,WAAqB,IAAD,OAChB,OAAOC,OAAOC,KAAKvJ,KAAK+I,QAAQS,QAAO,SAAAC,GAAK,OAAI,IAAS,EAAKV,OAAOU,GAAOT,c,6BAShF,SAAwBU,GACpB1J,KAAKuB,aAAemI,I,0BAGxB,WAAwB,IAAD,OACnB1J,KAAK2J,WAAY,EACjBC,GAASC,eACRtE,KAAKjF,aAAO,YAAmB,IACtBkC,EADqB,EAAfV,SACaW,aACzB,EAAKpB,YAAcd,GACnB,EAAK0E,MAAQzC,EAAQyC,UAExBQ,MAAMnF,aAAO,YAAyB,EAAtB4D,MAAsB,EAAfpC,SACpB,EAAKmD,MAAQ,GACb,EAAK5D,YAAcd,OAEtBmI,QAAQpI,aAAO,WACZ,EAAKqJ,WAAY,Q,+BAIzB,SAA0BG,GACtB9J,KAAK2J,WAAY,EACjB,IAAII,EAAO/J,KAAKiF,MAAM+E,MAAK,SAAAD,GAAI,OAAIA,EAAKX,MAAQU,KAChD,GAAKC,EAAL,CAIA,IAAMb,EAAyB,WAAhBa,EAAKb,OAAsB,SAAW,SAErD,GADAa,EAAI,OAAab,EACba,EAAKV,MACL,IACIrJ,KAAKiK,cAAcF,EAAM,CAACb,OAAQA,IAEtC,MAAOgB,GAEHlK,KAAKmK,gBAAgBD,EAAI5I,cAK7B,IACItB,KAAKoK,WAAWL,EAAM,CAACb,OAAQA,IAEnC,MAAOgB,GACHlK,KAAKmK,gBAAgBD,EAAI5I,a,0BAMrC,WACItB,KAAKiF,MAAMoF,KAAKrK,KAAKsK,sB,uBAGzB,SAAUC,GAENvK,KAAKmJ,aAAeoB,I,0BAGxB,SAAqBT,EAAQU,EAAWC,GACpC,IAAMV,EAAO/J,KAAKiF,MAAM+E,MAAK,SAAAD,GAAI,OAAIA,EAAKX,MAAQU,KAClD,GAAIC,EAAM,CACNA,EAAKS,GAAaC,EAClB,IAAMC,EAAgBC,GAAoBH,EAAWC,GACrD,IAAI,IAASC,EAQT,OAPI,IAAU,WAAYX,IAEtBA,EAAKnC,OAAS,IAIlBmC,EAAKnC,OAAO4C,GAAaE,EAAcF,IAChC,EAGHT,EAAKnC,QAAUmC,EAAKnC,OAAO4C,WAEpBT,EAAKnC,OAAO4C,GAI/B,OAAO,I,yBAGX,SAAoBV,EAAQ9H,EAAMZ,GAC9B,IAAMsD,EAAI,gBAAK1C,EAAOZ,GAChB2I,EAAO/J,KAAKiF,MAAM+E,MAAK,SAAAD,GAAI,OAAIA,EAAKX,MAAQU,KAClDC,EAAK/H,GAAQZ,EACR2I,IAKDA,EAAKV,MACLrJ,KAAKiK,cAAcF,GAGnB/J,KAAKoK,WAAWL,EAAMrF,M,2BAI9B,SAAsBqF,GAAO,IAAD,OACxB,IAAKA,EAAKV,MACN,MAAM,IAAIzH,MAAM,yBAEpB,IAAMgJ,EAAiB5K,KAAK6K,oBAC5B7K,KAAK4H,OAAS,GACd,IAAM8C,EAAgBC,GAAoBC,EAAgBb,GAC1D,IAAI,IAASW,EAAb,CAKA,IAAMI,EAAW,GACjBF,EAAeG,SAAQ,SAAAtB,GACnBqB,EAASrB,GAASM,EAAKN,MAE3BzJ,KAAK2J,WAAY,EACjBC,GAAShB,UAAUkC,GACdvF,KAAKjF,aAAO,YAAmB,IACtBkC,EADqB,EAAfV,SACaW,aACnBuI,EAAK,OAAGxI,QAAH,IAAGA,OAAH,EAAGA,EAASuH,KAAKX,IAExB4B,GACAjB,EAAKX,IAAM4B,SACJjB,EAAKV,OAIZ,EAAKc,gBAAgB,2CAG5B1E,MAAMnF,aAAO,YAAyB,EAAtB4D,MAAuB,IAAhBpC,EAAe,EAAfA,SACdU,EAAUV,GAAYA,EAASW,aACjCD,EAAQuG,QAAU,kBAAoBvG,EAAQuG,OAE9CgB,EAAKnC,OAASpF,EAAQuG,OAItB,EAAKoB,gBAAgB,oBAG5BzB,QAAQpI,aAAO,WACZ,EAAKqJ,WAAY,WAlCrBI,EAAKnC,OAAS8C,I,wBAsCtB,SAAmBX,GAAqB,IAAD,OAAdrF,EAAc,wDACnC,GAAIqF,EAAKV,MACL,MAAM,IAAIzH,MAAM,yCAEpB,GAAI,kBAAoB8C,EAEpB,MAAM,IAAI9C,MAAM,sBAEpB,IAAMkJ,EAAW,CAAC1B,IAAKW,EAAKX,KACtB6B,EAAW3B,OAAOC,KAAK7E,GAC7BuG,EAASF,SAAQ,SAAAtB,GACTA,KAASM,IACTe,EAASrB,GAAS/E,EAAK+E,GACvBM,EAAKN,GAAS/E,EAAK+E,OAG3B,IAAMiB,EAAgBC,GAAoBrB,OAAOC,KAAKuB,GAAWA,GAUjE,IARI,IAASJ,KACL,IAAU,WAAYX,EAAKnC,SAC3BmC,EAAKnC,OAAS,IAElB0B,OAAOC,KAAKmB,GAAeK,SAAQ,SAAA9I,GAC/B8H,EAAKnC,OAAO3F,GAAOyI,EAAczI,OAGrC8H,EAAKnC,QAAU0B,OAAOC,KAAKQ,EAAKnC,QAAQ5E,OAAS,EACjD,OAAO,EAEXhD,KAAK2J,WAAY,EACjBC,GAAShB,UAAUkC,GAClBvF,KAAKjF,aAAO,YAAkB,EAAfwB,SAEZoJ,YAAW,WACP,EAAK/B,aAAagC,UACnB,OAEN1F,MAAMnF,aAAO,YAAyB,EAAtB4D,MAAuB,IAAhBpC,EAAe,EAAfA,SACpB,GAAIA,EAAU,CACV,GAA8B,OAA1BA,EAASQ,aAMT,OAJA,EAAK6H,gBAAgB,8CACrBe,YAAW,WACP,EAAKE,cACN,KAGP,IAAM5I,EAAUV,EAASW,cACJD,EAAQuG,QAAU,kBAAoBvG,EAAQuG,QAAW,QAE1EgB,EAAKnC,OAASpF,EAAQuG,aAKjCL,QAAQpI,aAAO,WACZ,EAAKqJ,WAAY,Q,wBAIzB,SAAmBG,GAAS,IAAD,OACnBuB,GAAa,EACbC,EAAgBtL,KAAKiF,MAAMuE,QAAO,SAAAO,GAClC,OAAIA,EAAKX,MAAQU,IACbuB,EAAatB,GACN,MAKVsB,IAMDrL,KAAK2J,WAAY,EACjBC,GAASf,WAAWiB,GACnBvE,KAAKjF,aAAO,YAAkB,EAAfwB,SACZ,EAAKmD,MAAQqG,MAEhB7F,MAAMnF,aAAO,YAA0B,IAAvB4D,EAAsB,EAAtBA,MAAOpC,EAAe,EAAfA,SACdR,EAAW4C,GAASA,EAAM3B,iBAAoB,uBAChDT,GAAY,OAASA,EAASQ,aAC9B,EAAK2C,MAAQqG,EAGb,EAAKnB,gBAAgB7I,OAG5BoH,QAAQpI,aAAO,WACZ,EAAKqJ,WAAY,W,8CAtP5BtJ,K,yEAAyBE,M,mCACzBF,K,wEAAmB,M,kCACnBA,K,yEAAkB,K,0CAClBA,K,wEAA0B,M,uCAC1BA,K,yEAAuB,K,2CAEvBC,K,oHAIAA,K,sHAiBAA,K,sHA8BAA,K,iHASAA,K,gHAyBAA,K,iHAiBAA,K,gHA+CAA,K,6GA4DAA,K,0EAuCQqK,GAAsB,SAAC5B,GAAwB,IAAhBrE,EAAe,uDAAP,GAC1C6G,EAAa,kBAAoBxC,EAAS,CAACA,GAAUA,EAC3D,GAAIyC,MAAMC,QAAQF,GAAa,CAC3B,IAAM3D,EAAS,GAoBf,OAnBA2D,EAAWR,SAAQ,SAAAtB,GACf,IAAIiC,EACJ,OAAOjC,GACH,IAAK,QACDiC,EAAetE,GACf,MACJ,IAAK,SACDsE,EAAenE,GACf,MACJ,QAASmE,OAAevL,EAE5B,GAAIuL,EAAc,CACd,IACMC,EAAUD,EADoB,IAAtBH,EAAWvI,OAAesE,OAAO5C,GAAQA,EAAK+E,KAExD,IAASkC,IACT/D,EAAO6B,GAASkC,QAIrBrC,OAAOC,KAAK3B,GAAQ5E,QAAS4E,IAI7B,OAAIkB,G,wDChTJ8C,GAfM,SAAC,GAAqC,IAAzBC,EAAwB,EAAnCC,UAAyB/I,EAAU,8BACtD,OAGI,cAFA,CAEC,KAAD,2BAAWA,GAAX,IAAiBgJ,OAAQ,SAAAC,GAAK,OAC1BjJ,EAAKkJ,WACD,eAACJ,EAAD,eAAeG,IACb,eAAC,KAAD,CAAUE,GAAI,CACZC,SAAU,SACVC,KAAMrJ,EAAKsJ,SAASF,iBCFzBG,I,OANE,SAAC,GAAD,IAAGD,EAAH,EAAGA,SAAH,OACd,sBAAKE,UAAU,eAAf,SACG,sBAAIA,UAAU,cAAd,yCAAwD,gCAAOF,EAASF,kBCY/DK,GAdI,SAAC,GAAqC,IAAzBX,EAAwB,EAAnCC,UAAyB/I,EAAU,8BACpD,OAKI,cAHA,CAGC,KAAD,2BAAWA,GAAX,IAAiBgJ,OAAQ,SAAAC,GAAK,OAC1BjJ,EAAKkJ,YAAclJ,EAAK3C,QACpB,eAACyL,EAAD,eAAeG,IACb,eAAC,GAAD,eAAaA,SCWhBS,I,yDApBd,WAAYT,GAAQ,IAAD,8BAClB,cAAMA,IACDU,gBAAkB,EAAKV,MAAMU,iBAAmB,UACrD,EAAKC,MAAQ,EAAKX,MAAMW,OAAS,UAHf,E,0CAKnB,WACC,IAAMC,EAAa,CAClBF,gBAAiB1M,KAAK0M,gBACtBC,MAAO3M,KAAK2M,OAEb,OACC,uBAAKJ,UAAU,QAAQM,MAAOD,EAA9B,UACC,wCACA,wCACA,+C,GAfgBE,IAAMjB,Y,UCsBXkB,GApBdC,YAAO,W,GACPA,YAAO,Y,iKAEP,WAAY,IAAD,OACJ5E,GAAQ6E,SAASvE,SAAQ,WACrB,EAAKsD,MAAM1D,UAAUC,aAAQpI,GAC7B,EAAK6L,MAAMnI,SAASqJ,kB,oBAG/B,WAEO,OAAIlN,KAAKgM,MAAM1D,UAAU2D,WAEjB,eAACkB,GAAA,EAAD,CAAMC,KAAK,IAAIC,QAASrN,KAAKsN,SAASC,KAAKvN,MAA3C,oBAGD,O,GAdU8M,IAAMjB,a,8ECWhB2B,GAZdR,YAAO,W,IACPS,Y,+MAEGC,YAAc,SAAAC,GACV,IAAMC,GAAW,EAAK5B,MAAMnI,SAASjD,eACrC,EAAKoL,MAAMnI,SAASgK,kBAAkBD,I,4CAE1C,WACI,IAAIE,EAAO9N,KAAKgM,MAAMnI,SAASjD,eAAiB,eAAC,KAAD,IAAqB,eAAC,KAAD,IACrE,OAAO,eAACmN,GAAA,EAAD,CAAYV,QAASrN,KAAK0N,YAAanB,UAAU,gBAAjD,SAAkEuB,Q,GAPrDhB,IAAMkB,iB,QCyCnBC,I,OAxCdjB,YAAO,Y,IACPA,YAAO,W,gKAEJ,WACI,IAAM1E,EAAYtI,KAAKgM,MAAM1D,UACzB4F,EAAQ,GACZ,QAAO,GACH,KAAK5F,EAAU2D,WACf,KAAK3D,EAAUlI,QACX8N,EAAM7D,KACF,eAAC,GAAD,GAAgB,UAChB,eAAC8C,GAAA,EAAD,CAAmBrB,UAAWqC,IAAYjC,GAAG,UAA7C,mBAAU,UACV,eAACiB,GAAA,EAAD,CAAoBrB,UAAWqC,IAAYjC,GAAE,YAAO5D,EAAUpI,KAAK8B,MAAnE,oBAAU,YAEVsG,EAAUlI,SACV8N,EAAM7D,KAAK,eAAC8C,GAAA,EAAD,CAAkBrB,UAAWqC,IAAYjC,GAAG,SAA5C,kBAAU,UAEzB,MACJ,QACIgC,EAAM7D,KACF,eAAC8C,GAAA,EAAD,CAAkBrB,UAAWqC,IAAYjC,GAAG,SAA5C,kBAAU,SACV,eAACiB,GAAA,EAAD,CAAqBrB,UAAWqC,IAAYjC,GAAG,YAA/C,qBAAU,aAItB,OACI,eAACkC,GAAA,EAAD,CAAQC,SAAS,SAAS1B,MAAO3M,KAAKgM,MAAMnI,SAASjD,eAAiB,UAAY,UAAlF,SACI,gBAAC0N,GAAA,EAAD,CAAS/B,UAAU,WAAnB,UACI,sBAAKA,UAAU,WAAf,SACK2B,IAEL,sBAAK3B,UAAU,oBAAf,SACI,eAAC,GAAD,e,GA9BHO,IAAMjB,a,SCUZ0C,I,mKAfd,WACC,OACU,kCACI,eAACH,GAAA,EAAD,CAAQC,SAAS,SAAS1B,MAAM,UAAhC,SACI,eAAC2B,GAAA,EAAD,CAAS/B,UAAU,SAASI,MAAM,UAAlC,SACI,6CACa,eAACQ,GAAA,EAAD,CAAMC,KAAK,sBAAX,mBAA6C,sCAAQN,IAAM0B,QAAd,oB,GAP7D1B,IAAMjB,Y,kDCyFZ4C,I,OArFdzB,YAAO,Y,IACPS,Y,+MAMAiB,aAAe,SAAAnE,GACRA,EAAEoE,iBACF,EAAK3C,MAAM4C,UAAUvG,QAChB9C,MAAK,WACF,IAAM6G,EAAO,EAAKJ,MAAM6C,QAAQxC,SAASD,KACrCA,IAAQ,IAAUA,EAAK0C,WAAW,UAClC,EAAK9C,MAAM6C,QAAQE,QAAQ3C,GAG/B,EAAKJ,MAAM6C,QAAQE,QAAQ,QAE9BtJ,OAAM,SAAC8E,Q,EAKnByE,kBAAoB,SAAAzE,GAEb,EAAKyB,MAAM4C,UAAUK,SAAS1E,EAAE2E,OAAO9N,Q,EAG9C+N,qBAAuB,SAAA5E,GAChB,EAAKyB,MAAM4C,UAAUQ,YAAY7E,EAAE2E,OAAO9N,Q,0DA1B9C,WACIpB,KAAKgM,MAAM4C,UAAUS,U,oBA4B5B,WAEC,IAAMzH,EAAS5H,KAAKgM,MAAM4C,UAAUhH,OAC9BD,EAAiB3H,KAAKgM,MAAM4C,UAAUjH,eAC5C,OACC,eAAC2H,GAAA,EAAD,CAAWC,SAAS,KAApB,SACC,uBAAKhD,UAAU,aAAf,UACC,qBAAIA,UAAU,cAAd,wBACA,wBAAMiD,SAAUxP,KAAK0O,aAAce,YAAU,EAA7C,UACC,eAACC,GAAA,EAAD,CAAanD,UAAU,sBAAvB,SACC,eAACoD,GAAA,EAAD,CACC3N,KAAK,QACL4N,MAAM,SACNxO,MAAOpB,KAAKgM,MAAM4C,UAAUnH,OAAO/B,MACnCmK,WAAS,EACTC,QAAQ,WACRC,KAAK,OACLC,SAAUhQ,KAAKgP,kBACf9K,SAAQ,OAAC0D,QAAD,IAACA,OAAD,EAACA,EAAQlC,WAEnB,eAACgK,GAAA,EAAD,CAAanD,UAAU,sBAAvB,SACC,eAACoD,GAAA,EAAD,CACC3N,KAAK,WACL4N,MAAM,YACNxO,MAAOpB,KAAKgM,MAAM4C,UAAUnH,OAAO9B,SACnCkK,WAAS,EACTC,QAAQ,WACRC,KAAK,WACLC,SAAUhQ,KAAKmP,qBACfjL,SAAQ,OAAC0D,QAAD,IAACA,OAAD,EAACA,EAAQjC,cAEnB,gBAAC+J,GAAA,EAAD,CAAaxL,QAASyD,EAAe3E,OAAQuJ,UAAU,0BAAvD,UACEvM,KAAKgM,MAAM4C,UAAUzG,YAAc,eAAC,GAAD,IACpC,eAAC8H,GAAA,EAAD,UAAiBtI,OAElB,eAAC+H,GAAA,EAAD,UACC,eAACQ,GAAA,EAAD,CAAQJ,QAAQ,YAAYnD,MAAM,UAAUkD,WAAS,EAACE,KAAK,SAClCI,SAAUnQ,KAAKgM,MAAM4C,UAAUzG,WADxD,qBAID,oBAAGoE,UAAU,gBAAb,SACC,eAACY,GAAA,EAAD,CAAMR,MAAM,UAAUb,UAAWsE,IAAYlE,GAAG,YAAhD,8D,GAvEaY,IAAMjB,a,SCiHXwE,I,OArHdrD,YAAO,Y,IACPS,Y,+MAMGiB,aAAe,SAAAnE,GACXA,EAAEoE,iBACF,EAAK3C,MAAM4C,UAAUjG,WAChBpD,MAAK,WACF,EAAKyG,MAAM6C,QAAQE,QAAQ,QAE9BtJ,OAAM,SAAA8E,Q,EAKf+F,iBAAmB,SAAA/F,GACf,EAAKyB,MAAM4C,UAAU2B,QAAQhG,EAAE2E,OAAO9N,Q,EAG1CoP,kBAAoB,SAAAjG,GAChB,EAAKyB,MAAM4C,UAAUK,SAAS1E,EAAE2E,OAAO9N,Q,EAG3C+N,qBAAuB,SAAA5E,GACnB,EAAKyB,MAAM4C,UAAUQ,YAAY7E,EAAE2E,OAAO9N,Q,EAG9CqP,4BAA8B,SAAAlG,GAC1B,EAAKyB,MAAM4C,UAAU8B,mBAAmBnG,EAAE2E,OAAO9N,Q,0DA5BrD,WACIpB,KAAKgM,MAAM4C,UAAUS,U,oBA8BzB,WAAU,IAAD,QACCzH,EAAS5H,KAAKgM,MAAM4C,UAAUhH,OAE9B+I,GAAuB,OAAN/I,QAAM,IAANA,GAAA,UAAAA,EAAQ5F,YAAR,eAAcV,UAAW,kEAC1CsP,GAAwB,OAANhJ,QAAM,IAANA,GAAA,UAAAA,EAAQlC,aAAR,eAAepE,UAAW,mBAC5CuP,GAAuC,OAANjJ,QAAM,IAANA,GAAA,UAAAA,EAAQF,wBAAR,eAA0BpG,UAAW,gCACtEwP,GAA2B,OAANlJ,QAAM,IAANA,GAAA,UAAAA,EAAQjC,gBAAR,eAAkBrE,UAAW,mGAClDqG,EAAiB3H,KAAKgM,MAAM4C,UAAUjH,eAC5C,OACI,eAAC2H,GAAA,EAAD,CAAWC,SAAS,KAApB,SACI,uBAAKhD,UAAU,gBAAf,UACI,qBAAIA,UAAU,cAAd,+BAEA,wBAAMiD,SAAUxP,KAAK0O,aAArB,UACI,gBAACgB,GAAA,EAAD,WACI,eAACC,GAAA,EAAD,CACI3N,KAAK,OACLgO,SAAUhQ,KAAKsQ,iBACvCpM,SAAQ,OAAC0D,QAAD,IAACA,OAAD,EAACA,EAAQ5F,MACO4C,GAAG,OACHgL,MAAM,QACNC,WAAS,EACTC,QAAQ,eAETlI,EAAO5F,MAAQ,eAACiO,GAAA,EAAD,CAAgB/L,OAAO,EAAMqI,UAAU,cAAvC,SAAsDoE,OAG5E,gBAACjB,GAAA,EAAD,WACI,eAACC,GAAA,EAAD,CACIK,SAAUhQ,KAAKwQ,kBACfxO,KAAK,QAC7BkC,SAAQ,OAAC0D,QAAD,IAACA,OAAD,EAACA,EAAQlC,OACOmK,WAAS,EACTD,MAAM,SACNE,QAAQ,eAETlI,EAAOlC,OAAS,eAACuK,GAAA,EAAD,CAAgB/L,OAAO,EAAMqI,UAAU,cAAvC,SAAsDqE,OAG7E,gBAAClB,GAAA,EAAD,WACI,eAACC,GAAA,EAAD,CACIK,SAAUhQ,KAAKmP,qBACfjL,SAAQ,OAAC0D,QAAD,IAACA,OAAD,EAACA,EAAQjC,UACjB3D,KAAK,WACL6N,WAAS,EACTD,MAAM,YACNE,QAAQ,WACRC,KAAK,eAENnI,EAAOjC,UAAY,eAACsK,GAAA,EAAD,CAAgB/L,OAAO,EAAMU,GAAG,iBAAhC,SAAkDkM,OAG5E,gBAACpB,GAAA,EAAD,WACI,eAACC,GAAA,EAAD,CACIK,SAAUhQ,KAAKyQ,4BACfvM,SAAQ,OAAC0D,QAAD,IAACA,OAAD,EAACA,EAAQF,kBACjB1F,KAAK,mBACL6N,WAAS,EACTD,MAAM,oBACNE,QAAQ,WACRC,KAAK,eAENnI,EAAOF,kBAAoB,eAACuI,GAAA,EAAD,CAAgB/L,OAAO,EAAvB,SAA+B2M,OAGjE,gBAACnB,GAAA,EAAD,CAAaxL,QAASyD,EAAe3E,OAAQuJ,UAAU,iBAAvD,UACKvM,KAAKgM,MAAM4C,UAAUzG,YAAc,eAAC,GAAD,IACpC,eAAC8H,GAAA,EAAD,UAAiBtI,OAGrB,eAAC+H,GAAA,EAAD,UACI,eAACQ,GAAA,EAAD,CAAQJ,QAAQ,YAAYnD,MAAM,UAAWkD,WAAS,EAACE,KAAK,SACxDI,SAAUnQ,KAAKgM,MAAM4C,UAAUzG,WADnC,oC,GAvGL2E,IAAMjB,a,mBCTvBkF,G,2FACF,SAAY/E,GAAQ,IAAD,OACf1C,OAAOC,KAAKyC,GAAOjB,SAAQ,SAAA9I,GACvB,EAAKA,GAAO+J,EAAM/J,U,KAKjB+O,GAAb,kDACI,aAAwB,IAAD,EAAXjH,EAAW,uDAAJ,GAAI,4BACnB,gBACKX,IAAM,GACX,EAAK5B,OAAS,GACd,EAAKyJ,YAAYlH,GAJE,EAD3B,UAA0BgH,IASbG,GAAb,kDACI,aAAwB,IAAD,EAAXhR,EAAW,uDAAJ,GAAI,4BACnB,gBACKkJ,IAAM,GACX,EAAKpH,KAAO,GACZ,EAAK0D,MAAQ,GACb,EAAKuL,YAAY/Q,GALE,EAD3B,UAA0B6Q,IAUbI,GAAb,kDACI,aAAyB,IAAD,EAAZxD,EAAY,uDAAJ,GAAI,4BACpB,gBACKvE,IAAO,GACZ,EAAKW,KAAO,IAAIiH,GAChB,EAAK9Q,KAAO,IAAIgR,GAChB,EAAK7J,MAAQ,GACb,EAAK+J,YAAc,GACnB,EAAKC,WAAa,GAClB,EAAKC,SAAW,GAEhB,EAAKL,YAAYtD,GAVG,EAD5B,UAA2BoD,I,oBCvBdQ,GAAb,qKAEI,SAAkBpM,GAAoB,IAAdqM,EAAa,uDAAJ,GAC7B,OAAOC,KAAMtM,GAAMqM,OAAOA,KAHlC,8BAUI,SAAwBrM,GAAqC,IAA/BqM,EAA8B,uDAArB,oBACnC,OAAOC,KAAMtM,GAAMqM,OAAOA,OAXlC,GAAiCL,I,UCDZO,G,kDACjB,WAAY1F,GAAQ,IAAD,8BACf,cAAMA,IACDtH,KAAO,GACmB,kBAApB,EAAKsH,MAAMtH,MAAqB,EAAKsH,MAAMtH,gBAAgB4C,OAClE,EAAK5C,KAAK2F,KAAK,EAAK2B,MAAMtH,MAG1B,EAAKA,KAAO,EAAKsH,MAAMtH,KAE3B,EAAKiN,SAAW,EAAK3F,MAAM2F,UAAY,QATxB,E,0CAWnB,WACI,OACI,eAACC,GAAA,EAAD,CAAOrF,UAAU,cAAcoF,SAAU3R,KAAK2R,SAA9C,SACK3R,KAAK0E,KAAKmN,KAAI,SAACC,EAAKC,GAAN,OACX,+BAAkBD,GAARC,Y,GAhBWjF,IAAMjB,WCA1BmG,G,kDACjB,WAAYhG,GAAQ,IAAD,8BACf,cAAMA,IACDtH,KAAO,GACmB,kBAApB,EAAKsH,MAAMtH,MAAqB,EAAKsH,MAAMtH,gBAAgB4C,OAClE,EAAK5C,KAAK2F,KAAK,EAAK2B,MAAMtH,MAG1B,EAAKA,KAAO,EAAKsH,MAAMtH,KAE3B,EAAKiN,SAAW,EAAK3F,MAAM2F,UAAY,QATxB,E,0CAWnB,WACI,OACI,eAACC,GAAA,EAAD,CAAOrF,UAAU,WAAWoF,SAAU3R,KAAK2R,SAA3C,SACK3R,KAAK0E,KAAKmN,KAAI,SAACC,EAAKC,GAAN,OACX,+BAAkBD,GAARC,Y,GAhBQjF,IAAMjB,WC0F7BoG,I,OA5EdjF,YAAO,e,IACPA,YAAO,Y,IACPS,Y,+MAKGyE,gBAAkB,WACd,IAAIC,EAAU,EACV3M,EAAS,GAsBb,OArBK,EAAKwG,MAAMoG,aAAa5M,OAAOxC,OAKhCwC,EACI,EAAKwG,MAAMoG,aAAa5M,OAAOqM,KAAI,SAAClE,EAAOoE,GAAR,OAC/B,gBAACM,GAAA,EAAD,CAAsBC,MAAI,EAACC,GAAI,EAAGhG,UAAU,QAA5C,UACI,0CAAYoB,EAAM5D,KAAKvC,UACvB,2CAAamG,EAAMtG,SACnB,gDAAkBkK,GAAYiB,iBAAiB7E,EAAM0D,eACrD,gDAAkBE,GAAYiB,iBAAiB7E,EAAM2D,aACrD,iCACI,4CAAc3D,EAAMzE,UACpB,eAACiE,GAAA,EAAD,CAAMrB,UAAW2G,IAAY9F,MAAM,YAAYT,GAAE,yBAAoByB,EAAMvE,KAA3E,oBAFJ,YAGI,eAAC+D,GAAA,EAAD,CAAMrB,UAAW2G,IAAY9F,MAAM,YAAYT,GAAE,yBAAoByB,EAAMvE,KAA3E,yBARGuE,EAAMvE,SANzB5D,EAAS,0DACT2M,EAAU,GAoBV,uBAAK5F,UAAU,SAAf,UACI,gBAAC8F,GAAA,EAAD,CAAMK,WAAS,EAACnG,UAAU,WAAW4F,QAAS,EAA9C,UACI,eAACE,GAAA,EAAD,CAAMC,MAAI,EAAV,SACI,wCAAU,EAAKtG,MAAM1D,UAAUpI,KAAK8B,UAExC,eAACqQ,GAAA,EAAD,CAAMC,MAAI,EAAV,SACI,yCAAW,EAAKtG,MAAM1D,UAAUpI,KAAKwF,WAEzC,eAAC2M,GAAA,EAAD,CAAMC,MAAI,EAAV,SACI,wCAAU,EAAKtG,MAAM1D,UAAUlI,QAAS,QAAU,eAG1D,yCACA,eAACiS,GAAA,EAAD,CAAMK,WAAS,EAACnG,UAAU,aAAa4F,QAASA,EAAhD,SACK3M,Q,gGA1CjB,uBAAAmN,EAAA,sDACI3S,KAAKgM,MAAMoG,aAAaQ,cAD5B,gD,0EA+CA,WAEI,IAAI9G,EAAY,KAChB,OAAO9L,KAAKgM,MAAMoG,aAAa/Q,aAC3B,KAAKd,GACDuL,EAAY,eAAC,GAAD,IACR,MACR,KAAKvL,GACDuL,EAAY9L,KAAKkS,kBACjB,MACJ,KAAK3R,GACDuL,EAAY,eAAC,GAAD,CAAapH,KAAK,iBAC9B,MACJ,QACIoH,EAAY,eAAC,GAAD,CAAUpH,KAAK,sBAEnC,OACI,eAAC4K,GAAA,EAAD,CAAWC,SAAS,KAAKhD,UAAS,uBAAkBvM,KAAKgM,MAAMoG,aAAa/Q,aAA5E,SACKyK,Q,GAlEKgB,IAAMkB,iB,qDClBfzN,GAAgB,CACzBsS,KAAM,OACN/M,QAAS,UACTgN,OAAQ,UAGCC,GAAkB,CAC3B1R,YAAad,GAAcsS,KAC3BlL,eAAgB,KAChBC,OAAQ,GACR+B,WAAW,GAGMqJ,G,kDACpB,WAAYhH,GAAQ,IAAD,8BAClB,cAAMA,IAYJiH,oBAAsB,SAAC3R,GAAwB,IAAf4R,EAAc,uDAAP,GAC7BC,EAAW,CACbxL,eAAgBrG,EAChBD,YAAad,GAAcuF,SAEzBsN,EAAQ9J,OAAO+J,OAAOF,EAAUD,GACtC,OAAOE,GAnBK,EAwCnBE,MAAQ,SAAC5Q,GAAwB,IAAnB6Q,IAAkB,yDAC/B,EAAKC,SAAS9Q,GACV6Q,GACH,EAAKE,oBAzCA,EAAKL,MAAQL,GAFD,E,oDAInB,WACC,IACMW,EADY1T,KAAK2T,YAAY3R,KACH,WAC1B4R,EAAUC,SAASC,cAAc,IAAMJ,GACzCE,GACHA,EAAQG,eAAe,CAACC,SAAU,a,qCAajC,SAAwB1S,GAAqB,IAAZ4R,EAAW,uDAAJ,GAC9BC,EAAW,CACbxL,eAAgBrG,EAChBD,YAAad,GAAcuF,SAEzBsN,EAAQ9J,OAAO+J,OAAOF,EAAUD,GACtC,OAAOE,I,qCAGX,SAAwB9R,GAAkC,IAAzBsG,EAAwB,uDAAf,GAAIsL,EAAW,uDAAJ,GAC3CC,EAAW,CACbxL,eAAgBrG,EAChBsG,OAAQA,GAENwL,EAAQ9J,OAAO+J,OAAOF,EAAUD,GACtC,OAAOE,M,GAtC4BtG,IAAMjB,W,kDCG3CoI,I,OACS,aADTA,GAEQ,WAFRA,GAGO,UAIPC,GADLlH,YAAO,Y,sDAGJ,WAAYhB,GAAQ,IAAD,8BACf,cAAMA,IAwEVmI,aAAe,SAACC,GACZ,EAAKC,iBAAiBD,GACtB,EAAKZ,SAAS,CAAEc,aAAc,EAAKC,SAAS,EAAKC,YACjD,EAAKC,kBACL,EAAKC,mBA7EU,EAuGnBC,SAAW,WACH,EAAKC,kBAAoBpU,OAAOqU,aAChC,EAAKC,oBACL,EAAKJ,kBACL,EAAKE,gBAAkBpU,OAAOqU,aA3GnB,EAyHnBE,mBAAqB,WACjB,IAAMC,EAAmB,EAAKC,YAAYC,QAAQpB,cAAc,mBAAmBqB,YAC7EC,EAAe,EAAKC,6BAE1B,OADYC,WAAWN,EAAmBI,IA5H3B,EA8JnBN,kBAAoB,WAChB,IAAMS,EAAc,EAAKR,qBACzB,EAAKE,YAAYC,QAAQM,iBAAiB,YAAYzK,SAAQ,SAAAuH,GAC1DA,EAAKzF,MAAM4I,SAAWF,EAAc,KACpCjD,EAAKzF,MAAM0C,SAAWgG,EAAc,KACpCjD,EAAKzF,MAAM6I,MAAQH,EAAc,SAnKtB,EAuKnBhC,OAAS,WAAqB,IAApBoC,IAAmB,yDACnBC,EAAW,EAAKxC,MAAMkB,aAAa1E,MACnCiG,EAAc,EAAKZ,YAAYC,QAAQpB,cAAc,gBACrDgC,EAAiB,EAAKb,YAAYC,QAAQpB,cAAc,mBACxDiC,EAAU,EAAKd,YAAYC,QAAQpB,cAAc,SACjDkC,EAAU,EAAKf,YAAYC,QAAQpB,cAAc,SACnDmC,EAAa/T,SAAS2T,EAAYhJ,MAAMqJ,OAAS,EACjDC,EAAS,KACPC,EAAU,EAAKnB,YAAYC,QAAQpB,cAAzB,6BAA6D8B,EAA7D,OACZS,EAAaD,EAAQjB,YAEzBgB,EAASR,EAAUM,EAAaI,EAAaJ,EAAaI,EAE1D,IAAIC,EAAe,EAEfC,EAAgBV,EAAYV,YAAcW,EAAeX,YAEzDgB,GAAUG,GACVH,EAAS,EACTJ,EAAQS,aAAa,YAAY,IAGjCT,EAAQU,gBAAgB,YAGxBC,KAAKC,IAAIR,IAAWI,GACpBJ,GAAWI,EACXP,EAAQQ,aAAa,YAAY,IAGjCR,EAAQS,gBAAgB,YAG5BZ,EAAYhJ,MAAMqJ,KAAOC,EAAS,MAxMnB,EA4MnBS,cAAgB,WACZ,EAAKC,wBACL,EAAKtD,UA9MU,EAiNnBuD,aAAe,WACX,EAAKD,wBACL,EAAKtD,QAAO,IAnNG,EAsNnBwD,aAAe,SAACC,GACM,SAAdA,EACA,EAAKF,eAEc,UAAdE,GACL,EAAKJ,iBA3NM,EA+NnBK,sBAAwB,SAAC1M,EAAGyM,GACP,IAAbzM,EAAE2M,SACN3M,EAAE4M,kBACEH,IACA,EAAKI,0BAA4BC,aAAY,WACzC,EAAKC,uBAAwB,EAC7B,EAAKP,aAAaC,KACnB,QAtOQ,EA0OnBO,oBAAsB,SAAChN,EAAGyM,GACL,IAAbzM,EAAE2M,SACN3M,EAAE4M,kBACG,EAAKG,uBACN,EAAKP,aAAaC,GAEtB,EAAKM,uBAAwB,EAC7BE,cAAc,EAAKJ,6BAjPJ,EA4QnBK,gBAAkB,SAAClN,GACf,IAAMqF,EAAQrF,EAAEmN,cAAcC,QAAQ/H,MACtC,EAAKgI,YAAYrN,EAAEmN,eACnB,EAAKG,WAAWjI,GAChB,EAAKkI,kBAAoBvN,EAAEmN,eAhRZ,EAmRnBK,gBAAkB,WACd,EAAK9C,YAAYC,QAAQM,iBAAiB,YAAYzK,SAAQ,SAACiN,EAAKjG,GAC5D,EAAKkG,SAAS,IAAMlG,GAAS,EAAKkG,SAAS,IACxC,EAAKA,SAAS,IAAMlG,GAAS,EAAKkG,SAAS,GAC9CD,EAAIE,UAAUC,IAAI,gBAGlBH,EAAIE,UAAUE,OAAO,oBA1Rd,EA+RnBC,YAAc,WACV,OAAO,EAAKJ,SAASzO,QAAO,SAAApI,GAAK,OAAIA,KAAOkX,OAAOzG,KAAI,SAAA0G,GAEnD,OADY,EAAKC,aAAaC,MAAMF,GAAW3I,UAjSpC,EA4XnBiI,WAAa,SAACjI,GACV,EAAK4D,SAAS,CAAEc,aAAc,EAAKC,SAAS3E,MA7X7B,EAqYnB8I,eAAiB,WACb,IAAIC,EAAO,CAAE,EAAK5O,KAAKX,KACJ,EAAKiP,cACbtN,SAAQ,SAAA6E,GACf+I,EAAKtO,KACDoH,KAAM,GAAD,OAAIA,KAAM,EAAKtM,MAAMqM,OAAO,cAA5B,YAA6C5B,IAAS4B,OAAO,wBAG1E,IAAMoH,EAAO,eAAiBD,EAAKE,KAAK,KACxC,EAAKrF,SAAS,CAAEsF,cAAeF,KA5Y/B,EAAK3D,YAAcnI,IAAMiM,YAEzB,EAAKC,YAAc,EAAKhN,MAAMgN,YAE9B,EAAK3E,iBAAiB,EAAKrI,OAE3B,EAAKoH,MAAQ,CACT0F,cAAe,KACfxE,aAAc,EAAKC,SAAS,EAAKC,WAErC,EAAK4C,2BAA4B,EACjC,EAAKE,uBAAwB,EAC7B,EAAK1C,gBAAkB,KACvB,EAAKkD,uBAAoB3X,EAfV,E,oDAkBnB,SAAiB6L,GACbhM,KAAKmF,KAAO6G,EAAM7G,KAClBnF,KAAK+J,KAAOiC,EAAMjC,KAElB/J,KAAKwY,aAAexM,EAAMuI,SAC1BvU,KAAKwU,SAAWxU,KAAKwY,aAAahE,SAClCxU,KAAKuU,SAAWvU,KAAKiZ,aAAajZ,KAAK+J,KAAKvE,QAE5CxF,KAAKkZ,iB,kCAGT,WAAqC,IAAhBnH,EAAe,wDAC3BA,IACDA,EAAQ/R,KAAKwY,aAAaW,UAG1BpH,EAAQ,IACRA,EAAQ,GAGZ,IAAMqD,EAAepV,KAAKqV,6BACtBtD,EAAQ/R,KAAKwY,aAAaC,MAAMzV,OAASoS,IACzCrD,EAAQ/R,KAAKwY,aAAaC,MAAMzV,OAASoS,GAG7CpV,KAAK6W,sBAAwB9E,I,0BAGjC,WACI/R,KAAKiY,SAAW,CAACmB,IAAKA,O,mCAG1B,SAAsBhF,EAAWiF,GAC7B,GAAIrZ,KAAKgM,MAAMjC,KAAKvE,OAAOxC,SAAWoR,EAAUrK,KAAKvE,OAAOxC,OAAQ,CAChE,IAEMsW,EAFItZ,KAAKgM,MAAMjC,KAAKvE,OAAOqM,KAAI,SAAAlE,GAAK,OAAIA,EAAMvE,OAAKyP,KAAK,OACjDzE,EAAUrK,KAAKvE,OAAOqM,KAAI,SAAAlE,GAAK,OAAIA,EAAMvE,OAAKyP,KAAK,KAKhE,OAHIS,GACAtZ,KAAKmU,aAAaC,GAEfkF,EAGX,OAAI7H,KAAM2C,EAAUjP,MAAMwG,WAAa3L,KAAKgM,MAAM7G,OAASiP,EAAUjP,MACjEnF,KAAKmU,aAAaC,IACX,IAGPpU,KAAKoT,MAAMkB,aAAa1E,MAAUyJ,EAAU/E,aAAa1E,OAClD,K,6BAaf,WACI5P,KAAK+X,kBACL,IAAMwB,EAAUvZ,KAAKiV,YAAYC,QAAQM,iBAAiB,aACtD+D,GACAA,EAAQxO,SAAQ,SAAAmM,GACZA,EAAOgB,UAAUE,OAAO,iB,+BAKpC,WACIpY,KAAKwZ,uBACLxZ,KAAK8U,oBACL9U,KAAK0U,kBAEL,IAAMmB,EAAc7V,KAAKiV,YAAYC,QAAQpB,cAAc,mBAC3D5I,YAAW,WACP2K,EAAYqC,UAAUE,OAAO,aAC/B,GACFpY,KAAK4U,gBAAkBpU,OAAOqU,WAC9BrU,OAAOC,iBAAiB,SAAUT,KAAK2U,Y,kCAW3C,WACInU,OAAOiZ,oBAAoB,SAAUzZ,KAAK2U,Y,wCAG9C,WACI,IAAMK,EAAmBhV,KAAKiV,YAAYC,QAAQpB,cAAc,mBAAmBqB,YAEnF,OADc,EAAIjT,SAAS8S,EAAmB,O,6BAWlD,WAAmB,IAAD,OACRa,EAAc7V,KAAKiV,YAAYC,QAAQpB,cAAc,gBACrDkB,EAAmBhV,KAAKiV,YAAYC,QAAQpB,cAAc,mBAAmBqB,YAC7Ea,EAAUhW,KAAKiV,YAAYC,QAAQpB,cAAc,SACjDiC,EAAU/V,KAAKiV,YAAYC,QAAQpB,cAAc,SACnDoC,EAAO,EACPK,EAAgBV,EAAYV,YAAcH,EACxCI,EAAepV,KAAKqV,6BAE1B,GAAID,GAAgBpV,KAAKwY,aAAaC,MAAMzV,OAAShD,KAAK6W,sBACtDX,EAAOK,EACPvW,KAAK6W,sBAAwB7W,KAAKwY,aAAaC,MAAMzV,OAASoS,EAC9DY,EAAQQ,aAAa,YAAY,QAEhC,GAAIxW,KAAK6W,sBAAwB,EAAG,CACrCb,EAAQS,gBAAgB,YACxB,IAAI8C,EAAUvZ,KAAKiV,YAAYC,QAAQM,iBAAiB,YACxD,GAAGkE,KAAKC,KAAKJ,GAAS,SAACrC,EAAQ0C,GAE3B,OADA1D,GAAQgB,EAAO/B,YACR,EAAK0B,uBAAyB+C,EAAW,UAI/C5Z,KAAK6W,sBAAwB,GAClCd,EAAQS,aAAa,YAAY,GAGrCX,EAAYhJ,MAAMqJ,MAAQA,EAAO,O,0BAyFrC,WAA2B,IAAD,OAAb1Q,EAAa,uDAAJ,GACd+O,EAAW,GAoBf,OAnBAvU,KAAKwY,aAAaC,MAAM1N,SAAQ,SAAAuH,GAC5B,IAAIpJ,EAAS+K,GACT4F,EAAwB,KACxBrU,EAAOxC,QACPwC,EAAOkU,MAAK,SAAA/L,GAGR,OAFAzE,EAAS,EAAK4Q,UAAUxH,EAAKnN,KAAMwI,GACnCkM,EAAwBlM,EACjBsG,KAAuB/K,KAGtCqL,EAASjC,EAAK1C,OAAS,CACnBA,MAAO0C,EAAK1C,MACZzK,KAAMmN,EAAKnN,KACXwI,MAAOkM,EACP3Q,OAAQA,EACRqD,UAAW,GACX4D,SAAUjH,IAAW+K,OAGtBM,I,yBA6BX,SAAYwF,GACR,IAAIC,EAAcxO,MAAMY,KAAKpM,KAAKiY,UAC9B/O,EAAS6Q,EAAWpC,QAAQzO,OAC5B6I,EAAQgI,EAAWpC,QAAQ5F,MAC/B,GAAI7I,IAAW+K,GAAf,CA2CA,GAvCIlC,IAAU/R,KAAKiY,SAAS,GACxB+B,EAAY,GAAKZ,IAIZrH,IAAU/R,KAAKiY,SAAS,GAC7B+B,EAAY,GAAKZ,IAIXpZ,KAAKiY,SAAS,GAKbjY,KAAKiY,SAAS,GAQjBlG,EAAQiI,EAAY,GACpBA,EAAY,GAAKjI,EAOjBiI,EAAY,GAAKjI,GAfrBiI,EAAY,GAAKjI,EACjBiI,EAAcA,EAAY1B,QAN1B0B,EAAY,GAAKjI,EA4BjBiI,EAAY,IAAMA,EAAY,GAE9B,IADA,IAAMC,EAAgBzO,MAAMY,KAAK4N,GAAa1B,OACtC4B,EAAID,EAAc,GAAIC,GAAKD,EAAc,GAAIC,IAAK,CACtD,IAAMtK,EAAQ5P,KAAKwY,aAAaC,MAAMyB,GAAGtK,MACnC1G,EAASlJ,KAAKuU,SAAS3E,GAAO1G,OACpC,GAAI+K,KAAuB/K,EAEvB,OAAO,EAKnB,IAAI,IAAIgR,EAAI,EAAGA,GAAK,EAAGA,IAAK,CACxB,IAAKla,KAAKiY,SAASiC,IAAMF,EAAYE,GAErBla,KAAKiV,YAAYC,QAAQpB,cAAzB,+BAA+DkG,EAAYE,GAA3E,OACRhC,UAAUC,IAAI,iBAEjB,GAAInY,KAAKiY,SAASiC,KAAOF,EAAYE,GAAI,CAE9Bla,KAAKiV,YAAYC,QAAQpB,cAAzB,+BAA+D9T,KAAKiY,SAASiC,GAA7E,OACRhC,UAAUE,OAAO,iBAEpB,GAAIpY,KAAKiY,SAASiC,IAAMF,EAAYE,IAAMla,KAAKiY,SAASiC,KAAOF,EAAYE,GAAI,CAEhF,IAAMnE,EAAU/V,KAAKiV,YAAYC,QAAQpB,cAAzB,+BAA+D9T,KAAKiY,SAASiC,GAA7E,OACVC,EAASna,KAAKiV,YAAYC,QAAQpB,cAAzB,+BAA+DkG,EAAYE,GAA3E,OACfnE,EAAQmC,UAAUE,OAAO,YACzB+B,EAAOjC,UAAUC,IAAI,aAM7BnY,KAAKiY,SAAW+B,EAEhBha,KAAK+X,qB,4BAOT,SAAepK,GACX,QAAS+I,KAAK0D,MAAM1D,KAAK2D,OAAO,EAAE,M,uBAgBtC,SAAUC,EAAM3M,GACZ,IAAI4M,EAAgB9I,KAAM6I,GAAME,OAAO,GAAGC,YAAY,GAClDC,EAAYjJ,KAAM9D,EAAM0D,YAAYmJ,OAAO,GAAGC,YAAY,GAC1DE,EAAUlJ,KAAM9D,EAAM2D,UAAUkJ,OAAO,GAAGC,YAAY,GAG1D,OADgBF,GAAiBG,GAAaH,EAAgBI,EAEnD1G,GAGKsG,GAAiBG,EAAUE,SAAS5a,KAAKgZ,YAAc,EAAG,WAAauB,EAAgBI,EAE5F1G,GAGJA,K,oBAEX,WACI,OAAIjU,KAAKoT,MAAM0F,cACJ,eAAC,KAAD,CAAU5M,GAAIlM,KAAKoT,MAAM0F,gBAIhC,sBAAKvM,UAAS,mCAAd,SACI,gBAACsO,GAAA,EAAD,CAAOtO,UAAU,cAAjB,UACI,eAACuO,GAAD,CAActL,SAAUxP,KAAK0Y,eACzBT,SAAUjY,KAAKqY,cACftO,KAAM/J,KAAK+J,KAAMuK,aAActU,KAAKoT,MAAMkB,eAC7CtU,KAAK+a,kB,sBAOtB,WAAY,IAAD,OAwBP,OACI,gBAACC,GAAA,EAAD,CAAKC,IAAKjb,KAAKiV,YAAa1I,UAAU,WAAtC,UACI,eAAC2D,GAAA,EAAD,CAAQgL,iBAAe,OAAO3O,UAAU,OACpC4O,YAAa,SAAA5Q,GACT,EAAK0M,sBAAsB1M,EAAG,SAElC6Q,UAAW,SAAA7Q,GACP,EAAKgN,oBAAoBhN,EAAG,SALpC,SAOI,eAAC8Q,GAAA,EAAD,MAEJ,sBAAK9O,UAAU,yBAAf,SACI,sBAAKA,UAAU,cAAf,SACKvM,KAAKwY,aAAaC,MAAM5G,KAAI,SAACS,EAAMP,GAAP,OACzB,eAAC7B,GAAA,EAAD,2BArCA,SAACoC,EAAMP,GACvB,IAAMnC,EAAQ0C,EAAK1C,MACb1G,EAAS,EAAKqL,SAAS3E,GAAd,OACTrD,EAAS,kBAAcrD,EAAd,YAAwB,EAAKqL,SAAS3E,GAAOrD,WAEtD+O,EADQ,EAAKtP,MAAMuP,MACCC,QAAQtS,OAAOA,GACzC,MAAO,CACHtE,GAAG,GAAD,OAAK,EAAKmF,KAAKvC,OAAf,gCAA6CuK,GAC/C,gBAAgB,GAAhB,OAAoB,EAAKhI,KAAKvC,OAA9B,gCAA4DuK,GAC5D,aAAcnC,EACd3N,IAAK8P,EACL,aAAcnC,EACd,aAAcmC,EACdlF,MAAO,CACHyO,YAAaA,GAEjB,cAAepS,EACf0G,MAAO0C,EAAK1C,MACZrD,UAAWA,EACXc,QAAS,EAAKoK,iBAkBUgE,CAAYnJ,EAAMP,IAA9B,aAAuCO,EAAK1C,gBAIxD,eAACM,GAAA,EAAD,CAAQgL,iBAAe,QAAQ3O,UAAU,OACrC4O,YAAa,SAAA5Q,GACT,EAAK0M,sBAAsB1M,EAAG,UAElC6Q,UAAW,SAAA7Q,GACP,EAAKgN,oBAAoBhN,EAAG,UALpC,SAOI,eAACmR,GAAA,EAAD,a,GAveK5O,IAAMjB,a,GA8e/B,SAASiP,GAAa9O,GAElB,IAAMjC,EAAOiC,EAAMjC,KACbuK,EAAetI,EAAMsI,aACrB2D,EAAWjM,EAAMiM,SAEjB/O,EAASoL,EAAapL,OAmC5B,OACI,uBAAKqD,UAAU,cAAf,UACI,eAACyO,GAAA,EAAD,CAAKW,QAAO,iBAAYzS,GAAUqD,UAAS,oBAAerD,KAC1D,uBAAKqD,UAAU,iBAAf,UACI,uBAAKA,UAAU,UAAf,UACI,uBAAKA,UAAU,SAAf,qBAAiCxC,EAAKvC,UACtC,uBAAK+E,UAAU,QAAf,oBAA+BxC,EAAK1C,SACpC,uBAAKkF,UAAU,SAAf,qBAAiCrD,QAxCzB,WACpB,OAAOA,GACH,KAAK+K,GACL,KAAKA,GACD,OACI,uBAAK1H,UAAU,eAAf,UACI,8CAAgBgF,GAAYiB,iBAAiB8B,EAAa3G,MAAM0D,WAAY,uBAC5E,6CAAeE,GAAYiB,iBAAiB8B,EAAa3G,MAAM2D,SAAU,eAGrF,QACI,MAAO,IA+BNsK,GACD,eAACvJ,GAAA,EAAD,CAAMK,WAAS,EAACnG,UAAU,kBAA1B,SACI,gBAAC2D,GAAA,EAAD,CAAQ7C,QAASrB,EAAMwD,SAAUM,QAAQ,YAAYnD,MAAM,UACvDkP,KAAK,SAAShM,WAAS,EAACE,KAAK,SAASxD,UAAU,WADpD,uBA7BW,WACvB,IAAImG,EAAY,GAChB,GAAIuF,EAASjV,OAAQ,CACjB,IAAI8Y,EAAQ,GACZA,EAAMzR,KAAK,gCAAmB4N,EAAS,IAAlB,UACjBA,EAAS,KACT6D,EAAMzR,KAAK,uBAAoBkC,UAAU,eAA9B,gBAAU,YACrBuP,EAAMzR,KAAK,gCAAiB4N,EAAS,IAAhB,SAEzBvF,EACI,wBAAMnG,UAAU,QAAhB,eACOuP,EADP,QAKR,OAAOpJ,EAgBoBqJ,cAQpBC,I,GAAAA,gBAAU9H,ICnkBJ+H,G,4JACjB,WACI,OACI,sBAAK1P,UAAU,UAAf,SACI,qBAAIA,UAAU,cAAd,qD,GAJqBO,IAAMjB,WCU5B,O,0JARX,WACI,OAAO7L,KAAKsD,MAAMyB,IAAI,iB,qCAG1B,SAAwBmX,GACpB,OAAOlc,KAAKsD,MAAMyB,IAAI,+BAAiCmX,O,GAPxCzX,KC0BjBlE,I,OAAa,2BAAQ4b,IAAR,IAA4BC,SAAU,WAAYC,OAAQ,YAGxDC,G,kDACjB,WAAYtQ,GAAQ,IAAD,8BACf,cAAMA,IAqBVxC,OAAS+S,cACL,SAACC,EAAMhT,GACH,IAAIiT,EAAgB,QAOpB,OAHI,EAAKrJ,MAAMsJ,mBAAmD,EAA9B,EAAKtJ,MAAMsJ,oBAC3CD,EAAgB,UAEb,EAAKrJ,MAAMnO,MAAMuE,QAAO,SAAAO,GAC3B,IAAM4S,EAAK,IAAI7U,OAAO,EAAKsL,MAAMsJ,iBAAkB,KACnD,OAAQ,IAAM3S,EAAK0S,GAAeG,WAAWC,OAAOF,SAjC7C,EA0CnBG,qBAAuB,SAAC1b,GACpB,EAAKoS,SAAS,CAAEkJ,iBAAkBtb,KA3CnB,EAqFnB2b,wBAA0B,SAACxS,GACvB,EAAKiJ,SAAS,CAACkJ,iBAAkBnS,EAAE2E,OAAO9N,SAtF3B,EAgKnB4b,iBAhKmB,yCAgKA,WAAM7X,GAAN,UAAAwN,EAAA,sDACf,EAAKa,SAAS,CAAEyJ,aAAc9X,EAAM9D,YAAad,GAAc8b,SAC/D,EAAKa,yBAAyB/X,GAFf,2CAhKA,sDAGf,EAAK6T,YAAc,GACnB,EAAKmE,oBAAsB,QAE3B,EAAK/J,MAAL,2BACO,EAAKA,OADZ,IAGI6J,aAAcxL,OACdiL,iBAAkB,KAGtB,EAAKU,aAAe,KAEpB,EAAKC,cAAgBvQ,IAAMiM,YAfZ,E,8FAkBnB,uBAAApG,EAAA,sDACI3S,KAAKkd,2BADT,gD,qIA4BA,oDAAAvK,EAAA,sDAA+BxN,EAA/B,+BAAsC,KAClCnF,KAAKwT,SAAS,CAAE7J,WAAW,IACrB2T,EAAWnY,GAAQnF,KAAKoT,MAAM6J,aAChCM,EAAc,GAClB3T,GAAS4T,wBAAwBF,GAC5B/X,MAAK,YAAmB,IACf/C,EADc,EAAfV,SACoBW,aACzB,GAAI,OAASD,EAAQkC,MAAQ,kBAAoBlC,EAAQkC,KAErD,OAAO,EAAKuO,oBAAoB,4BAE/BzQ,EAAQkC,KAAK1B,SACdua,EAAc,CACVlc,YAAad,GAAc6b,WAInC,IAAMhJ,EAAQ,CACVnO,MAAOzC,EAAQkC,KACfrD,YAAad,GAAcuS,QAE/ByK,EAAcnK,KAEjB3N,OAAM,YAAyB,EAAtBvB,MAAuB,IACvBuE,EADsB,EAAf3G,SACYQ,aAGrBib,EAFA9U,IAAY7C,GAAMsB,MAAMC,aAEV,EAAK8L,oBAAoB,gBAIzB,EAAKA,oBAAoB,+BAG9CvK,SAAQ,WACL,EAAK8K,SAAL,aAAgB7J,WAAW,GAAU4T,OAnCjD,gD,+EA0DA,WACI,IAcI/I,EAdEiJ,EAAe,GAAKzd,KAAKgZ,YAAe,GAC1CiE,EAAexL,KAAMzR,KAAKoT,MAAM6J,cAChCS,EAAMjM,OAENkM,EAAelM,KAAMwL,GAAcW,KAAKF,EAAIE,QAAQC,OAAOH,EAAIG,UAAUrD,OAAO,GAAGC,YAAY,GAW/FtB,EAAW,KACf3E,GARImJ,EADwB,KAAxBA,EAAaC,QAAiBD,EAAaE,SAAW,GACvCF,EAAaE,OAAO,IAGpBF,EAAaE,OAAO7d,KAAKgZ,YAAetC,KAAKoH,KAAKH,EAAaE,SAAW7d,KAAKgZ,eAK1ExH,OAAOxR,KAAKmd,qBAepC,IAJA,IAAMY,EAAatM,KAAMkM,GAAcK,QAAQ,OAE3CC,EAAW,GAEP/D,EAAI,EAAGA,EAAIuD,EAAavD,IAAK,CACjC,IAAI/U,EAAO4Y,EAAW5F,IAAI+B,EAAIla,KAAKgZ,YAAa,UAC5CpJ,EAAQzK,EAAKqM,OAAOxR,KAAKmd,qBAEzBvN,IAAU4E,IACV2E,EAAWe,GAGf+D,EAAS5T,KAAK,CACVuF,MAAOA,EACPzK,KAAMA,IAUd,MANe,CACXsT,MAAOwF,EACPzJ,SAAUA,EACV2E,SAAUA,K,oBAYlB,WAAU,IAAD,OAEDrN,EAAY,KAChB,OAAO9L,KAAKoT,MAAM/R,aACd,KAAKd,GAAcuF,QACfgG,EAAY,eAAC,GAAD,CAAapH,KAAM1E,KAAKoT,MAAMzL,iBAC1C,MACJ,KAAKpH,GAAcsS,KACf/G,EAAY,eAAC,GAAD,IACZ,MACJ,KAAKvL,GAAc8b,OACfvQ,EAAY9L,KAAKod,aACjB,MACJ,KAAK7c,GAAc6b,SACftQ,EAAY,eAAC,GAAD,IACZ,MACJ,KAAKvL,GAAcuS,OACf9S,KAAKuU,SAAWvU,KAAKke,cACrB,IAAIjZ,EAAQ,KAERA,EADAjF,KAAKoT,MAAMsJ,iBAAiB1Z,OACpBhD,KAAKwJ,OAAOxJ,KAAKoT,MAAMnO,MAAOjF,KAAKoT,MAAMsJ,kBAGzC1c,KAAKoT,MAAMnO,MAEvB,IAAIkZ,EAAc,CAAEC,GAAI,GAAI7L,GAAI,GAAI8L,GAAI,EAAGC,GAAI,EAAGC,GAAI,GAClDpM,EAAU,EAEkB,IAA5BnS,KAAKoT,MAAMnO,MAAMjC,SACjBmb,EAAc,CAAEC,GAAI,GAAI7L,GAAI,GAAI8L,GAAI,GAAIC,GAAI,GAAIC,GAAI,IACpDpM,EAAU,GAgBdrG,EACI,uCACI,gBAACuG,GAAA,EAAD,CAAMK,WAAS,EAACnG,UAAU,SAASiS,QAAQ,SAASrM,QAAS,EAA7D,UACI,eAACE,GAAA,EAAD,CAAMC,MAAI,EAAC8L,GAAI,EAAf,SACI,eAAC,GAAD,CAAYK,YAAaze,KAAK8c,qBAC1B4B,aAAc1e,KAAK+c,wBACnB3b,MAAOpB,KAAKoT,MAAMsJ,qBAE1B,eAACrK,GAAA,EAAD,CAAMC,MAAI,EAAC8L,GAAI,EAAf,SACI,eAAC,GAAD,CAAkBnB,aAAcjd,KAAKoT,MAAM6J,aAAc0B,UAAW3e,KAAKgd,yBAG/E/X,EAAMjC,QACJ,sBAAKuJ,UAAU,oBAAf,SACI,qDAGR,eAAC8F,GAAA,EAAD,CAAMK,WAAS,EAACnG,UAAS,6BAAwBtH,EAAMjC,QAAUmP,QAASA,EAAS8I,IAAKjb,KAAKqd,cAA7F,SA7BU,SAACpY,GACf,IAAMuX,EAAO,GAQb,OAPAvX,EAAM8F,SAAQ,SAAAhB,GACVyS,EAAKnS,KACD,eAACgI,GAAA,EAAD,yBAAqBC,MAAI,GAAK6L,GAA9B,aACI,eAAC,GAAD,CAAYhZ,KAAM,EAAKiO,MAAM6J,aAAcjE,YAAa,EAAKA,YAAazE,SAAU,EAAKA,SAAUxK,KAAMA,MADlGA,EAAKX,SAKjBoT,EAqBEoC,CAAU3Z,QAIvBjF,KAAKod,aAAetR,EACpB,MACJ,QACIA,EAAY,eAAC,GAAD,IAGpB,OACI,eAACwD,GAAA,EAAD,CAAWC,SAAS,KAAKhD,UAAS,sBAAiBjF,OAAOtH,KAAKoT,MAAM/R,aAAawd,eAAlF,SACK/S,Q,GAlPmBkH,IAwP9B8L,G,kDAEF,WAAY9S,GAAQ,IAAD,8BACf,cAAMA,IAMV0S,aAAe,SAACnU,GACZ,EAAKiJ,SAAS,CAAEpS,MAAOmJ,EAAE2E,OAAO9N,QAChC2d,aAAa,EAAKC,SAClB9T,YAAW,WACP,EAAKuT,YAAY,EAAKrL,MAAMhS,SAC7B,MAVH,EAAKgS,MAAQ,CAAEhS,MAAO4K,EAAM5K,OAC5B,EAAK4d,QAAU,KACf,EAAKP,YAAczS,EAAMyS,YAJV,E,0CAcnB,WAKI,OACI,sBAAKlS,UAAU,0BAAf,SACI,eAACoD,GAAA,EAAD,CAAWC,MAAM,OAAOqP,WALb,CACflP,KAAM,QAI8CmP,gBANhC,CAAEC,QAAQ,GAMwDva,GAAG,mBACjFoL,SAAUhQ,KAAK0e,aACftd,MAAOpB,KAAKoT,MAAMhS,c,GAzBb0L,IAAMjB,WA+BzBuT,G,kDACF,WAAYpT,GAAQ,IAAD,8BACf,cAAMA,IAKV0S,aAAe,SAACvZ,GACZ,EAAKqO,SAAS,CAAEyJ,aAAc9X,IAC9B+F,YAAW,WACP6T,aAAa,EAAKC,SAClB,EAAKL,UAAU,EAAKvL,MAAM6J,gBAC3B,MATH,EAAK7J,MAAQ,CAAE6J,aAAcjR,EAAMiR,cACnC,EAAK+B,QAAU,KACf,EAAKL,UAAY3S,EAAM2S,UAJR,E,0CAanB,WAEI,OACI,eAAC,KAAD,CAAyBU,MAAOC,KAAhC,SACI,eAAC,KAAD,CACI1a,GAAG,cACHgL,MAAM,OACN4B,OAAO,aACP0N,gBAPY,CAAEC,QAAQ,GAQtB/d,MAAOpB,KAAKoT,MAAM6J,aAClBjN,SAAUhQ,KAAK0e,aACfa,oBAAqB,CACjB,aAAc,uB,GA1BPzS,IAAMjB,W,UC7SxBtL,GAAa,2BACnB4b,IADmB,IAEtBC,SAAU,WACVoD,MAAO,UAGUC,G,4MA+FjBC,sBAAwB,SAACC,GACrB,IAAI/X,EAAS,EAAKwL,MAAMxL,OAClBC,EAAW,EAAK+X,kBAAkBD,IACxC,IAAS9X,SAAkBD,EAAOyJ,WAAazJ,EAAOyJ,WAAaxJ,EACnE,EAAK2L,SAAS,CAAC7F,MAAM,2BAAM,EAAKyF,MAAMzF,OAAlB,IAAyB0D,WAAYsO,O,EAG7DE,oBAAsB,SAACF,GACnB,IAAI/X,EAAS,EAAKwL,MAAMxL,OAClBC,EAAW,EAAKiY,gBAAgBH,IACtC,IAAS9X,SAAkBD,EAAO0J,SAAW1J,EAAO0J,SAAWzJ,EAC/D,EAAK2L,SAAS,CAAC7F,MAAM,2BAAK,EAAKyF,MAAMzF,OAAjB,IAAwB2D,SAAUqO,O,EAG1DI,iBAAmB,SAACxV,GAChB,IAAMoD,EAAQ,EAAKyF,MAAMzF,MACzBA,EAAM5D,KAAKX,IAAMmB,EAAE2E,OAAO9N,MAC1B,EAAKoS,SAAS,CAAC7F,MAAOA,K,EAG1BqS,kBAAoB,SAACzV,GACjB,IAAI3C,EAAS,EAAKwL,MAAMxL,OAClBC,EAAW,EAAKoY,cAAc1V,EAAE2E,OAAO9N,QAC7C,IAASyG,SAAkBD,EAAOP,MAAQO,EAAOP,MAAQQ,EACzD,EAAK2L,SAAS,CAAC7F,MAAM,2BAAM,EAAKyF,MAAMzF,OAAlB,IAAyBtG,MAAOkD,EAAE2E,OAAO9N,MAAOwG,c,EAGxEsY,wBAA0B,SAAC3V,GACvB,EAAKiJ,SAAS,CAAC7F,MAAM,2BAAM,EAAKyF,MAAMzF,OAAlB,IAAyByD,YAAa7G,EAAE2E,OAAO9N,W,EAGvEwe,kBAAoB,WAAqB,IAApBlF,EAAmB,uDAAP,GACvBvV,EAAO,IAAIgb,KAAKzF,GAChB0F,GAASC,MAAMlb,EAAKmb,WAC1B,QAAOF,GAAe,CAAE9e,QAAS,iB,EAGrCwe,gBAAkB,SAAC3a,GACf,IAAMuV,EAAY,IAAIyF,KAAK,EAAK/M,MAAMzF,MAAM0D,YACtCsJ,EAAU,IAAIwF,KAAKhb,GAGzB,OAAIkb,MAAM1F,EAAQ2F,WACP,CAAEhf,QAAS,kBAElBoZ,GAAaC,IACN,CAAErZ,QAAS,qB,EAK1B2e,cAAgB,WAAiB,IAAhB5Y,EAAe,uDAAP,GACf+Y,EAAQ/Y,EAAMrE,OAAS,EAC7B,QAAOod,GAAe,CAAE9e,QAAS,wB,EAGrCuG,SAAW,WACP,IAAID,EAAS,GACTC,EAAW,KAWf,OAVI,KAAUA,EAAW,EAAK+X,kBAAkB,EAAKxM,MAAMzF,MAAM0D,eAC7DzJ,EAAOyJ,WAAaxJ,IAEpB,KAAUA,EAAW,EAAKiY,gBAAgB,EAAK1M,MAAMzF,MAAM2D,aAC3D1J,EAAO0J,SAAWzJ,IAElB,KAAUA,EAAW,EAAKoY,cAAc,EAAK7M,MAAMzF,MAAMtG,UACzDO,EAAOP,MAAQQ,IAGZyB,OAAOC,KAAK3B,GAAQ5E,QAAS4E,G,iDAlKxC,WACI,IAAM8S,EAAYnJ,GAAYgP,WAAWvgB,KAAKoT,MAAMzF,MAAM0D,YACpDsJ,EAAUpJ,GAAYgP,WAAWvgB,KAAKoT,MAAMzF,MAAM2D,UAQxD,MAPiB,CACbvH,KAAM/J,KAAKoT,MAAMzF,MAAM5D,KAAKX,IAC5B/B,MAAOrH,KAAKoT,MAAMzF,MAAMtG,MACxB+J,YAAapR,KAAKoT,MAAMzF,MAAMyD,YAC9BC,WAAYqJ,EACZpJ,SAAUqJ,K,mEAMlB,iDAAAhI,EAAA,6DAAmB6N,IAAnB,0CACyB5W,GAAS4S,OADlC,YACUiE,EADV,QAEevc,MAFf,uBAGYuc,EAAOvc,MAHnB,kBAOelE,KAAKiT,oBAAoB,kCAPxC,UAUczQ,EAAUie,EAAO3e,SAASW,cAC5B,IAAU+I,MAAMC,QAAQjJ,EAAO,OAX3C,0CAamBxC,KAAKiT,oBAAoB,6BAb5C,eAecyN,EAAa,IACR/Y,eAAiB,GAC5B+Y,EAAWC,UAAYne,EAAQyC,MAC/Byb,EAAWrf,YAAcd,GAAcuS,OAClCtQ,EAAQyC,MAAMjC,OAGVwd,IACCpX,EAAM5G,EAAQyC,MAAM,GAAd,IAEZyb,EAAW/S,MAAX,2BAAuB3N,KAAKoT,MAAMzF,OAAlC,IAAyC5D,KAAM,CAAEX,IAAKA,MALtDsX,EAAWrf,YAAcd,GAAc6b,SApBnD,kBA4BesE,GA5Bf,iD,6HAgCA,mCAAA/N,EAAA,sEACyBtN,GAAUub,SAAS5gB,KAAKoT,MAAMzF,MAAMvE,KAD7D,UACUqX,EADV,OAEUje,EAAUie,EAAO3e,SAASW,aAC1BgG,EAAUgY,EAAO3e,SAASQ,cAC5Bme,EAAOvc,MAJf,sBAKYuc,EAAOvc,iBAAiBvC,GALpC,0CAOmB3B,KAAKiT,oBAAoB,kCAP5C,WASiB,MAAQwN,EAAO3e,SAASoH,OATzC,0CAWmBlJ,KAAKiT,oBAAoB,oBAX5C,WAaYxK,IAAY7C,GAAMY,OAAOqa,oBAbrC,0CAemB7gB,KAAKiT,oBAAoB,yBAf5C,WAiBiBxK,IAAY7C,GAAMY,OAAOsa,mBAjB1C,0CAmBmB9gB,KAAKiT,oBAAoB,qBAnB5C,iCAuBmBjT,KAAKiT,oBAAoB,6BAvB5C,mCA4BY,kBAAoBzQ,EAAQmL,MA5BxC,0CA8BmB3N,KAAKiT,oBAAoB,8BA9B5C,WAgCiBzQ,EAAQmL,MAAMzN,KAAKkJ,MAAQpJ,KAAKgM,MAAM1D,UAAUpI,KAAK0E,GAhCtE,0CAkCmB5E,KAAKiT,oBAAoB,wBAlC5C,eAqCkBG,EAAQ,CACVzL,eAAgB,GAChBtG,YAAad,GAAcuS,OAC3BnF,MAAOnL,EAAQmL,OAxC/B,kBA0CmByF,GA1CnB,iD,2DAhDmCJ,I,wCCSlB+N,I,yDACjB,WAAY/U,GAAQ,IAAD,8BACf,cAAMA,IACDgV,cAAgB,EAAKhV,MAAM1L,OAFjB,E,0CAInB,WAKI,OACI,gBAAC+R,GAAA,EAAD,CAAMK,WAAS,EAACP,QAAS,EAAG5F,UAAU,YAAtC,UACI,eAAC8F,GAAA,EAAD,CAAMC,MAAI,EAAC8L,GAAI,EAAf,SACI,gBAAC1O,GAAA,EAAD,CAAaG,WAAS,EAAC3L,QAASlE,KAAKgM,MAAMpE,UAAY5H,KAAKgM,MAAMpE,OAAOmC,KAAzE,UACA,eAACkG,GAAA,EAAD,yBACA,eAACgR,GAAA,EAAD,CACIjR,SAAUhQ,KAAKgM,MAAM+T,iBACrB3e,MAAOpB,KAAKgM,MAAM2B,MAAM5D,KAAKX,IAFjC,SAICoC,MAAMC,QAAQzL,KAAKgM,MAAM2U,YAAc3gB,KAAKgM,MAAM2U,UAAU9O,KAAI,SAAC9H,EAAMgI,GAAP,OAC7D,eAACmP,GAAA,EAAD,CAAyB9f,MAAO2I,EAAKX,IAArC,SAA2CW,EAAKvC,QAAjCuC,EAAKX,eAK5B,gBAAC,KAAD,CAAyBiW,MAAOC,KAAhC,UACA,eAACjN,GAAA,EAAD,CAAMC,MAAI,EAAC8L,GAAI,EAAf,SACA,gBAAC1O,GAAA,EAAD,CAAaxL,QAASlE,KAAKgM,MAAMpE,UAAY5H,KAAKgM,MAAMpE,OAAOyJ,WAA/D,UACI,eAACpB,GAAA,EAAD,yBACI,eAACkR,GAAA,EAAD,CACI/f,MAAOpB,KAAKgM,MAAM2B,MAAM0D,WACxB+P,MAAM,EACNC,YAAa,EACbrR,SAAUhQ,KAAKgM,MAAM0T,6BAGjC,eAACrN,GAAA,EAAD,CAAMC,MAAI,EAAC8L,GAAI,EAAf,SACI,gBAAC1O,GAAA,EAAD,CAAaxL,QAASlE,KAAKgM,MAAMpE,UAAY5H,KAAKgM,MAAMpE,OAAO0J,SAA/D,UACI,eAACrB,GAAA,EAAD,uBACA,eAAC,KAAD,CACI7O,MAAOpB,KAAKgM,MAAM2B,MAAM2D,SACxBtB,SAAUhQ,KAAKgM,MAAM6T,oBACrBwB,YAAa,EACbD,MAAM,YAKlB,eAAC/O,GAAA,EAAD,CAAMC,MAAI,EAAC8L,GAAI,EAAf,SACI,gBAAC1O,GAAA,EAAD,CAAaxL,QAASlE,KAAKgM,MAAMpE,UAAY5H,KAAKgM,MAAMpE,OAAOP,MAA/D,UACI,eAAC4I,GAAA,EAAD,oBACA,eAACN,GAAA,EAAD,CAAWvO,MAAOpB,KAAKgM,MAAM2B,MAAMtG,MAAO2I,SAAUhQ,KAAKgM,MAAMgU,yBAGvE,eAAC3N,GAAA,EAAD,CAAMC,MAAI,EAAC8L,GAAI,EAAf,SACI,gBAAC1O,GAAA,EAAD,CAAaG,WAAS,EAAC3L,QAASlE,KAAKgM,MAAMpE,UAAY5H,KAAKgM,MAAMpE,OAAOwJ,YAAzE,UACI,eAACnB,GAAA,EAAD,0BACA,eAACN,GAAA,EAAD,CAAW2R,WAAS,EAACzR,WAAS,EAACzO,MAAOpB,KAAKgM,MAAM2B,MAAMyD,YAAapB,SAAUhQ,KAAKgM,MAAMkU,+BAGhGlgB,KAAKgM,MAAMsH,OACZ,eAACjB,GAAA,EAAD,CAAMC,MAAI,EAAC8L,GAAI,GAAf,SACQ,eAACxM,GAAA,EAAD,CAAOD,SAAU3R,KAAKgM,MAAMsH,MAAM3B,SAAlC,SACK3R,KAAKgM,MAAMsH,MAAMhS,YAI7BtB,KAAKgM,MAAMrE,gBACR,eAAC0K,GAAA,EAAD,CAAMC,MAAI,EAAC/F,UAAU,KAAK6R,GAAI,GAA9B,SACI,gBAACxM,GAAA,EAAD,CAAOD,SAAS,QAAhB,UACI,+BAAM3R,KAAKgM,MAAMrE,iBACZ6D,MAAMC,QAAQzL,KAAKgM,MAAMuV,gBAAkBvhB,KAAKgM,MAAMuV,cAAc1P,KAAI,SAAClE,EAAOoE,GAAR,OACrE,uBAAKxF,UAAU,gBAAf,UACKkF,KAAM9D,EAAM0D,YAAYG,OAAO,kBADpC,IAEMC,KAAM9D,EAAM2D,UAAUE,OAAO,SAFnC,oBAGuB,eAACrE,GAAA,EAAD,CAAMrB,UAAW2G,IAAY3C,QAAQ,UAAU5D,GAAE,YAAOyB,EAAMzN,KAAK8B,MAAnE,SAA4E2L,EAAMzN,KAAK8B,SAH1E+P,WASxD,eAACM,GAAA,EAAD,CAAMC,MAAI,EAAC8L,GAAI,GAAI7R,UAAU,kBAA7B,SACKvM,KAAKgM,MAAMrC,WAAa,eAAC,GAAD,MAE7B,eAAC0I,GAAA,EAAD,CAAMC,MAAI,EAAC8L,GAAI,GAAI7R,UAAU,eAA7B,SACI,eAAC2D,GAAA,EAAD,CAAQC,SAAUnQ,KAAKgM,MAAMrC,UAAW4C,UAAU,SAASuD,QAAQ,YAAYD,WAAS,EACpFE,KAAK,SAASpD,MAAM,UAAUU,QAASrN,KAAKgM,MAAM0C,aADtD,SACqE1O,KAAKgM,MAAM1L,kB,GAtF7DwM,IAAMjB,Y,UCpBxB2V,G,4JACjB,WACI,OACI,gBAACnP,GAAA,EAAD,CAAMK,WAAS,EAACP,QAAS,EAAzB,UACI,eAACE,GAAA,EAAD,CAAMC,MAAI,EAAC8L,GAAI,EAAf,SACI,eAACqD,GAAA,EAAD,CAAUC,OAAO,WAErB,eAACrP,GAAA,EAAD,CAAMC,MAAI,EAAC8L,GAAI,EAAf,SACI,eAACqD,GAAA,EAAD,CAAUC,OAAO,WAErB,eAACrP,GAAA,EAAD,CAAMC,MAAI,EAAC8L,GAAI,EAAf,SACI,eAACqD,GAAA,EAAD,CAAUC,OAAO,WAErB,eAACrP,GAAA,EAAD,CAAMC,MAAI,EAAC8L,GAAI,EAAf,SACI,eAACqD,GAAA,EAAD,CAAUC,OAAO,WAErB,eAACrP,GAAA,EAAD,CAAMC,MAAI,EAAC8L,GAAI,EAAf,SACI,eAACqD,GAAA,EAAD,CAAUC,OAAO,WAErB,eAACrP,GAAA,EAAD,CAAMC,MAAI,EAAC8L,GAAI,GAAf,SACI,eAACqD,GAAA,EAAD,CAAUC,OAAO,kB,GApBU5U,IAAMjB,W,OC8MrD,SAAS8V,GAAa3V,GAClB,OACI,uBAAKO,UAAU,sBAAf,UACI,sEAAwCP,EAAM2B,MAAM5D,KAAKvC,OAAzD,OACA,4CAAc+J,GAAYgP,WAAWvU,EAAM2B,MAAM0D,WAAY,uBAC7D,0CAAYE,GAAYgP,WAAWvU,EAAM2B,MAAM2D,SAAU,uBACzD,0CACY,eAACnE,GAAA,EAAD,CAAMrB,UAAW2G,IAAY3C,QAAQ,UAAU5D,GAAE,yBAAoBF,EAAM2B,MAAMvE,KAAjF,oBADZ,aAEI,eAAC+D,GAAA,EAAD,CAAMrB,UAAW2G,IAAY3C,QAAQ,UAAU5D,GAAE,yBAAoBF,EAAM2B,MAAMvE,KAAjF,0BAMDwY,I,MAAAA,GAzMdC,a,qDAEG,WAAY7V,GAAQ,IAAD,8BACf,cAAMA,IACDoH,MAAL,2BACO,EAAKA,OADZ,IAEIuN,UAAW,GACXmB,aAAc,KACdP,cAAe,OAEnB,EAAKQ,iBACL,EAAKrJ,eAAiB,EAAKA,eAAenL,KAApB,iBATP,E,kDAYnB,WACI,IAAMyU,EAAmB,IAAI7B,KAC7B6B,EAAiBC,WAAW,EAAKvL,KAAK0D,MAAM4H,EAAiBE,aAAe,IAC5E,IAAIC,EAAe,IAAIhR,GAAM,CACzBE,WAAY2Q,EACZ1Q,SAAUG,KAAMuQ,GAAkB7J,IAAI,GAAI,YAG1CnY,KAAKgM,MAAMoW,MAAMld,OAAO4E,OACxB9J,KAAKoT,MAAMzF,MAAQ3N,KAAKqiB,gBAAgBF,GAGxCniB,KAAKoT,MAAMzF,MAAQwU,I,6BAI3B,WAA6B,IAAD,IAAZxU,EAAY,uDAAJ,GACd7D,EAAS9J,KAAKgM,MAAMoW,MAAMld,OAAO4E,OACjCwY,GAAW,UAAAtiB,KAAKgM,MAAMoW,MAAMld,cAAjB,eAAyBkH,MAAOqF,KAAMzR,KAAKgM,MAAMoW,MAAMld,OAAOkH,WAAQjM,EACjFoiB,GAAS,UAAAviB,KAAKgM,MAAMoW,MAAMld,cAAjB,eAAyBgH,IAAIuF,KAAMzR,KAAKgM,MAAMoW,MAAMld,OAAOgH,SAAM/L,EAShF,OAPAwN,EAAM5D,KAAO,CAAEX,IAAKU,GAEhBwY,GAAYA,EAAS3W,YACrBgC,EAAM0D,WAAaiR,EACnB3U,EAAM2D,SAAWiR,GAAUA,EAAO5W,UAAY4W,EAASD,EAASnK,IAAI,GAAI,WAGrExK,I,wEAIX,iCAAAgF,EAAA,6DACI3S,KAAKwT,SAAS,CAAE7J,WAAW,IACrB6W,IAAe,UAAExgB,KAAKoT,MAAMzF,MAAM5D,YAAnB,aAAE,EAAuBX,KAFlD,SAG+BpJ,KAAKwiB,aAAahC,GAHjD,OAGUiC,EAHV,OAIIziB,KAAKwT,SAAL,2BAAmBiP,GAAnB,IAAiC9Y,WAAW,KAJhD,gD,qHAOA,+CAAAgJ,EAAA,6DACU7H,EAAW9K,KAAK0iB,cAD1B,kBAI6Brd,GAAUsd,SAAS7X,GAJhD,UAIc2V,EAJd,OAMY,QADEje,EAAUie,EAAO3e,SAASW,cACXkL,OAAS,kBAAoBnL,EAAQmL,MANlE,yCASmB3N,KAAKiT,oBAAoB,6BAT5C,UAWazQ,EAAQmL,MAAMvE,IAX3B,0CAcmBpJ,KAAKiT,oBAAoB,6BAd5C,eAgBcG,EAAQ,CACV/R,YAAad,GAAcif,MAC3BsC,aAActf,EAAQmL,OAlBlC,kBAoBeyF,GApBf,qCAsBatR,EAtBb,KAsBaA,SAtBb,KAsBuBoC,OACXpC,EAvBZ,oBAwBkB2G,EAAU3G,EAASQ,aACnBE,EAAUV,EAASW,aACNX,EAASS,gBACxBkG,IAAY7C,GAAMY,OAAOT,WA3BzC,wBA4BsB6c,EAAc9gB,EAAS+gB,iBA5B7C,kBA8BuB7iB,KAAK8iB,wBAAwB,mBAAoBF,IA9BxE,WAgCqBna,IAAY7C,GAAMY,OAAOG,YAhC9C,oBAiCsBoc,EAAWvgB,EAAQgD,QACrB,IAAUgG,MAAMC,QAAQsX,GAlC5C,0CAoC2B/iB,KAAKiT,oBAAoB,6BApCpD,eAsCsB2P,EAAc,CAACvR,YAAY,EAAMC,UAAU,GAC1B,sCAvCvC,kBAyCuBtR,KAAK8iB,wBAFW,sCAE6BF,EAAa,CAACrB,cAAcwB,KAzChG,WA2CqBta,IAAY7C,GAAMY,OAAOC,gBA3C9C,uBA4CuC,+CA5CvC,kBA8CuBzG,KAAK8iB,wBAFW,iDA5CvC,WAgDqBra,IAAY7C,GAAMY,OAAOE,gBAhD9C,uBAiDuC,0CAjDvC,kBAmDuB1G,KAAK8iB,wBAFW,4CAjDvC,yDA2DmB9iB,KAAKiT,oBAAoB,6BA3D5C,0D,2HAgEA,+BAAAN,EAAA,0DAEQ,KADA9K,EAAW7H,KAAK6H,YADxB,uBAGQ7H,KAAKwT,SAAS,CAAE5L,OAAQC,IAHhC,iCAMI7H,KAAKwT,SAAS,CACV7J,WAAW,EACX/B,OAAQ,KARhB,SAU+B5H,KAAK2iB,WAVpC,OAUUF,EAVV,OAWIziB,KAAKwT,SAAL,aACI7J,WAAW,GACR8Y,IAbX,gD,0EAiBA,WAEI,IAAI3W,EAAY,KAChB,OAAO9L,KAAKoT,MAAM/R,aACd,KAAKd,GAAcif,MACf1T,EAAY,eAAC6V,GAAD,CAAchU,MAAO3N,KAAKoT,MAAM0O,eAC5C,MACJ,KAAKvhB,GAAc6b,SACftQ,EAAY,eAAC,GAAD,IACZ,MACJ,KAAKvL,GAAcuF,QACfgG,EAAY,eAAC,GAAD,CAAapH,KAAM1E,KAAKoT,MAAMzL,iBAC1C,MACJ,KAAKpH,GAAcsS,KACf/G,EAAY,eAAC,GAAD,IACZ,MACJ,KAAKvL,GAAcuS,OACfhH,EACI,uCACI,qBAAIS,UAAU,cAAd,uBACA,eAAC,GAAD,CACI5C,UAAW3J,KAAKoT,MAAMzJ,UACtB/B,OAAQ5H,KAAKoT,MAAMxL,OACnBD,eAAgB3H,KAAKoT,MAAMzL,eAC3BgZ,UAAW3gB,KAAKoT,MAAMuN,UACtBY,cAAevhB,KAAKoT,MAAMmO,cAE1BjhB,OAAO,MACPe,YAAarB,KAAKoT,MAAM/R,YAExBsM,MAAO3N,KAAKoT,MAAMzF,MAElBoS,iBAAkB/f,KAAK+f,iBACvBL,sBAAuB1f,KAAK0f,sBAC5BG,oBAAqB7f,KAAK6f,oBAC1BG,kBAAmBhgB,KAAKggB,kBACxBE,wBAAyBlgB,KAAKkgB,wBAC9BxR,aAAc1O,KAAK0Y,oBAG/B,MACJ,QACI5M,EAAY,eAAC,GAAD,CAAUpH,KAAK,sBAGnC,OACI,eAAC4K,GAAA,EAAD,CAAWC,SAAS,KAAKhD,UAAS,wBAAmBjF,OAAOtH,KAAKoT,MAAM/R,aAAawd,eAApF,SACK/S,Q,GApLM2T,M,GC+KRuD,I,OAlLdhW,YAAO,Y,sDAEJ,WAAYhB,GAAQ,IAAD,uBACf,cAAMA,IAiGV0C,aAlGmB,wBAkGJ,+BAAAiE,EAAA,0DAEP,KADE9K,EAAW,EAAKA,YADX,uBAGP,EAAK2L,SAAS,CAAE5L,OAAQC,IAHjB,iCAMX,EAAK2L,SAAS,CACV7J,WAAW,EACX/B,OAAQ,GACRqb,SAAS,EACTtb,eAAgB,GAChBtG,YAAad,GAAcuS,SAXpB,SAaS,EAAKoQ,cAbd,OAaL9P,EAbK,OAcX,EAAKI,SAAL,aAAgB7J,WAAW,GAAUyJ,IAd1B,2CAhGX,IAAM+P,EAAU,EAAKnX,MAAMoW,MAAMld,OAAON,GAClCwe,EAAa,IAAIjS,GAAM,CACzB/H,IAAK+Z,IAJM,OAMf,EAAK/P,MAAL,2BACO,EAAKA,OADZ,IAEIzF,MAAOyV,EACPzC,UAAW,GACXsC,SAAS,EACT1B,cAAe,OAXJ,E,8FAenB,+BAAA5O,EAAA,6DACI3S,KAAKwT,SAAS,CAAE7J,WAAW,IAD/B,SAE0B3J,KAAKwiB,cAAa,GAF5C,YAGQ,gBADAa,EAFR,UAGsCA,EAAUhiB,cAAgBd,GAAcuS,OAH9E,uBAIQ9S,KAAKwT,SAAL,2BAAkB6P,GAAlB,IAA6B1Z,WAAW,KAJhD,0CAO2B3J,KAAKsjB,mBAPhC,YAQQ,gBADAC,EAPR,UAQuCA,EAAWliB,cAAgBd,GAAcuS,OARhF,wBASQ9S,KAAKwT,SAAL,2BAAkB+P,GAAlB,IAA8B5Z,WAAW,KATjD,2BAaQ3J,KAAKwT,SAAL,uCAAkB6P,GAAcE,GAAhC,IAA4C5Z,WAAW,KAb/D,iD,wHAiBA,2CAAAgJ,EAAA,6DACU7H,EAAW9K,KAAK0iB,cAD1B,SAGyBrd,GAAU6d,YAAYljB,KAAKoT,MAAMzF,MAAMvE,IAAK0B,GAHrE,YAGU2V,EAHV,QAIevc,MAJf,oBAKcuE,EAAUgY,EAAO3e,SAASQ,aAC1BE,EAAUie,EAAO3e,SAASW,aACbge,EAAO3e,SAASS,gBAC/BkG,IAAY7C,GAAMY,OAAOK,kBARrC,0CAUmB7G,KAAKiT,oBAAoB,wBAV5C,WAYiBxK,IAAY7C,GAAMY,OAAOT,WAZ1C,wBAakB6c,EAAcnC,EAAO3e,SAAS+gB,iBAbhD,kBAemB7iB,KAAK8iB,wBAAwB,mBAAoBF,IAfpE,WAiBiBna,IAAY7C,GAAMY,OAAOG,YAjB1C,oBAkBkBoc,EAAWvgB,EAAQgD,QACrB,IAAUgG,MAAMC,QAAQsX,GAnBxC,0CAqBuB/iB,KAAKiT,oBAAoB,6BArBhD,QAuBkB2P,EAAc,CAACvR,YAAY,EAAMC,UAAU,GAC1B,sCAEvBtR,KAAK8iB,wBAFkB,sCAEsBF,EAAa,CAACrB,cAAcwB,IA1BrF,2BA4BiBta,IAAY7C,GAAMY,OAAOC,gBA5B1C,uBA6BmC,+CA7BnC,kBA+BmBzG,KAAK8iB,wBAFW,iDA7BnC,WAiCiBra,IAAY7C,GAAMY,OAAOE,gBAjC1C,uBAkCmC,0CAlCnC,kBAoCmB1G,KAAK8iB,wBAFW,4CAlCnC,eAuCgBrC,EAAOvc,MAvCvB,kBA2CmBlE,KAAKiT,oBAAoB,6BA3C5C,mCAgDY,QADEzQ,EAAUie,EAAO3e,SAASW,cACXkL,OAAS,kBAAoBnL,EAAQmL,MAhDlE,0CAmDmB3N,KAAKiT,oBAAoB,6BAnD5C,WAqDazQ,EAAQmL,MAAMvE,IArD3B,0CAwDmBpJ,KAAKiT,oBAAoB,6BAxD5C,iCA2De,CACHuQ,aAAchhB,EAAQmL,MACtBtM,YAAad,GAAcif,QA7DvC,iD,0EAmFA,WAEI,IAAIlM,EAAQ,KACRxH,EAAY,KAIhB,OAHI9L,KAAKoT,MAAM/R,cAAgBd,GAAcif,QACzClM,EAAQ,CAAEhS,QAAS,cAAeqQ,SAAU,YAEzC3R,KAAKoT,MAAM/R,aACd,KAAKd,GAAc6b,SACftQ,EAAY,eAAC,GAAD,IACZ,MACJ,KAAKvL,GAAcuF,QACfgG,EAAY,eAAC,GAAD,CAAapH,KAAM1E,KAAKoT,MAAMzL,iBAC1C,MACJ,KAAKpH,GAAcsS,KACf/G,EACI,uCACI,qBAAIS,UAAU,cAAd,0BACA,eAAC,GAAD,OAGR,MACJ,KAAKhM,GAAcif,MACnB,KAAKjf,GAAcuS,OACfhH,EACI,uCACI,qBAAIS,UAAU,cAAd,0BACA,eAAC,GAAD,CACI5C,UAAW3J,KAAKoT,MAAMzJ,UACtB/B,OAAQ5H,KAAKoT,MAAMxL,OACnBD,eAAgB3H,KAAKoT,MAAMzL,eAC3BgZ,UAAW3gB,KAAKoT,MAAMuN,UACtBY,cAAevhB,KAAKoT,MAAMmO,cAE1BjhB,OAAO,SACPe,YAAarB,KAAKoT,MAAM/R,YAExBsM,MAAO3N,KAAKoT,MAAMzF,MAClB2F,MAAOA,EAEPyM,iBAAkB/f,KAAK+f,iBACvBL,sBAAuB1f,KAAK0f,sBAC5BG,oBAAqB7f,KAAK6f,oBAC1BG,kBAAmBhgB,KAAKggB,kBACxBE,wBAAyBlgB,KAAKkgB,wBAC9BxR,aAAc1O,KAAK0O,kBAG/B,MACJ,QACI5C,EAAY,eAAC,GAAD,CAAUpH,KAAK,sBAGnC,OACI,eAAC4K,GAAA,EAAD,CAAWC,SAAS,KAAKhD,UAAS,wBAAmBjF,OAAOtH,KAAKoT,MAAM/R,aAAawd,eAApF,SACK/S,Q,GA3KS2T,M,WCiF1B,SAASgE,GAAczX,GACnB,OACI,uCACI,qBAAIO,UAAU,cAAd,2CACA,gBAAC8F,GAAA,EAAD,CAAM9F,UAAU,eAAhB,UACI,+BAAG,wCAAH,IAAkBP,EAAM2B,MAAM5D,KAAKvC,UACnC,+BAAG,wCAAH,IAAkBwE,EAAM2B,MAAMtG,SAC9B,+BAAG,8CAAH,IAAwB2E,EAAM2B,MAAMyD,eACpC,+BAAG,6CAAH,IAAuBK,KAAMzF,EAAM2B,MAAM0D,YAAYG,OAAO,uBAC5D,+BAAG,2CAAH,IAAqBC,KAAMzF,EAAM2B,MAAM2D,UAAUE,OAAO,0BAE5D,gBAACa,GAAA,EAAD,CAAMK,WAAS,EAACnG,UAAU,eAA1B,UACI,eAAC2D,GAAA,EAAD,CAAQC,SAAUnE,EAAMrC,UAAW4C,UAAU,cAAcuD,QAAQ,YAAYD,WAAS,EACpFE,KAAK,SAASpD,MAAM,UAAUU,QAASrB,EAAM0X,kBADjD,0BAGC1X,EAAMrC,WAAa,eAAC,GAAD,UAOpC,SAASga,GAAa3X,GAClB,OACI,qCACI,uBAAKO,UAAU,sBAAf,UACI,6DACA,eAAC8F,GAAA,EAAD,CAAMK,WAAS,EAACnG,UAAU,eAA1B,SACI,eAAC2D,GAAA,EAAD,CAAQpE,UAAW2G,IAAYvG,GAAG,cAAc4D,QAAQ,YAAYnD,MAAM,UAAUkD,WAAS,EAACE,KAAK,SAAnG,8BASL6T,I,MAAAA,GAlHd5W,YAAO,Y,IACP6U,a,qDAEG,WAAY7V,GAAQ,IAAD,uBACf,cAAMA,IAiBV6X,YAlBmB,wBAkBL,+BAAAlR,EAAA,sEACWtN,GAAUwe,YAAY,EAAKzQ,MAAMzF,MAAMvE,KADlD,UACJqX,EADI,OAESA,EAAO3e,SAASS,gBAC7BkG,EAAUgY,EAAO3e,SAASQ,cAC5Bme,EAAOvc,MAJD,oBAKFuE,IAAY7C,GAAMY,OAAOK,kBALvB,0CAOK,EAAKoM,oBAAoB,wBAP9B,iCAWK,EAAKA,oBAAoB,iBAX9B,yDAeC,CAAE5R,YAAad,GAAcif,QAf9B,4CAlBK,EAqCnBkE,kBArCmB,wBAqCC,6BAAA/Q,EAAA,6DAEhB,EAAKa,SAAS,CAAE7J,WAAW,IAFX,SAGO,EAAKka,cAHZ,OAGVC,EAHU,OAIhB,EAAKtQ,SAAL,aAAgB7J,WAAW,GAAUma,IAJrB,2CAnChB,IAAMX,EAAU,EAAKnX,MAAMoW,MAAMld,OAAON,GAClCwe,EAAa,IAAIjS,GAAM,CACzB/H,IAAK+Z,IAJM,OAMf,EAAK/P,MAAL,2BAAkB,EAAKA,OAAvB,IAA8BzF,MAAOyV,IANtB,E,8FASnB,6BAAAzQ,EAAA,6DACI3S,KAAKwT,SAAS,CAAE7J,WAAW,IAD/B,SAE2B3J,KAAKsjB,mBAFhC,OAEUQ,EAFV,OAGI9jB,KAAKwT,SAAL,aACI7J,WAAW,GACRma,IALX,gD,0EAmCA,WACI,IAAIhY,EAAY,KAChB,OAAO9L,KAAKoT,MAAM/R,aACd,KAAKd,GAAcsS,KACf/G,EAAY,eAAC,GAAD,IACZ,MACJ,KAAKvL,GAAc6b,SACftQ,EAAY,eAAC,GAAD,IACZ,MACJ,KAAKvL,GAAcuF,QACfgG,EAAY,eAAC,GAAD,CAAapH,KAAM1E,KAAKoT,MAAMzL,iBAC1C,MACJ,KAAKpH,GAAcif,MACf1T,EAAY,eAAC6X,GAAD,IACZ,MACJ,KAAKpjB,GAAcuS,OAEfhH,EAAY,eAAC2X,GAAD,CAAeC,kBAAmB1jB,KAAK0jB,kBAAmB/Z,UAAW3J,KAAKoT,MAAMzJ,UAAWgE,MAAO3N,KAAKoT,MAAMzF,QACzH,MACJ,QACI7B,EAAY,eAAC,GAAD,CAAUpH,KAAK,sBAEnC,OACI,eAAC4K,GAAA,EAAD,CAAWC,SAAS,KAAKhD,UAAS,2BAAsBvM,KAAKoT,MAAM/R,aAAnE,SACKyK,Q,GArES2T,M,QClBXsE,I,OANE,SAAC,GAAD,IAAG1X,EAAH,EAAGA,SAAH,OACd,sBAAKE,UAAU,eAAf,SACG,sBAAIA,UAAU,cAAd,gCAA+C,gCAAOF,EAASF,kBCDhDuF,I,yKAEpB,WACClR,OAAO6L,SAAS2X,W,oBAEjB,WACC,OACC,sBAAKzX,UAAU,mBAAf,SACC,oCACC,0FACA,eAAC2D,GAAA,EAAD,CAAQJ,QAAQ,YAAYC,KAAK,SAASpD,MAAM,YAAYU,QAASrN,KAAKikB,aAA1E,6B,GAVoCnX,IAAMjB,YCA1BmG,I,yKAEpB,WACCxR,OAAO6L,SAAS2X,W,oBAEjB,WACC,OACC,sBAAKzX,UAAU,gBAAf,SACC,oCACgB,qBAAIA,UAAU,QAAd,mCACf,eAAC2D,GAAA,EAAD,CAAQJ,QAAQ,YAAYC,KAAK,SAASpD,MAAM,YAAYU,QAASrN,KAAKikB,aAA1E,6B,GAViCnX,IAAMjB,YCAvBqY,I,yKAEpB,WACC1jB,OAAO6L,SAAS2X,W,oBAEjB,WACC,OACC,sBAAKzX,UAAU,eAAf,SACC,oCACC,yDACA,eAAC2D,GAAA,EAAD,CAAQJ,QAAQ,YAAYC,KAAK,SAASpD,MAAM,YAAYU,QAASrN,KAAKikB,aAA1E,6B,GAVgCnX,IAAMjB,Y,8GC6L5BsY,I,OAjKdnX,YAAO,kB,IACPS,Y,qDAEG,WAAYzB,GAAQ,IAAD,8BACf,cAAMA,IAeVoY,mBAAqB,WACjB,EAAKpY,MAAMqY,gBAAgB7B,gBAjBZ,EAoBnB8B,oBAAsB,SAACxa,GACnB,EAAKkC,MAAMqY,gBAAgBE,kBAAkBza,IArB9B,EAwBnB0a,kBAAoB,SAACja,EAAGT,GACpBiV,aAAa,EAAK0F,eAClB,IAAMja,EAAYD,EAAE2E,OAAOlN,KAC3B,GAAKsH,OAAOC,KAAK,EAAKyC,MAAMqY,gBAAgBtb,QAAQ2b,SAASla,GAA7D,CAIA,IAAMC,EAAaF,EAAE2E,OAAO9N,MACxB,EAAK4K,MAAMqY,gBAAgBM,aAAa7a,EAAQU,EAAWC,KAC3D,EAAKga,cAAgBvZ,YAAW,WAC5B,EAAKc,MAAMqY,gBAAgBO,YAAY9a,EAAQU,EAAWC,KAC3D,EAAKoa,qBAnCG,EAuCnBC,eAAiB,WACb,EAAK9Y,MAAMqY,gBAAgBU,gBAxCZ,EA2CnBC,kBAAoB,SAAClb,GACjB,EAAKkC,MAAMqY,gBAAgBxb,WAAWiB,IA5CvB,EA+CnBmb,sBAAwB,SAAC1a,GACrB,EAAKyB,MAAMqY,gBAAgBa,UAAU3a,EAAE2E,SA9CvC,EAAK2V,iBAAmB,IACxB,EAAKJ,mBAAgBtkB,EAHN,E,6CAKnB,WACI,IAAMyT,EAAUC,SAASC,cAAc,UACnCF,GACAA,EAAQG,eAAe,CAACC,SAAU,a,wEAI1C,uBAAArB,EAAA,sDACI3S,KAAKgM,MAAMqY,gBAAgB7B,eAD/B,gD,0EAuCA,WAAU,IAAD,OACC7Y,EAAY3J,KAAKgM,MAAMqY,gBAAgB1a,UACvCpI,EAAevB,KAAKgM,MAAMqY,gBAAgB9iB,aAChD,OACI,eAAC+N,GAAA,EAAD,CAAWC,SAAS,KAApB,SAEI,uBAAKhD,UAAU,kBAAf,WACK,IAAS5C,GAAa,sBAAK4C,UAAU,mBAAf,SAAkC,eAAC4Y,GAAA,EAAD,CAAkB5Y,UAAU,GAAGI,MAAM,gBAC9F,uBAAKJ,UAAU,gBAAf,UACI,iDACA,eAACwB,GAAA,EAAD,CAAYV,QAASrN,KAAKokB,mBAAoBgB,KAAK,MAAMC,aAAW,SAApE,SACI,eAACC,GAAA,EAAD,SAGR,sBAAK1gB,GAAG,sBAAR,SACKrD,GACG,eAACqQ,GAAA,EAAD,CAAOrF,UAAU,eAAeoF,SAAS,UAAzC,SAAoDpQ,MAG5D,eAACgkB,GAAA,EAAD,CAAgBzZ,UAAW+O,KAAOtO,UAAU,kBAA5C,SACI,gBAACiZ,GAAA,EAAD,CAAOH,aAAW,QAAlB,UACI,eAACI,GAAA,EAAD,UACI,gBAACC,GAAA,EAAD,WACI,eAACC,GAAA,EAAD,CAAWN,aAAW,SAAS9Y,UAAU,oBAAzC,oBACA,eAACoZ,GAAA,EAAD,CAAWN,aAAW,QAAtB,mBACA,eAACM,GAAA,EAAD,CAAWN,aAAW,SAAtB,oBACA,eAACM,GAAA,EAAD,CAAWN,aAAW,GAAG9Y,UAAU,4BAG3C,eAACqZ,GAAA,EAAD,UACK5lB,KAAKgM,MAAMqY,gBAAgBpf,MAAM4M,KAAI,SAAC9H,EAAMgI,GAAP,mBAClC,gBAAC,IAAM8T,SAAP,WACI,gBAACH,GAAA,EAAD,WACI,eAACC,GAAA,EAAD,CAAWpZ,UAAU,oBAArB,SACI,eAACoD,GAAA,EAAD,CACIQ,SAAUxG,EACV3H,KAAK,SACL+N,KAAK,OACL7L,SAAQ,OAAC6F,QAAD,IAACA,GAAD,UAACA,EAAMnC,cAAP,aAAC,EAAcJ,QACvBqI,WAAS,EACTD,MAAM,IACNE,QAAQ,WACRgW,QAAS,EAAKb,sBACdjV,SAAU,SAACzF,GAAD,OAAO,EAAKia,kBAAkBja,EAAGR,EAAKX,MAChD2c,aAAchc,EAAKvC,WAE3B,eAACme,GAAA,EAAD,UACI,eAAChW,GAAA,EAAD,CACIQ,SAAUxG,EACV3H,KAAK,QACL+N,KAAK,OACLF,WAAS,EACT3L,SAAQ,OAAC6F,QAAD,IAACA,GAAD,UAACA,EAAMnC,cAAP,aAAC,EAAcP,OACvByI,QAAQ,WACRF,MAAM,SACNkW,QAAS,EAAKb,sBACdjV,SAAU,SAACzF,GAAD,OAAO,EAAKia,kBAAkBja,EAAGR,EAAKX,MAChD2c,aAAchc,EAAK1C,UAE3B,eAACse,GAAA,EAAD,CAAWpZ,UAAU,qBAArB,SACI,uBAAKA,UAAU,0BAAf,UACK,WAAaxC,EAAKb,QACf,eAAC6E,GAAA,EAAD,CACIV,QAAS,SAAC9C,GAAD,OAAO,EAAK+Z,oBAAoBva,EAAKX,MAC9C+G,SAAUxG,EAAWyb,KAAK,MAAMC,aAAW,OAF/C,SAGI,eAAC,KAAD,MAGP,WAAatb,EAAKb,QACf,eAAC6E,GAAA,EAAD,CAAYoC,SAAUxG,EAClB0D,QAAS,SAAC9C,GAAD,OAAO,EAAK+Z,oBAAoBva,EAAKX,MAAMgc,KAAK,MAAMC,aAAW,SAD9E,SAEI,eAAC,KAAD,WAKhB,eAACM,GAAA,EAAD,CAAWK,MAAM,QAAjB,SACI,eAACjY,GAAA,EAAD,CAAYoC,SAAUxG,EAClB0D,QAAS,kBAAM,EAAK2X,kBAAkBjb,EAAKX,MAAMgc,KAAK,MAAMC,aAAW,SAD3E,SAEI,eAACY,GAAA,EAAD,WAIZ,eAACP,GAAA,EAAD,UACI,eAACC,GAAA,EAAD,CAAWO,QAAS,EAApB,SACI,gBAACxW,GAAA,EAAD,CAAaxL,OAAO,EAApB,aACE,OAAC6F,QAAD,IAACA,GAAD,UAACA,EAAMnC,cAAP,aAAC,EAAcJ,SAAU,gBAACyI,GAAA,EAAD,sBAAyBlG,EAAKnC,OAAOJ,OAAOlG,cACrE,OAACyI,QAAD,IAACA,GAAD,UAACA,EAAMnC,cAAP,aAAC,EAAcP,QAAS,gBAAC4I,GAAA,EAAD,qBAAwBlG,EAAKnC,OAAOP,MAAM/F,oBAxD3DyI,EAAKX,eAiE1C,eAACsG,GAAA,EAAD,UACI,eAACQ,GAAA,EAAD,CAAQ7C,QAASrN,KAAK8kB,eAClBhV,QAAQ,YAAY+L,KAAK,QAAQlP,MAAM,UACvCkD,WAAS,EAACE,KAAK,SAASI,SAAUxG,EAFtC,iC,GArJCmD,IAAMjB,a,gDCsChBsa,GArEKC,cAAW,WAAsB,IAArBC,IAAoB,yDAC5C7K,EAAU,GAAI8K,EAAY,OAC9B,OAAOD,GACH,KAAK,EACDC,EAAY,OACZ9K,EAAW,CACPzL,KAAM,OACNwW,WAAY,CACRC,QAAS,UACTC,MAAO,WAEXC,QAAS,CACLJ,UAAW,OACXK,KAAMC,KAAOC,MAAM,KACnBC,KAAMF,KAAOC,MAAM,KACnBE,MAAOH,KAAOC,MAAM,MAExBG,UAAW,CACPL,KAAMC,KAAOK,OAAO,KACpBF,MAAOH,KAAOK,OAAO,KACrBH,KAAMF,KAAOK,OAAO,MAExB/iB,MAAO,CACHyiB,KAAMC,KAAOM,IAAI,MAErBje,KAAM,CACFyd,QAAS,QAEbxd,OAAQ,CACJie,UAAWP,KAAOC,MAAM,KACxBO,QAASR,KAAOS,OAAO,KACvBC,SAAUV,KAAOM,IAAI,OAG7B,MACJ,QACIZ,EAAY,OACZ9K,EAAW,CACPzL,KAAM,QACNwW,WAAY,CACRC,QAAS,OACTC,MAAO,QAEXC,QAAS,CACLC,KAAMC,KAAOC,MAAM,KACnBE,MAAOH,KAAOC,MAAM,KACpBC,KAAMF,KAAOC,MAAM,MAEvB3d,OAAQ,CACJie,UAAWP,KAAOC,MAAM,KACxBO,QAASR,KAAOS,OAAO,KACvBC,SAAUV,KAAOM,IAAI,OAKrC,IAAM3L,EAAQgM,aAAe,CACzB/L,QAASA,EACTgM,UAAW,CACPC,cAAe,CACXC,aAAc,CACV/a,MAAO2Z,OAKvB,OAAO/K,KC0DIoM,I,OA9Fd3a,YAAO,YAAa,W,IACpB6U,a,GACApU,Y,mNAEG,sCAAAkF,EAAA,yDACU9O,EAAW7D,KAAKgM,MAAMnI,SACtByE,EAAYtI,KAAKgM,MAAM1D,UACxBzE,EAASnD,SAHlB,uBAIQmD,EAAS+jB,eAAernB,GAJhC,0BAQI6H,GAAQyf,SACHtiB,MAAK,YAAmB,IACf/C,EADc,EAAfV,SACoBW,aACpBD,EAAQtC,OACT2D,EAASsG,gBAAgB,gBACzBtG,EAAS+jB,eAAernB,IAI5B+H,EAAUC,QAAQ/F,EAAQtC,MAC1B,EAAK8L,MAAMnI,SAAS+jB,eAAernB,MAEtCkF,OAAM,YAA0B,IAAD,EAAtBvB,EAAsB,EAAtBA,MAAsB,EAAfpC,SACb,GAAIoC,GAAoC,OAA3B,UAAAA,EAAMpC,gBAAN,eAAgBoH,QAIzB,OAHArF,EAASsG,gBAAgB,qBACzBtG,EAAS+jB,eAAernB,GAK5B,EAAKyL,MAAMnI,SAAS+jB,eAAernB,MA5B/C,gD,0EAkCA,WAEI,IAAM+H,EAAYtI,KAAKgM,MAAM1D,UACvBiT,EAAQ4K,GAAYnmB,KAAKgM,MAAMnI,SAASjD,gBAC1CknB,EAAO,KACX,OAAO9nB,KAAKgM,MAAMnI,SAASxC,aACvB,KAAKd,EACDunB,EAAO,eAAC,GAAD,IACP,MACJ,KAAKvnB,EACDunB,EAAO,eAAC,GAAD,IACP,MACJ,KAAKvnB,EACDunB,EAAO,eAAC,GAAD,IACP,MACJ,KAAKvnB,EACDunB,EACI,gBAAC,KAAD,WACA,eAAC,KAAD,CAAOnlB,KAAK,SAASmJ,UAAW2C,KAChC,eAAC,KAAD,CAAO9L,KAAK,YAAYmJ,UAAWuE,KAEnC,eAAC,GAAD,CAAc1N,KAAK,UAAUolB,OAAK,EAACjc,UAAWwQ,GAAQrQ,WAAY3D,EAAU2D,aAC5E,eAAC,GAAD,CAActJ,KAAK,mCAAmCmJ,UAAW8V,GAAU3V,WAAY3D,EAAU2D,aACjG,eAAC,GAAD,CAActJ,KAAK,qBAAqBolB,OAAK,EAACjc,UAAWkX,GAAa/W,WAAY3D,EAAU2D,aAC5F,eAAC,GAAD,CAActJ,KAAK,qBAAqBolB,OAAK,EAACjc,UAAW8X,GAAa3X,WAAY3D,EAAU2D,aAC5F,eAAC,GAAD,CAActJ,KAAK,IAAIolB,OAAK,EAACjc,UAAWwQ,GAAQrQ,WAAY3D,EAAU2D,aACtE,eAAC,GAAD,CAActJ,KAAK,cAAcmJ,UAAWmG,GAAShG,WAAY3D,EAAU2D,aAE3E,eAAC,GAAD,CAAYtJ,KAAK,SAASolB,OAAK,EAACjc,UAAWqY,GAAY/jB,QAASkI,EAAUlI,QAAS6L,WAAY3D,EAAU2D,aAEzG,eAAC,KAAD,CAAOH,UAAWiY,QAGtB,MACJ,QACI+D,EAAO,eAAC,GAAD,IAEf,OACI,gBAACE,GAAA,EAAD,CAAezM,MAAOA,EAAtB,UACI,eAAC0M,GAAA,EAAD,IACA,uBAAK1b,UAAU,MAAf,UACI,eAAC,GAAD,IACA,gCACI,eAAC+C,GAAA,EAAD,CAAWC,SAAS,KAApB,SACKuY,MAGT,eAAC,GAAD,c,GAlFFhb,IAAMjB,a,cCxBlBqc,I,OAAS,CACX5f,YAAWzE,WAAUuO,gBAAcxD,aACnCyV,qBAGJ7jB,OAAO2nB,WAAaD,GAKpBE,IAASrc,OACL,eAAC,IAAD,2BAAcmc,IAAd,aACI,eAAC,IAAD,UACI,eAAC,IAAMG,WAAP,UACI,eAAC,GAAD,WAIZxU,SAASyU,eAAe,W","file":"static/js/main.95f5d43f.chunk.js","sourcesContent":["import { makeObservable, observable, action } from 'mobx';\n\nclass UserStore {\n    constructor() {\n        makeObservable(this);\n    }\n\n    @observable user = undefined;\n\t@action setUser(u) {\n\t\tthis.user = u;\n\t}\n    @action unsetUser() {\n        this.user = undefined;\n    }\n\n\tget isLoggedIn() {\n\t\treturn !!this.user;\n\t}\n\n    get user() {\n        return this.user;\n    }\n\n\tget isAdmin() {\n        return this.user?.isAdmin;\n\t}\n\n}\n\nexport default new UserStore();\n","import { makeObservable, observable, action } from 'mobx';\n\nexport const RENDER_STATES = {\n    'LOADER': 'LOADER',\n    'OFFLINE': 'OFFLINE',\n    'ERROR': 'ERROR',\n    'COMMON': 'COMMON',\n};\n\n\nclass AppStore {\n    constructor() {\n        window.addEventListener('online', action(() => {\n            console.log('this.isOnline: true');\n            this.isOnline = true;\n        }));\n        window.addEventListener('offline', action(() => {\n            console.log('this.isOnline: false');\n            this.isOnline = false;\n        }));\n        makeObservable(this);\n    }\n    @observable isOnline = window.navigator.onLine\n\n    @observable preferDarkMode = this.isPreferDarkMode();\n    @action setPreferDarkMode(flag = true) {\n        this.preferDarkMode = flag;\n        window.localStorage.setItem('preferDarkMode', flag);\n    }\n\tisPreferDarkMode() {\n\t\tconst value = JSON.parse(window.localStorage.getItem('preferDarkMode'));\n\t\treturn value === false ? false : true;\n\t}\n\n    @observable token = window.localStorage.getItem('token');\n    @action setToken(token) {\n        this.token = token;\n        window.localStorage.setItem('token', token);\n    }\n\n    @action unsetToken() {\n        this.token = undefined;\n        window.localStorage.removeItem('token');\n    }\n\n    @observable renderState = RENDER_STATES.LOADER;\n    @action setRenderState(value) {\n        this.renderState = value;\n    }\n\n    @observable errorMessage = '';\n    @action setErrorMessage(message) {\n        this.errorMessage= message;\n    }\n    getErrorMessage() {\n        return this.errorMessage;\n    }\n}\n\nexport default new AppStore();\n","export default class ApiDataTypeError extends Error {}\n","export default class Response {\n    constructor(response) {\n        this.init(response);\n        this.name = 'my own response';\n    }\n\n    init(response) {\n        for(let key in response) {\n            this[key] = response[key];\n        }\n    }\n\n    getApiCode() {\n        return parseInt(this.getNestedPropertyValue(this, 'data.code'));\n    }\n\n    getApiMessage() {\n        return this.getNestedPropertyValue(this, 'data.message');\n    }\n\n    getApiData() {\n        return this.getNestedPropertyValue(this, 'data.data');\n    }\n\n    hasValidApiResponse() {\n        return (Number.isInteger(this.getApiCode())\n            && this.getApiMessage() !== null) ? true : false;\n    }\n\n    getErrorFields() {\n        const apiData = this.getApiData();\n        return apiData ? apiData['errors'] : {};\n    }\n\n    /*\n     * @obj Object\n     * @path string key path separated by dott\n     * @return Boolean\n     */\n    hasNestedProperty(obj, path) {\n        function _hasNestedKey(obj, key, ...rest) {\n            if ('undefined' === typeof obj) return false;\n            if (!rest.length) return obj.hasOwnProperty(key);\n            return _hasNestedKey(obj[key], ...rest);\n        }\n        const chains = path.split('.');\n        return _hasNestedKey(obj, ...chains);\n    }\n\n    /*\n     * @obj Object\n     * @path string key path separated by dott\n     * @return mixed (property value | null)\n     */\n    getNestedPropertyValue(obj, path) {\n        function _getNestedPropertyValue(obj, key, ...rest) {\n            if ('undefined' === typeof obj) return null;\n            if (!rest.length){\n                return obj.hasOwnProperty(key) ? obj[key] : null;\n            }\n            return _getNestedPropertyValue(obj[key], ...rest);\n        }\n        const chains = path.split('.');\n        return _getNestedPropertyValue(obj, ...chains);\n    }\n}\n","import axios from \"axios\";\nimport ApiDataTypeError from './error';\nimport Response from './response';\nimport appStore from '../stores/appStore';\n\nconst createAxiosInstance = (baseUrl) => {\n    const axiosInstance = axios.create({\n        baseURL: baseUrl,\n    });\n    axiosInstance.interceptors.request.use(function (config) {\n        const token = appStore.token;\n        config.headers = { Authorization: `Bearer ${token}` }\n        return config;\n    });\n\n    axiosInstance.interceptors.response.use(\n        response => successHandler(response),\n        error => errorHandler(error)\n    );\n    return axiosInstance;\n}\n\nexport default createAxiosInstance;\n\nfunction successHandler(res) {\n    const response = new Response(res);\n    if (!response.hasValidApiResponse()) {\n        const error = ApiDataTypeError('Invalid response from server');\n        return Promise.reject({ error: error, response: response, });\n    }\n    return Promise.resolve({ error: false, response: response });\n}\n\nfunction errorHandler(error) {\n    const response = new Response(error.response);\n    return Promise.reject( { error: error, response: response, });\n}\n","import createAxiosInstance from './axios';\n\n\nconst axiosInstance = createAxiosInstance(process.env.REACT_APP_API_BASE_URL);\n\nclass Api {\n    constructor() {\n        this.axios = axiosInstance;\n    }\n}\n\nexport default Api;\n","import Api from './api';\n\nclass EventsApi extends Api{\n    addEvent(data) {\n        return this.axios.post('/events/event/', data);\n    }\n\n    changeEvent(id, data) {\n        return this.axios.put('/events/event/' + id, data);\n    }\n\n    deleteEvent(id) {\n        return this.axios.delete('/events/event/' + id);\n    }\n\n    getEvent(id) {\n        return this.axios.get('/events/event/' + id);\n    }\n\n    list(ymd, rooms = null) {\n        let params = { date: ymd, rooms: rooms}\n\t\treturn this.axios.get('/events/list', { params: params })\n    }\n\n    getMyEvents() {\n\t\treturn this.axios.get('/events/myEvents');\n    }\n}\n\nexport default new EventsApi();\n","import { makeObservable, observable, action } from 'mobx';\nimport eventsApi from '../services/eventsApi';\n\nexport const RENDER_STATES = {\n    INIT: 'INIT',\n    COMMON: 'COMMON',\n    FAILURE: 'FAILURE',\n};\n\nclass ProfileStore {\n    constructor() {\n        makeObservable(this);\n    }\n\n    @observable renderState = RENDER_STATES.INIT;\n    @observable events = [];\n\n    @action loadProfile(username) {\n        this.renderState = RENDER_STATES.INIT;\n        eventsApi.getMyEvents()\n            .then(action(({ response }) => {\n                const apiData = response.getApiData();\n                this.renderState = RENDER_STATES.COMMON;\n                this.events = apiData.events;\n            }))\n            .catch(action(( {error, response }) => {\n                this.events = [];\n                this.renderState = RENDER_STATES.FAILURE;\n            }));\n    }\n}\n\nexport default new ProfileStore();\n","import Api from './api';\n\nclass AuthApi extends Api {\n    verify() {\n        return this.axios.get('/auth/verify');\n    }\n\n    login(email, password) {\n        return this.axios.post('/auth/login', {email: email, password: password});\n    }\n\n    logout() {\n        return this.axios.post('/auth/logout');\n    }\n\n    register(user) {\n        return this.axios.post('/auth/register', user);\n    }\n}\n\nexport default new AuthApi();\n","// API CODES\nconst CODES = {\n    AUTH: {\n        FAILURE: 1000,\n        VALIDATION: 1001,\n        EMAIL_EXISTS: 1002,\n        LOGIN: 1003,\n        EMPTY_CREDENTIALS: 1004,\n        INVALID_CREDENTIALS: 1005,\n        LOGOUT: 1006,\n        VERIFY: 1007,\n        UNSIGNED_TOKEN: 1007,\n        INVALID_USER: 1008,\n    },\n    EVENTS: {\n        FAILURE: 1100,\n        VALIDATION: 1101,\n        ROOM_NOT_EXISTS: 1102,\n        ROOM_NOT_ACTIVE: 1103,\n        CROSS_DATES: 1104,\n        NOT_EXISTS: 1105,\n        NOT_BELONG_TO_YOU: 1106,\n        ID_REQUIRED: 1107,\n        ID_INVALID: 1108,\n    },\n    LOGIN: {\n        EMPTY_CREDENTIALS: 1200,\n        INVALID_CREDENTIALS: 1201,\n        JWT_UNAUTHORIZED: 1202,\n        UNSIGNED_TOKEN: 1203,\n        INVALID_TOKEN: 1204,\n        EMAIL_EXISTS: 1205,\n    },\n    ROOMS: {\n        FAILURE: 1300,\n        INVALID_DATE: 1301,\n    }\n}\nexport default CODES;\n","export const validateEmail = (email = '') => {\n    const emailRegExp = RegExp( /^[a-zA-Z0-9]+@[a-zA-Z0-9]+\\.[A-Za-z]+$/);\n    const isValid = emailRegExp.test(email);\n    return isValid ? true : { message: 'Invalid Email' };\n}\n\nexport const validateUserName = (name) => {\n    const nameRegexp = RegExp(/^[a-z]\\w{2,30}$/i);\n    const isValid = nameRegexp.test(name);\n    return isValid ? true : { message: 'Name should starts with letter, and contain minimum 3 character' };\n}\n\nexport const validatePassword = (password = '') => {\n    const passwordRegexp = /^.*(?=.{8,})(?=.*[a-zA-Z])(?=.*\\d)(?=.*[!#$%&? \"]).*$/;\n    const isValid = passwordRegexp.test(password);\n    return isValid ? true: { message: 'must contain 8 characters and at least one number, one letter and one unique character such as !#$%&?' };\n}\n\nexport const validateRoomTitle = (title) => {\n    const isValid = ((typeof title === 'string' || title instanceof String)\n        && title.length >= 3)\n    return isValid ? true : { message: 'Atleast 3 characaters required' };\n}\n\nexport const validateRoomNumber = (number) => {\n    // eslint-disable-next-line\n    const isValid = number && (number == (number ^ 0));\n    return isValid ? true : { message: 'Allowed only integers' };\n}\n","import { makeObservable, observable, action } from 'mobx';\nimport appStore from './appStore';\nimport userStore from './userStore';\nimport authApi from '../services/authApi';\nimport CODES from '../services/codes'\nimport { validateEmail, validateUserName, validatePassword } from '../includes/validators';\n\n\nexport const RENDER_STATES = {\n    COMMON: 'COMMON',\n    FAILURE: 'FAILURE',\n};\n\nclass authStore{\n    constructor() {\n        makeObservable(this);\n    }\n\n    @observable values = {\n        email: '',\n        password: '',\n        name: '',\n        password_confirm: '',\n    }\n\n    @action reset() {\n        this.values.name = '';\n        this.values.email = '';\n        this.values.password = '';\n        this.values.password_confirm = '';\n        this.serviceMessage = '';\n        this.errors = {}\n    }\n\n    @action setName(name) {\n        this.values.name = name;\n        const validate = validateUserName(name);\n        console.log('name', validate);\n        true === validate ? delete this.errors.name: this.errors.name = validate;\n    }\n\n    @action setEmail(email) {\n        this.values.email = email;\n        const validate = validateEmail(email);\n        true === validate ? delete this.errors.email : this.errors.email = validate;\n    }\n\n    @action setPassword(password) {\n        this.values.password = password;\n        const validate = validatePassword(password);\n        true === validate ? delete this.errors.password: this.errors.password = validate;\n    }\n\n    @action setPasswordConfirm(password_confirm) {\n        this.values.password_confirm = password_confirm;\n        console.log(this.values.password, this.values.password_confirm);\n        const validate = this.values.password === this.values.password_confirm;\n        true === validate ?  delete this.errors.password_confirm\n            : this.errors.password_confirm = { message: 'Passwords dismatched' };\n    }\n\n    @observable renderState = RENDER_STATES.COMMON;\n    @observable errors = {};\n    @observable serviceMessage = '';\n    @observable inProgress = false;\n\n    @action login() {\n        this.inProgress = true;\n        this.serviceMessage = '';\n        return authApi.login(this.values.email, this.values.password)\n            .then(action(({ response }) => {\n                const apiData = response.getApiData();\n                userStore.setUser(apiData.user);\n                appStore.setToken(apiData.user.token);\n            }))\n            .catch(action(({ error, response }) => {\n                const apiMessage = response.getApiMessage();\n                const apiCode = response.getApiCode();\n                this.renderState = RENDER_STATES.FAILURE;\n                switch(apiCode) {\n                    case CODES.AUTH.INVALID_CREDENTIALS:\n                    case CODES.AUTH.EMPTY_CREDENTIALS:\n                        this.serviceMessage = 'Invalid credentials';\n                        break;\n                    default:\n                        console.log('authStore login default case', apiMessage);\n                        this.serviceMessage = 'Server error';\n                }\n                throw new Error('Server error');\n            }))\n            .finally(action(() => {\n                this.inProgress = false;\n            }));\n    }\n\n    @action register() {\n        this.inProgress = false;\n        const data = {\n            name: this.values.name,\n            email: this.values.email,\n            password: this.values.password,\n        }\n        return authApi.register(data)\n            .then(action(({ response }) => {\n                const apiData = response.getApiData();\n                userStore.setUser(apiData.user);\n                appStore.setToken(apiData.user.token);\n            }))\n            .catch(action(({ error, response }) => {\n                const apiMessage = response.getApiMessage();\n                const apiCode = response.getApiCode();\n                const apiData = response.getApiData();\n                console.log('register catch', apiCode, apiMessage);\n                switch(apiCode) {\n                    case CODES.AUTH.VALIDATION:\n                        this.errors = apiData.errors;\n                        break;\n                    case CODES.AUTH.EMAIL_EXISTS:\n                        this.errors = {email: { message: 'Email exists' }};\n                        break;\n                    default:\n                        this.serviceMessage = 'Server error';\n                }\n                throw error;\n            }))\n            .finally(action(() => {\n                this.inProgress = false;\n            }));\n    }\n}\nexport default new authStore();\n","import createAxiosInstance from '../axios';\n\n\nconst axiosInstance = createAxiosInstance(process.env.REACT_APP_ADMIN_API_BASE_URL);\n\nclass AdminApi {\n    constructor() {\n        this.axios = axiosInstance;\n    }\n}\n\nexport default AdminApi;\n","import Api from './adminApi.js';\n\nclass RoomsApi extends Api {\n    getRoomsList() {\n        return this.axios.get('/rooms/roomsList');\n    }\n    saveRooms = (rooms) => {\n        return this.axios.post('/rooms/saveRooms', {rooms: rooms});\n    }\n    deleteRoom = (id) => {\n        return this.axios.delete(`/rooms/room/${id}`);\n    }\n}\n\nexport default new RoomsApi();\n","import { makeObservable, observable, action } from 'mobx';\nimport roomsApi from '../../services/admin/roomsApi';\nimport { validateRoomNumber, validateRoomTitle }  from '../../includes/validators';\n\nexport const RENDER_STATES = {\n    INIT: 'INIT',\n    COMMON: 'COMMON',\n    FAILURE: 'FAILURE',\n};\n\nclass RoomsStore {\n    constructor() {\n        makeObservable(this);\n    }\n    fields = {\n        number: {\n            required: true, text: 'Number',\n        },\n        title: {\n            required: true, text: 'Title'\n        },\n        status: { text: 'Status' }\n    }\n\n    focusedField = undefined;\n\n    getNewRoomObject() {\n        return {\n            _id: 'freshRoom_' + this.rooms.length,\n            number: '',\n            title: '',\n            status: 'closed',\n            // isNew nean room not yet stored in database\n            isNew: true\n        }\n    }\n\n    getRequiredFields() {\n        return Object.keys(this.fields).filter(field => true === this.fields[field].required);\n    }\n\n    @observable renderState = RENDER_STATES.INIT;\n    @observable rooms = [];\n    @observable page = 1;\n    @observable errorMessage = '';\n    @observable isLoading = false;\n\n    @action setErrorMessage(msg) {\n        this.errorMessage = msg;\n    }\n\n    @action loadRoomList() {\n        this.isLoading = true;\n        roomsApi.getRoomsList()\n        .then(action(({ response }) => {\n            const apiData = response.getApiData();\n            this.renderState = RENDER_STATES.COMMON;\n            this.rooms = apiData.rooms;\n        }))\n        .catch(action(( {error, response }) => {\n            this.rooms = [];\n            this.renderState = RENDER_STATES.FAILURE;\n        }))\n        .finally(action(() => {\n            this.isLoading = false;\n        }));\n    }\n\n    @action toggleRoomsStatus(roomId) {\n        this.isLoading = true;\n        let room = this.rooms.find(room => room._id === roomId);\n        if (!room) {\n            console.error(`Room with id:${roomId} doesn't exist`);\n            return;\n        }\n        const status = room.status === 'closed' ? 'active' : 'closed';\n        room['status'] = status;\n        if (room.isNew) {\n            try {\n                this.createNewRoom(room, {status: status});\n            }\n            catch (err) {\n                console.error('toggleStatusHandler->createNewRoom', err);\n                this.setErrorMessage(err.message);\n            }\n\n        }\n        else {\n            try{\n                this.updateRoom(room, {status: status});\n            }\n            catch (err) {\n                this.setErrorMessage(err.message)\n                console.error('toggleStatusHandler->updateRoom', err)\n            }\n        }\n    }\n\n    @action addFreshRoom() {\n        this.rooms.push(this.getNewRoomObject());\n    }\n\n    saveFocus(e) {\n        console.warn('saveFocus', e);\n        this.focusedField = e;\n    }\n\n    @action setRoomField(roomId, fieldName, fieldValue) {\n        const room = this.rooms.find(room => room._id === roomId);\n        if (room) {\n            room[fieldName] = fieldValue;\n            const validationRes = validateInputFields(fieldName, fieldValue);\n            if (true !== validationRes) {\n                if (false === 'errors' in room){\n                    console.warn('create error prop');\n                    room.errors = {};\n                }\n                console.warn('set err prop', fieldName);\n\n                room.errors[fieldName] = validationRes[fieldName];\n                return false;\n            }\n            else {\n                if (room.errors && room.errors[fieldName]) {\n                    console.warn('delete err', fieldName);\n                    delete room.errors[fieldName];\n                }\n            }\n        }\n        return true;\n    }\n\n    @action updateField(roomId, name, value) {\n        const data = {[name]: value};\n        const room = this.rooms.find(room => room._id === roomId);\n        room[name] = value;\n        if (!room) {\n            console.info('updateRoomHandler nothing to save');\n            return;\n        }\n\n        if (room.isNew) {\n            this.createNewRoom(room);\n        }\n        else {\n            this.updateRoom(room, data);\n        }\n    }\n\n    @action createNewRoom(room) {\n        if (!room.isNew) {\n            throw new Error('This room in database')\n        }\n        const requiredFields = this.getRequiredFields();\n        this.errors = {}\n        const validationRes = validateInputFields(requiredFields, room);\n        if (true !== validationRes) {\n            console.warn('set all errors props');\n            room.errors = validationRes;\n            return;\n        }\n        const postData = {};\n        requiredFields.forEach(field => {\n            postData[field] = room[field];\n        });\n        this.isLoading = true;\n        roomsApi.saveRooms(postData)\n            .then(action(({ response }) => {\n                const apiData = response.getApiData();\n                const newId = apiData?.room._id;\n                // change rooms coming from createNewRoom arg\n                if (newId) {\n                    room._id = newId;\n                    delete room.isNew;\n                    // delete room.errors;\n                }\n                else {\n                    this.setErrorMessage('Missed room id from server response');\n                }\n            }))\n            .catch(action(({ error, response }) => {\n                const apiData = response && response.getApiData();\n                if (apiData.fields && 'object' === typeof apiData.fields) {\n                    console.warn('set all err props from resp');\n                    room.errors = apiData.fields;\n                }\n                else {\n                    console.error(error);\n                    this.setErrorMessage('Server error');\n                }\n            }))\n            .finally(action(() => {\n                this.isLoading = false;\n            }));\n    }\n\n    @action updateRoom(room, data = false) {\n        if (room.isNew) {\n            throw new Error('This room does not exists in database');\n        }\n        if ('object' !== typeof data) {\n            console.log(data);\n            throw new Error('Invalid input data');\n        }\n        const postData = {_id: room._id};\n        const postKeys = Object.keys(data);\n        postKeys.forEach(field => {\n            if (field in room) {\n                postData[field] = data[field];\n                room[field] = data[field]\n            }\n        });\n        const validationRes = validateInputFields(Object.keys(postData), postData);\n        console.warn('validationRes', validationRes);\n        if (true !== validationRes) {\n            if (false === 'errors' in room.errors) {\n                room.errors = {};\n            }\n            Object.keys(validationRes).forEach(key => {\n                room.errors[key] = validationRes[key];\n            });\n        }\n        if (room.errors && Object.keys(room.errors).length > 0) {\n            return false;\n        }\n        this.isLoading = true;\n        roomsApi.saveRooms(postData)\n        .then(action(({ response }) => {\n            // restore focus after disable inputs\n            setTimeout(() => {\n                this.focusedField.focus();\n            }, 0);\n        }))\n        .catch(action(({ error, response }) => {\n            if (response) {\n                if (response.getApiCode() === 1105) {\n                    console.error('This room does not exists on database');\n                    this.setErrorMessage('This room does not exists on database');\n                    setTimeout(() => {\n                        this.loadRooms();\n                    }, 2000);\n                    return;\n                }\n                const apiData = response.getApiData();\n                const errorFields = (apiData.fields && 'object' === typeof apiData.fields) || null;\n                if (errorFields) {\n                    room.errors = apiData.fields;\n                }\n            }\n\n        }))\n        .finally(action(() => {\n            this.isLoading = false;\n        }));\n    }\n\n    @action deleteRoom(roomId) {\n        let needleRoom = false;\n        let roomsFiltered = this.rooms.filter(room => {\n            if (room._id === roomId) {\n                needleRoom = room;\n                return false;\n            }\n            return true;\n        });\n\n        if (!needleRoom) {\n            console.error('Nothing to delete');\n            return;\n        }\n\n        else {\n            this.isLoading = false;\n            roomsApi.deleteRoom(roomId)\n            .then(action(({ response }) => {\n                this.rooms = roomsFiltered;\n            }))\n            .catch(action(({ error, response }) => {\n                const message = (error && error.getApiMessage()) || 'Error while deleting';\n                if (response && 1104 === response.getApiCode()) {\n                    this.rooms = roomsFiltered;\n                }\n                else {\n                    this.setErrorMessage(message)\n                }\n            }))\n            .finally(action(() => {\n                this.isLoading = false;\n            }));\n        }\n    }\n\n\n}\n\nexport const validateInputFields = (fields, data  = []) => {\n    const fieldNames = 'string' === typeof fields ? [fields] : fields;\n    if (Array.isArray(fieldNames)) {\n        const errors = {};\n        fieldNames.forEach(field => {\n            let validateFunc;\n            switch(field) {\n                case 'title':\n                    validateFunc = validateRoomTitle;\n                    break;\n                case 'number':\n                    validateFunc = validateRoomNumber;\n                    break;\n                default: validateFunc = undefined;\n            }\n            if (validateFunc) {\n                const value = fieldNames.length === 1 ? String(data) : data[field];\n                const isValid = validateFunc(value);\n                if (true !== isValid)\n                    errors[field] = isValid;\n            }\n        });\n\n        return Object.keys(errors).length ? errors : true;\n    }\n}\n\nexport default new RoomsStore();\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst PrivateRoute = ({component: Component, ...rest}) => {\n    return (\n        // Show the component only when the user is logged in\n        // Otherwise, redirect the user to /login page\n        <Route {...rest} render={props => (\n            rest.isLoggedIn ?\n                <Component {...props} />\n                : <Redirect to={{\n                    pathname: \"/login\",\n                    from: rest.location.pathname,\n                }} />\n        )} />\n    );\n};\n\nexport default PrivateRoute;\n","import React from 'react';\n\nimport './index.scss'\n\n const Page403 = ({ location }) => (\n   <div className=\"page403 page\">\n      <h3 className=\"text-center\">You dont have permission to <code>{location.pathname}</code></h3>\n   </div>\n);\n\nexport default Page403;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport Page403 from '../pages/Page403';\n\nconst AdminRoute = ({component: Component, ...rest}) => {\n    return (\n\n        // Show the component only when the user is logged in\n        // Otherwise, load 403 page\n\n        <Route {...rest} render={props => (\n            rest.isLoggedIn && rest.isAdmin ?\n                <Component {...props} />\n                : <Page403 {...props} />\n        )} />\n    );\n};\n\nexport default AdminRoute;\n","import React from 'react';\nimport './index.scss'\n\nclass Bayan extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.backgroundColor = this.props.backgroundColor || 'inherit';\n\t\tthis.color = this.props.color || 'inherit';\n\t}\n\trender() {\n\t\tconst bayanStyle = {\n\t\t\tbackgroundColor: this.backgroundColor,\n\t\t\tcolor: this.color,\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"bayan\" style={bayanStyle}>\n\t\t\t\t<div>&middot;</div>\n\t\t\t\t<div>&middot;</div>\n\t\t\t\t<div>&middot;</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Bayan;\n","import React from 'react';\nimport authApi from '../../services/authApi'\nimport { inject } from 'mobx-react';\nimport Link from '@material-ui/core/Link';\n\n@inject('appStore')\n@inject('userStore')\nclass LogoutLink extends React.Component {\n\tdoLogout() {\n        authApi.logout().finally(() => {\n            this.props.userStore.setUser(undefined);\n            this.props.appStore.unsetToken();\n        });\n\t}\n\trender() {\n        console.log('LogoutLink render', this.props.userStore.isLoggedIn);\n        if (this.props.userStore.isLoggedIn) {\n            return (\n                <Link href=\"#\" onClick={this.doLogout.bind(this)}>Logout</Link>\n            );\n        }\n        return '';\n\t}\n}\n\nexport default LogoutLink;\n","import React from 'react';\nimport { observer, inject } from \"mobx-react\"\nimport { IconButton } from '@material-ui/core';\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\n\n@inject('appStore')\n@observer\nclass ThemeSwitcher extends React.PureComponent {\n    handleClick = event => {\n        const newMode = !this.props.appStore.preferDarkMode;\n        this.props.appStore.setPreferDarkMode(newMode);\n    };\n    render() {\n        let icon = this.props.appStore.preferDarkMode ? <Brightness7Icon/> : <Brightness4Icon/>;\n        return <IconButton onClick={this.handleClick} className=\"themeSwitcher\">{icon}</IconButton>;\n    }\n}\nexport default ThemeSwitcher;\n","import React from 'react';\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { inject } from 'mobx-react';\nimport LogoutLink from '../LogoutLink'\nimport { AppBar, Toolbar, Link } from '@material-ui/core';\nimport ThemeSwitcher from '../ThemeSwitcher';\nimport './index.scss';\n\n\n@inject('userStore')\n@inject('appStore')\nclass Header extends React.Component{\n    render() {\n        const userStore = this.props.userStore;\n        let links = [];\n        switch(true) {\n            case userStore.isLoggedIn:\n            case userStore.isAdmin:\n                links.push(\n                    <LogoutLink key=\"logout\"/>,\n                    <Link key=\"events\" component={RouterLink} to=\"/events\">Events</Link>,\n                    <Link key=\"profile\" component={RouterLink} to={`/@${userStore.user.name}`}>Profile</Link>,\n                );\n                if (userStore.isAdmin) {\n                    links.push(<Link key=\"rooms\" component={RouterLink} to=\"/rooms\">Rooms</Link>);\n                }\n                break;\n            default:\n                links.push(\n                    <Link key=\"login\" component={RouterLink} to=\"/login\">Login</Link>,\n                    <Link key=\"register\" component={RouterLink} to=\"/register\">Register</Link>,\n                );\n\n        }\n        return (\n            <AppBar position=\"static\" color={this.props.appStore.preferDarkMode ? 'default' : 'primary'}>\n                <Toolbar className=\"linksBar\">\n                    <div className=\"navLinks\">\n                        {links}\n                    </div>\n                    <div className=\"linkThemeSwitcher\">\n                        <ThemeSwitcher/>\n                    </div>\n                </Toolbar>\n            </AppBar>\n        );\n    }\n}\n\nexport default Header;\n","import React from 'react';\nimport { AppBar, Toolbar, Link } from '@material-ui/core';\n\nimport './index.scss';\n\nclass Footer extends React.Component {\n\trender() {\n\t\treturn (\n            <footer>\n                <AppBar position=\"static\" color=\"default\">\n                    <Toolbar className=\"footer\" color=\"default\">\n                        <div>\n                            Based on <Link href=\"https://reactjs.org\">React</Link><span> {React.version} </span>\n                        </div>\n                    </Toolbar>\n                </AppBar>\n            </footer>\n\t\t);\n\t}\n}\n\nexport default Footer;\n","import React from 'react';\nimport { Link as LinkRouter } from 'react-router-dom';\nimport { observer, inject } from 'mobx-react';\nimport Bayan from '../../components/Bayan';\nimport { Container, FormControl, TextField, Button, Link, FormHelperText } from '@material-ui/core'\n\nimport './index.scss';\n\n\n@inject('authStore')\n@observer\nclass Login extends React.Component {\n    componentWillUnmount() {\n        this.props.authStore.reset();\n    }\n\n\thandleSubmit = e => {\n        e.preventDefault();\n        this.props.authStore.login()\n            .then(() => {\n                const from = this.props.history.location.from;\n                if (from && false === from.startsWith('/login')) {\n                    this.props.history.replace(from);\n                    return;\n                }\n                this.props.history.replace(\"/\");\n            })\n            .catch((e) => {\n                console.log(e);\n            });\n\t};\n\n\thandleEmailChange = e => {\n        console.log(e.target.value);\n        this.props.authStore.setEmail(e.target.value);\n\t}\n\n\thandlePasswordChange = e => {\n        this.props.authStore.setPassword(e.target.value);\n\t}\n\n\trender() {\n        console.log('Login page render');\n\t\tconst errors = this.props.authStore.errors;\n\t\tconst serviceMessage = this.props.authStore.serviceMessage;\n\t\treturn (\n\t\t\t<Container maxWidth=\"sm\">\n\t\t\t\t<div className=\"login page\">\n\t\t\t\t\t<h2 className=\"text-center\">Login page</h2>\n\t\t\t\t\t<form onSubmit={this.handleSubmit} noValidate>\n\t\t\t\t\t\t<FormControl className=\"login__form-control\">\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\tlabel=\"Email:\"\n\t\t\t\t\t\t\t\tvalue={this.props.authStore.values.email}\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tonChange={this.handleEmailChange}\n\t\t\t\t\t\t\t\terror={!!errors?.email} />\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t<FormControl className=\"login__form-control\">\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\tlabel=\"Password:\"\n\t\t\t\t\t\t\t\tvalue={this.props.authStore.values.password}\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tonChange={this.handlePasswordChange}\n\t\t\t\t\t\t\t\terror={!!errors?.password} />\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t<FormControl error={!!serviceMessage.length} className=\"login__serviceContainer\">\n\t\t\t\t\t\t\t{this.props.authStore.inProgress && <Bayan/>}\n\t\t\t\t\t\t\t<FormHelperText>{serviceMessage}</FormHelperText>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" fullWidth type=\"submit\"\n                                disabled={this.props.authStore.inProgress}>Login\n                            </Button>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t<p className=\"login__invite\">\n\t\t\t\t\t\t\t<Link color=\"primary\" component={LinkRouter} to=\"/register\">\n\t\t\t\t\t\t\t\tDon't have account? click register\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</Container>\n\t\t);\n\t}\n\n}\n\nexport default Login;\n","import React from 'react'\nimport Bayan from '../../components/Bayan'\nimport { Button, Container, FormControl, TextField, FormHelperText, } from '@material-ui/core'\nimport { observer, inject } from 'mobx-react';\n\nimport './index.scss';\n\n@inject('authStore')\n@observer\nclass Register extends React.Component {\n    componentWillUnmount() {\n        this.props.authStore.reset();\n    }\n\n    handleSubmit = e => {\n        e.preventDefault();\n        this.props.authStore.register()\n            .then(() => {\n                this.props.history.replace('/');\n            })\n            .catch(e => {\n                console.log(e);\n            });\n    }\n\n    handleChangeName = e => {\n        this.props.authStore.setName(e.target.value);\n    }\n\n    handleChangeEmail = e => {\n        this.props.authStore.setEmail(e.target.value);\n    }\n\n    handlePasswordChange = e => {\n        this.props.authStore.setPassword(e.target.value);\n    }\n\n    handlePasswordConfirmChange = e => {\n        this.props.authStore.setPasswordConfirm(e.target.value);\n    }\n\n    render() {\n        const errors = this.props.authStore.errors;\n        console.log('errors', errors.email);\n        const helperTextName = errors?.name?.message || 'Name should starts with letter, and contain minimum 3 character';\n        const helperTextEmail = errors?.email?.message || 'Email is invalid';\n        const helperTextPasswordConfirmation = errors?.password_confirm?.message || 'Invalid password confirmation';\n        const helperTextPassword = errors?.password?.message || 'Password must contain 8 characters and at least one number, one letter and one special character';\n        const serviceMessage = this.props.authStore.serviceMessage;\n        return (\n            <Container maxWidth=\"sm\">\n                <div className=\"register page\">\n                    <h2 className=\"text-center\">Register new user</h2>\n\n                    <form onSubmit={this.handleSubmit}>\n                        <FormControl>\n                            <TextField\n                                name=\"name\"\n                                onChange={this.handleChangeName}\n\t\t\t\t\t\t\t\terror={!!errors?.name}\n                                id=\"name\"\n                                label=\"Name:\"\n                                fullWidth\n                                variant=\"outlined\"\n                            />\n                            {!!errors.name && <FormHelperText error={true} className=\"errorHelper\">{helperTextName}</FormHelperText> }\n                        </FormControl>\n\n                        <FormControl>\n                            <TextField\n                                onChange={this.handleChangeEmail}\n                                name=\"email\"\n\t\t\t\t\t\t\t\terror={!!errors?.email}\n                                fullWidth\n                                label=\"Email:\"\n                                variant=\"outlined\"\n                            />\n                            {!!errors.email && <FormHelperText error={true} className=\"errorHelper\">{helperTextEmail}</FormHelperText> }\n                        </FormControl>\n\n                        <FormControl>\n                            <TextField\n                                onChange={this.handlePasswordChange}\n                                error={!!errors?.password}\n                                name=\"password\"\n                                fullWidth\n                                label=\"Password:\"\n                                variant=\"outlined\"\n                                type=\"password\"\n                            />\n                            {!!errors.password && <FormHelperText error={true} id=\"password-error\">{helperTextPassword}</FormHelperText>}\n                        </FormControl>\n\n                        <FormControl>\n                            <TextField\n                                onChange={this.handlePasswordConfirmChange}\n                                error={!!errors?.password_confirm}\n                                name=\"password_confirm\"\n                                fullWidth\n                                label=\"Password confirm:\"\n                                variant=\"outlined\"\n                                type=\"password\"\n                            />\n                            {!!errors.password_confirm && <FormHelperText error={true} >{helperTextPasswordConfirmation}</FormHelperText>}\n                        </FormControl>\n\n                        <FormControl error={!!serviceMessage.length} className=\"serviceMessage\">\n                            {this.props.authStore.inProgress && <Bayan/>}\n                            <FormHelperText>{serviceMessage}</FormHelperText>\n                        </FormControl>\n\n                        <FormControl>\n                            <Button variant=\"contained\" color=\"primary\"  fullWidth type=\"submit\"\n                                disabled={this.props.authStore.inProgress}>Register\n                            </Button>\n                        </FormControl>\n\n                    </form>\n                </div>\n            </Container>\n        );\n    }\n}\n\nexport default Register;\n","class Model {\n    assignProps(props) {\n        Object.keys(props).forEach(key => {\n            this[key] = props[key];\n        });\n    }\n}\n\nexport class Room extends Model {\n    constructor(room = {}) {\n        super();\n        this._id = '';\n        this.number = '';\n        this.assignProps(room);\n    }\n}\n\nexport class User extends Model {\n    constructor(user = {}) {\n        super();\n        this._id = '';\n        this.name = '';\n        this.email = '';\n        this.assignProps(user);\n    }\n}\n\nexport class Event extends Model {\n    constructor(event = {}) {\n        super();\n        this._id =  '';\n        this.room = new Room();\n        this.user = new User();\n        this.title = '';\n        this.description = '';\n        this.date_start = '';\n        this.date_end = '';\n\n        this.assignProps(event);\n    }\n}\n\n","import { Event } from './models';\nimport dayjs from 'dayjs';\n\n\nexport class EventHelper extends Event {\n\n    static dateFormat(date, format = '') {\n        return dayjs(date).format(format);\n    }\n\n    /*\n     * Description.\n     * Format date to client side pages\n     */\n    static dateFormatClient(date, format = 'ddd DD YYYY HH:mm') {\n        return dayjs(date).format(format);\n    }\n}\n","import React from 'react';\nimport Alert from '@material-ui/lab/Alert'\n\nexport default class ServerError extends React.Component {\n    constructor(props) {\n        super(props);\n        this.data = []\n        if (typeof this.props.data === 'string' || this.props.data instanceof String) {\n            this.data.push(this.props.data);\n        }\n        else {\n            this.data = this.props.data;\n        }\n        this.severity = this.props.severity || 'error';\n    }\n    render() {\n        return (\n            <Alert className=\"ServerError\" severity={this.severity}>\n                {this.data.map((row, index) => (\n                    <div key={index}>{row}</div>\n                ))}\n            </Alert>\n        );\n    }\n}\n","import React from 'react';\nimport Alert from '@material-ui/lab/Alert'\n\nexport default class AppError extends React.Component {\n    constructor(props) {\n        super(props);\n        this.data = []\n        if (typeof this.props.data === 'string' || this.props.data instanceof String) {\n            this.data.push(this.props.data);\n        }\n        else {\n            this.data = this.props.data;\n        }\n        this.severity = this.props.severity || 'error';\n    }\n    render() {\n        return (\n            <Alert className=\"appError\" severity={this.severity}>\n                {this.data.map((row, index) => (\n                    <div key={index}>{row}</div>\n                ))}\n            </Alert>\n        );\n    }\n}\n","import React from 'react';\nimport { Link as routerLink } from 'react-router-dom';\nimport { inject, observer } from 'mobx-react';\nimport {\n    Grid,\n    Container,\n    Link,\n} from '@material-ui/core'\nimport { EventHelper } from '../../includes/modelsHelpers';\nimport ServerError from '../../components/ServerError';\nimport AppError from '../../components/AppError';\nimport Bayan from '../../components/Bayan';\nimport { RENDER_STATES } from '../../stores/profileStore';\n\nimport './index.scss';\n\n\n@inject('profileStore')\n@inject('userStore')\n@observer\nclass Profile extends React.PureComponent {\n    async componentDidMount() {\n        this.props.profileStore.loadProfile();\n    }\n    renderEventList = () => {\n        let spacing = 4;\n        let events = '';\n        if (!this.props.profileStore.events.length) {\n            events = <p>You dont have any events</p>;\n            spacing = 0;\n        }\n        else {\n            events = (\n                this.props.profileStore.events.map((event, index) => (\n                    <Grid key={event._id} item sm={4} className=\"event\">\n                        <div>Room: {event.room.number}</div>\n                        <div>Title: {event.title}</div>\n                        <div>Date start: {EventHelper.dateFormatClient(event.date_start)}</div>\n                        <div>Date start: {EventHelper.dateFormatClient(event.date_end)}</div>\n                        <div>\n                            <div>Status: {event.status}</div>\n                            <Link component={routerLink} color=\"secondary\" to={`/events/change/${event._id}`}>change</Link>&nbsp;|&nbsp;\n                            <Link component={routerLink} color=\"secondary\" to={`/events/delete/${event._id}`}>delete</Link>\n                        </div>\n                    </Grid>\n                ))\n            );\n        }\n        return (\n            <div className=\"events\">\n                <Grid container className=\"userInfo\" spacing={2}>\n                    <Grid item>\n                        <p>Name: {this.props.userStore.user.name}</p>\n                    </Grid>\n                    <Grid item>\n                        <p>Email: {this.props.userStore.user.email}</p>\n                    </Grid>\n                    <Grid item>\n                        <p>Role: {this.props.userStore.isAdmin? 'admin' : 'user'}</p>\n                    </Grid>\n                </Grid>\n                <h3>Events</h3>\n                <Grid container className=\"eventsList\" spacing={spacing}>\n                    {events}\n                </Grid>\n            </div>\n        );\n    }\n    render() {\n        console.info('render profile page', this.props.profileStore.renderState)\n        let component = null;\n        switch(this.props.profileStore.renderState) {\n            case RENDER_STATES.INIT:\n                component = <Bayan/>;\n                    break;\n            case RENDER_STATES.COMMON:\n                component = this.renderEventList();\n                break;\n            case RENDER_STATES.FAILURE:\n                component = <ServerError data=\"Server error\"/>;\n                break;\n            default:\n                component = <AppError data=\"Application error\"/>;\n        }\n        return (\n            <Container maxWidth=\"md\" className={`profile page ${this.props.profileStore.renderState}`}>\n                {component}\n            </Container>\n        );\n    }\n\n}\n\nexport default Profile;\n","import React from 'react';\n\nexport const RENDER_STATES = {\n    INIT: 'INIT',\n    FAILURE: 'FAILURE',\n    COMMON: 'COMMON',\n};\n\nexport const COMPONENT_STATE = {\n    renderState: RENDER_STATES.INIT,\n    serviceMessage: null,\n    errors: {},\n    isLoading: false,\n};\n\nexport default class BaseComponent extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n        this.state = COMPONENT_STATE;\n\t}\n\tscrollToMessages() {\n\t\tconst className = this.constructor.name;\n\t\tconst containerId = className + 'Messages';\n\t\tconst element = document.querySelector('#' + containerId);\n\t\tif (element) {\n\t\t\telement.scrollIntoView({behavior: \"smooth\"});\n\t\t}\n\t}\n\n    getServerErrorState = (message, opts = {}) => {\n        const defaults = {\n            serviceMessage: message,\n            renderState: RENDER_STATES.FAILURE,\n        };\n        const state = Object.assign(defaults, opts);\n        return state;\n    };\n\n    getPermissionErrorState(message, opts = {}) {\n        const defaults = {\n            serviceMessage: message,\n            renderState: RENDER_STATES.FAILURE,\n        };\n        const state = Object.assign(defaults, opts);\n        return state;\n    }\n\n    getValidationErrorState(message, errors = {}, opts = {}) {\n        const defaults = {\n            serviceMessage: message,\n            errors: errors,\n        };\n        const state = Object.assign(defaults, opts);\n        return state;\n    }\n\n\talert = (obj, scroll = true) => {\n\t\tthis.setState(obj);\n\t\tif (scroll) {\n\t\t\tthis.scrollToMessages();\n\t\t}\n\t};\n}\n","import React from 'react'\nimport { Redirect } from 'react-router-dom';\nimport { withTheme } from '@material-ui/core/styles';\n\nimport { inject } from 'mobx-react';\nimport dayjs from 'dayjs';\n\nimport { Button, Grid, Paper, Box } from '@material-ui/core';\nimport {\n    ArrowLeft as ArrowLeftIcon,\n    ArrowRight as ArrowRightIcon,\n} from \"@material-ui/icons\";\n\nimport { EventHelper } from '../../includes/modelsHelpers';\n\nimport './index.scss';\n\n\nconst STATUSES = {\n    AVAILABLE: 'available',\n    RESERVED: 'reserved',\n    PENDING: 'pending',\n};\n\n@inject('userStore')\nclass RoomEvents extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.timeLineRef = React.createRef();\n\n        this.stepMinutes = this.props.stepMinutes;\n\n        this.initDinamycProps(this.props);\n\n        this.state = {\n            redirectToAdd: null,\n            selectedTime: this.timeLine[this.nowLabel],\n        };\n        this.mouseDownOnScrollInterval = false;\n        this.isMouseHoldedOnScroll = false;\n        this.prevWindowWidth = null;\n        this.prevClickedButton = undefined;\n    }\n\n    initDinamycProps(props) {\n        this.date = props.date;\n        this.room = props.room;\n\n        this.timeLineData = props.timeLine;\n        this.nowLabel = this.timeLineData.nowLabel;\n        this.timeLine = this.prepTimeLine(this.room.events);\n\n        this.initTimeData();\n    }\n\n    setFirstVisibleIndex(index = false) {\n        if (!index) {\n            index = this.timeLineData.nowIndex;\n            console.log(' 1 index:', index);\n        }\n        if (index < 0) {\n            index = 0;\n            console.log(' 2 index:', index);\n        }\n        const buttonsCount = this.getVibisleTimeButtonsCount();\n        if (index > this.timeLineData.items.length - buttonsCount) {\n            index = this.timeLineData.items.length - buttonsCount;\n            console.log(' 3 index:', index);\n        }\n        this.firstVisibleTimeIndex = index;\n    }\n\n    initTimeData() {\n        this.timeData = [NaN, NaN];\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        if (this.props.room.events.length !== nextProps.room.events.length) {\n            let ids = this.props.room.events.map(event => event._id).join(',');\n            let newIds = nextProps.room.events.map(event => event._id).join(',');\n            const shouldUpdate = (ids !== newIds);\n            if (shouldUpdate) {\n                this.onDataChange(nextProps);\n            }\n            return shouldUpdate;\n        }\n\n        if (dayjs(nextProps.date).isValid() && this.props.date !== nextProps.date) {\n            this.onDataChange(nextProps);\n            return true;\n        }\n\n        if (this.state.selectedTime.label !== nextState.selectedTime.label) {\n            return true;\n        }\n\n        return true;\n    }\n\n    onDataChange = (nextProps) => {\n        this.initDinamycProps(nextProps);\n        this.setState({ selectedTime: this.timeLine[this.nowLabel] });\n        this.resetSelections();// reset current selections\n        this.setTimeLineLeft();\n    }\n\n    resetSelections() {\n        this.setIntermediate();\n        const buttons = this.timeLineRef.current.querySelectorAll('.postData');\n        if (buttons) {\n            buttons.forEach(button => {\n                button.classList.remove('postData');\n            });\n        }\n    }\n\n    componentDidMount() {\n        this.setFirstVisibleIndex();\n        this.resizeTimeButtons();\n        this.setTimeLineLeft();\n\n        const timeButtons = this.timeLineRef.current.querySelector('.buttonsWrapper');\n        setTimeout(() => {\n            timeButtons.classList.remove('loading');\n        },0);\n        this.prevWindowWidth = window.innerWidth;\n        window.addEventListener('resize', this.onRezise);\n    }\n\n    onRezise = () => {\n        if (this.prevWindowWidth !== window.innerWidth) {\n            this.resizeTimeButtons();\n            this.setTimeLineLeft();\n            this.prevWindowWidth = window.innerWidth;\n        }\n    };\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.onRezise);\n    }\n\n    getVibisleTimeButtonsCount() {\n        const timeButtonsWidth = this.timeLineRef.current.querySelector('.buttonsWrapper').offsetWidth;\n        const count = 1 + parseInt(timeButtonsWidth / 100);\n        return count;\n    }\n\n    getTimeButtonWidth = () => {\n        const timeButtonsWidth = this.timeLineRef.current.querySelector('.buttonsWrapper').offsetWidth;\n        const buttonsCount = this.getVibisleTimeButtonsCount();\n        let width = parseFloat(timeButtonsWidth / buttonsCount);\n        return width;\n    };\n\n    setTimeLineLeft() {\n        const timeButtons = this.timeLineRef.current.querySelector('.timeButtons');\n        const timeButtonsWidth = this.timeLineRef.current.querySelector('.buttonsWrapper').offsetWidth;\n        const nextBtn = this.timeLineRef.current.querySelector('.next');\n        const prevBtn = this.timeLineRef.current.querySelector('.prev');\n        let left = 0;\n        let rightPosLimit = timeButtons.offsetWidth - timeButtonsWidth;\n        const buttonsCount = this.getVibisleTimeButtonsCount();\n        // if last button is visible stick to right\n        if (buttonsCount >= this.timeLineData.items.length - this.firstVisibleTimeIndex) {\n            left = rightPosLimit;\n            this.firstVisibleTimeIndex = this.timeLineData.items.length - buttonsCount;\n            nextBtn.setAttribute('disabled', true);\n        }\n        else if (this.firstVisibleTimeIndex > 0) {\n            nextBtn.removeAttribute('disabled');\n            let buttons = this.timeLineRef.current.querySelectorAll('.timebtn');\n            [].some.call(buttons, (button, btnIndex) => {\n                left += button.offsetWidth;\n                return this.firstVisibleTimeIndex <= btnIndex + 1;\n            });\n        }\n\n        else if (this.firstVisibleTimeIndex < 1) {\n            prevBtn.setAttribute('disabled', true);\n        }\n\n        timeButtons.style.left = -left + 'px';\n    }\n\n    resizeTimeButtons = () => {\n        const buttonWidth = this.getTimeButtonWidth();\n        this.timeLineRef.current.querySelectorAll('.timebtn').forEach(item => {\n            item.style.minWidth = buttonWidth + 'px';\n            item.style.maxWidth = buttonWidth + 'px';\n            item.style.width = buttonWidth + 'px';\n        });\n    };\n\n    scroll = (toRight = true) => {\n        const fromTime = this.state.selectedTime.label;\n        const timeButtons = this.timeLineRef.current.querySelector('.timeButtons');\n        const buttonsWrapper = this.timeLineRef.current.querySelector('.buttonsWrapper');\n        const prevBtn = this.timeLineRef.current.querySelector('.prev');\n        const nextBtn = this.timeLineRef.current.querySelector('.next');\n        let currentPos = parseInt(timeButtons.style.left) || 0;\n        let newPos = null;\n        const btnFrom = this.timeLineRef.current.querySelector(`button[data-label=\"${fromTime}\"]`);\n        let scrollStep = btnFrom.offsetWidth;\n\n        newPos = toRight ? currentPos - scrollStep : currentPos + scrollStep;\n\n        let leftPosLimit = 0;\n        // let rightPosLimit = timeButtons.offsetWidth + prevBtn.offsetWidth + nextBtn.offsetWidth;\n        let rightPosLimit = timeButtons.offsetWidth - buttonsWrapper.offsetWidth;\n\n        if (newPos >= leftPosLimit) {\n            newPos = 0;\n            prevBtn.setAttribute('disabled', true);\n        }\n        else {\n            prevBtn.removeAttribute('disabled');\n        }\n\n        if (Math.abs(newPos) >= rightPosLimit ) {\n            newPos = (-rightPosLimit);\n            nextBtn.setAttribute('disabled', true);\n        }\n        else {\n            nextBtn.removeAttribute('disabled');\n        }\n\n        timeButtons.style.left = newPos + 'px';\n\n    };\n\n    scrollToRight = () => {\n        this.firstVisibleTimeIndex++;\n        this.scroll();\n    }\n\n    scrollToLeft = () => {\n        this.firstVisibleTimeIndex--;\n        this.scroll(false);\n    }\n\n    scrollSwitch = (direction) => {\n        if (direction === 'left') {\n            this.scrollToLeft();\n        }\n        else if (direction === 'right') {\n            this.scrollToRight();\n        }\n    }\n\n    handleScrollMouseDown = (e, direction) => {\n        if (e.button !== 0) return;\n        e.stopPropagation();\n        if (direction) {\n            this.mouseDownOnScrollInterval = setInterval(() => {\n                this.isMouseHoldedOnScroll = true;\n                this.scrollSwitch(direction);\n            }, 300);\n        }\n    }\n\n    handleScrollMouseUp = (e, direction) => {\n        if (e.button !== 0) return;\n        e.stopPropagation();\n        if (!this.isMouseHoldedOnScroll) {\n            this.scrollSwitch(direction);\n        }\n        this.isMouseHoldedOnScroll = false;\n        clearInterval(this.mouseDownOnScrollInterval);\n    }\n\n    prepTimeLine(events = []) {\n        let timeLine = {};\n        this.timeLineData.items.forEach(item => {\n            let status = STATUSES.AVAILABLE;\n            let crossedOrPengingEvent = null;\n            if (events.length) {\n                events.some(event => {\n                    status = this.getStatus(item.date, event);\n                    crossedOrPengingEvent = event;\n                    return STATUSES.AVAILABLE !== status;\n                });\n            }\n            timeLine[item.label] = {\n                label: item.label,\n                date: item.date,\n                event: crossedOrPengingEvent,\n                status: status,\n                className: '',\n                disabled: status !== STATUSES.AVAILABLE,\n            };\n        });\n        return timeLine;\n    }\n\n    handleTimeClick = (e) => {\n        const label = e.currentTarget.dataset.label;\n        this.setTimeData(e.currentTarget);\n        this.changeTime(label);\n        this.prevClickedButton = e.currentTarget;\n    };\n\n    setIntermediate = () => {\n        this.timeLineRef.current.querySelectorAll('.timebtn').forEach((btn, index) => {\n            if (this.timeData[0] && index >= this.timeData[0]\n                && this.timeData[1] && index <= this.timeData[1]) {\n                btn.classList.add('intermediate');\n            }\n            else {\n                btn.classList.remove('intermediate');\n            }\n        });\n    };\n\n    getTimeData = () => {\n        return this.timeData.filter(value => value).sort().map(timeIndex => {\n            let label = this.timeLineData.items[timeIndex].label;\n            return label;\n        });\n    }\n\n    setTimeData(clickedBtn) {\n        let newTimeData = Array.from(this.timeData);\n        let status = clickedBtn.dataset.status\n        let index = clickedBtn.dataset.index;\n        if (status !== STATUSES.AVAILABLE) {\n            return;\n        }\n        // unselect when maches with first\n        if (index === this.timeData[0]) {\n            newTimeData[0] = NaN;\n            console.log('unselect when maches with first');\n        }\n        // unselect when maches with second\n        else if (index === this.timeData[1]) {\n            newTimeData[1] = NaN;\n            console.log('// unselect when maches with second');\n        }\n        // save to first if first is not set\n        else if(!(this.timeData[0])) {\n            newTimeData[0] = index;\n            console.log(' // save to first if first is not set ');\n        }\n        // save to second if second is not set\n        else if (!(this.timeData[1])) {\n            newTimeData[1] = index;\n            newTimeData = newTimeData.sort();\n            console.log(' // save to second if second is not set ');\n        }\n\n        else {\n            // if index less then first index change first index to new index\n            if (index < newTimeData[0]) {\n                newTimeData[0] = index;\n                console.error('qp');\n                console.log(' // if index less then first index change first index to new index ');\n            }\n            // otherwise change secound index to new index\n            // in case when need to change time end its good logic but when need to change \"time start\" its confuse\n            else {\n                newTimeData[1] = index;\n                console.error('qb');\n                console.log(' // otherwise change secound index to new index');\n            }\n        }\n        // both date selected - check intermediate times statuses\n        console.log('newTimeData', newTimeData);\n        console.log('timeLine', this.timeLine);\n        if (newTimeData[0] && newTimeData[1]) {\n            const sortedIndexes = Array.from(newTimeData).sort();\n            for(let i = sortedIndexes[0]; i <= sortedIndexes[1]; i++) {\n                const label = this.timeLineData.items[i].label;\n                const status = this.timeLine[label].status;\n                if (STATUSES.AVAILABLE !== status) {\n                    console.log('found not available', 'label', label, status);\n                    return false;\n                }\n            }\n        }\n\n        for(let i = 0; i <= 1; i++) {\n            if (!this.timeData[i] && newTimeData[i]) {\n                // add new selection\n                const btn = this.timeLineRef.current.querySelector(`.timebtn[data-index=\"${newTimeData[i]}\"]`);\n                btn.classList.add('postData');\n            }\n            else if (this.timeData[i] && !newTimeData[i]) {\n                // remove old selection\n                const btn = this.timeLineRef.current.querySelector(`.timebtn[data-index=\"${this.timeData[i]}\"]`);\n                btn.classList.remove('postData');\n            }\n            else if (this.timeData[i] && newTimeData[i] && this.timeData[i] !== newTimeData[i]) {\n                // replace selection with new index\n                const prevBtn = this.timeLineRef.current.querySelector(`.timebtn[data-index=\"${this.timeData[i]}\"]`);\n                const newBtn = this.timeLineRef.current.querySelector(`.timebtn[data-index=\"${newTimeData[i]}\"]`);\n                prevBtn.classList.remove('postData');\n                newBtn.classList.add('postData');\n            }\n        }\n\n        // clickedBtn.classList.add('postData');\n        console.log('setIntermediate');\n        this.timeData = newTimeData;\n        console.log('new', this.timeData);\n        this.setIntermediate();\n    }\n\n    changeTime = (label) => {\n        this.setState({ selectedTime: this.timeLine[label] });\n    }\n\n    isReservedByMe(event) {\n        return !!Math.round(Math.random(0,1));\n        // return event.user._id === this.props.userStore.user.id);\n    }\n\n    handleAddEvent = () => {\n        let args = [ this.room._id];\n        const timeLabels = this.getTimeData();\n        timeLabels.forEach(label => {\n            args.push(\n                dayjs(`${dayjs(this.date).format('YYYY-MM-DD')} ${label}`).format('YYYY-MM-DDTHH:mm')\n            );\n        });\n        const link = '/events/add/' + args.join('/');\n        this.setState({ redirectToAdd: link });\n    };\n\n    getStatus(time, event) {\n        let timeToCompare = dayjs(time).second(0).millisecond(0);\n        let dateStart = dayjs(event.date_start).second(0).millisecond(0);\n        let dateEnd = dayjs(event.date_end).second(0).millisecond(0);\n\n        let isCrossed = timeToCompare >= dateStart && timeToCompare < dateEnd\n        if (isCrossed) {\n            return STATUSES.RESERVED;\n        }\n\n        let isPending = timeToCompare >= dateStart.subtract(this.stepMinutes - 1, 'minute') && timeToCompare < dateEnd;\n        if(isPending) {\n            return STATUSES.PENDING;\n        }\n\n        return STATUSES.AVAILABLE\n    }\n    render() {\n        if (this.state.redirectToAdd) {\n            return <Redirect to={this.state.redirectToAdd}/>\n        }\n        console.info('  render RoomEvents room:', this.room.number);\n        return (\n            <div className={`roomEvents mdc-theme--primary-bg`}>\n                <Paper className=\"baseWrapper\">\n                    <EventDetails onSubmit={this.handleAddEvent}\n                        timeData={this.getTimeData()}\n                        room={this.room} selectedTime={this.state.selectedTime} />\n                    {this.TimeLine()}\n                </Paper>\n            </div>\n        );\n    }\n\n\n    TimeLine() {\n        const buttonProps = (item, index) => {\n            const label = item.label;\n            const status = this.timeLine[label]['status'];\n            const className = `timebtn ${status} ${this.timeLine[label].className}`;\n            const theme = this.props.theme;\n            const borderColor = theme.palette.status[status];\n            return {\n                id: `${this.room.number}-scrollable-auto-tab-${index}`,\n                'aria-controls': `${this.room.number}-scrollable-auto-tab-${index}`,\n                'aria-label': label,\n                key: index,\n                'data-label': label,\n                'data-index': index,\n                style: {\n                    borderColor: borderColor,\n                },\n                'data-status': status,\n                label: item.label,\n                className: className,\n                onClick: this.handleTimeClick,\n            };\n        };\n\n        return(\n            <Box ref={this.timeLineRef} className=\"timeline\">\n                <Button data-direction=\"left\" className=\"prev\"\n                    onMouseDown={e => {\n                        this.handleScrollMouseDown(e, 'left');\n                    }}\n                    onMouseUp={e => {\n                        this.handleScrollMouseUp(e, 'left');\n                    }}>\n                    <ArrowLeftIcon/>\n                </Button>\n                <div className=\"buttonsWrapper loading\">\n                    <div className=\"timeButtons\">\n                        {this.timeLineData.items.map((item, index) => (\n                            <Button {...buttonProps(item, index)}>{item.label}</Button>\n                        ))}\n                    </div>\n                </div>\n                <Button data-direction=\"right\" className=\"next\"\n                    onMouseDown={e => {\n                        this.handleScrollMouseDown(e, 'right');\n                    }}\n                    onMouseUp={e => {\n                        this.handleScrollMouseUp(e, 'right');\n                    }}>\n                    <ArrowRightIcon/>\n                </Button>\n            </Box>\n        );\n    }\n}\n\nfunction EventDetails(props) {\n    console.log('EventDetails render');\n    const room = props.room;\n    const selectedTime = props.selectedTime;\n    const timeData = props.timeData;\n\n    const status = selectedTime.status;\n\n    const renderEventInfo = () => {\n        switch(status) {\n            case STATUSES.PENDING:\n            case STATUSES.RESERVED:\n                return (\n                    <div className=\"pengindEvent\">\n                        <div>Start in: {EventHelper.dateFormatClient(selectedTime.event.date_start, 'DD-MM-YYYY HH:mm')}</div>\n                        <div>Ends in: {EventHelper.dateFormatClient(selectedTime.event.date_end, 'HH:mm')}</div>\n                    </div>\n                );\n            default:\n                return '';\n        }\n    };\n\n    const renderSelectedTime = () => {\n        let container = '';\n        if (timeData.length) {\n            let times = [];\n            times.push(<span key=\"start\">{timeData[0]}</span>);\n            if (timeData[1]) {\n                times.push(<span key=\"divider\" className=\"timesDivider\"> - </span>);\n                times.push(<span key=\"end\">{timeData[1]}</span>);\n            }\n            container = (\n                <span className=\"times\">\n                    ( {times} )\n                </span>\n            );\n        }\n        return container;\n    }\n\n    return(\n        <div className=\"infoWrapper\">\n            <Box bgcolor={`status.${status}`} className={`statusBar ${status}`}></Box>\n            <div className=\"detailsWrapper\">\n                <div className=\"details\">\n                    <div className=\"number\">Number: {room.number}</div>\n                    <div className=\"title\">Title: {room.title}</div>\n                    <div className=\"status\">Status: {status}</div>\n                </div>\n                {renderEventInfo()}\n                <Grid container className=\"addEventWrapper\">\n                    <Button onClick={props.onSubmit} variant=\"contained\" color=\"primary\"\n                        size=\"medium\" fullWidth type=\"submit\" className=\"addEvent\">\n                        Add event {renderSelectedTime()}\n                    </Button>\n                </Grid>\n            </div>\n        </div>\n    );\n}\n\nexport default withTheme(RoomEvents);\n","import React from 'react';\n\nexport default class NoRooms extends React.Component {\n    render() {\n        return (\n            <div className=\"noRooms\">\n                <h2 className=\"text-center\">There are no conference rooms yet</h2>\n            </div>\n        );\n    }\n}\n","import Api from './api';\n\nclass RoomsApi extends Api {\n\n    list() {\n        return this.axios.get('/rooms/list');\n    }\n\n    getRoomsWithEventsOfDay(dateString) {\n        return this.axios.get('/rooms/roomsWithEventsOfDay/' + dateString);\n    }\n}\nexport default new RoomsApi();\n","import React from 'react';\nimport dayjs from 'dayjs';\nimport memoize from 'memoize-one';\nimport {\n    Grid,\n    Container,\n    TextField,\n} from '@material-ui/core'\n\nimport DateUtils from '@date-io/dayjs';\nimport {\n    MuiPickersUtilsProvider,\n    KeyboardDatePicker,\n} from '@material-ui/pickers';\n\nimport BaseComponent, { RENDER_STATES as BASE_RENDER_STATES } from '../../components/BaseComponent'\nimport RoomEvents from '../../components/RoomEvents'\nimport Bayan from '../../components/Bayan'\nimport NoRooms from '../../components/NoRooms';\nimport ServerError from '../../components/ServerError';\nimport AppError from '../../components/AppError';\n\n\nimport CODES from '../../services/codes';\nimport roomsApi from '../../services/roomsApi'\n\nimport './index.scss';\n\nconst RENDER_STATES = { ...BASE_RENDER_STATES, NO_ROOMS: 'NO_ROOMS', UPDATE: 'UPDATE' };\n\n\nexport default class Events extends BaseComponent {\n    constructor(props) {\n        super(props);\n\n        this.stepMinutes = 30;\n        this.timeLineLabelFormat = 'HH:mm';\n\n        this.state = {\n            ...this.state,\n            // selectedDate: dayjs().add('1', 'day').format('YYYY-MM-DD'),\n            selectedDate: dayjs(),\n            roomsFilterValue: '',\n        };\n\n        this.prevRoomList = null;\n\n        this.roomEventsRef = React.createRef();\n    }\n\n    async componentDidMount() {\n        this.loadRoomsWithEventsOfDay();\n    }\n\n    filter = memoize(\n        (list, filter) => {\n            let filteredField = 'title';\n            // check value is integer, n ^ 0 returns type number so we dont need strict equals\n            // and i dont need strict compare\n            // eslint-disable-next-line\n            if (this.state.roomsFilterValue == (this.state.roomsFilterValue ^ 0)) {\n                filteredField = 'number';\n            }\n            return this.state.rooms.filter(room => {\n                const re = new RegExp(this.state.roomsFilterValue, 'i');\n                return -1 !== room[filteredField].toString().search(re);\n            });\n        }\n    )\n\n    // getDate() {\n    //     return dayjs().startOf('day').toISOString()\n    // }\n\n    applyRoomFilterValue = (value) => {\n        this.setState({ roomsFilterValue: value });\n    }\n\n    async loadRoomsWithEventsOfDay(date = null) {\n        this.setState({ isLoading: true });\n        const datePost = date || this.state.selectedDate;\n        let resultState = {};\n        roomsApi.getRoomsWithEventsOfDay(datePost)\n            .then(({ response }) => {\n                const apiData = response.getApiData();\n                if (null === apiData.data || 'object' !== typeof apiData.data) {\n                    console.log('loadRoomsWithEvents->Invalid rooms data. Expected data object');\n                    return this.getServerErrorState('Invalid data from server');\n                }\n                if (!apiData.data.length) {\n                    resultState = {\n                        renderState: RENDER_STATES.NO_ROOMS,\n                    };\n                }\n                // apiData.data.length = 1; // !!!!!!!!! for debug\n                const state = {\n                    rooms: apiData.data,\n                    renderState: RENDER_STATES.COMMON,\n                };\n                resultState = state;\n            })\n            .catch(({ error, response }) => {\n                const apiCode = response.getApiCode();\n                if (apiCode === CODES.ROOMS.INVALID_DATE) {\n                    console.log('Invalid date');\n                    resultState = this.getServerErrorState('Invalid date');\n                }\n                else {\n                    console.log('Invalid data from server');\n                    resultState = this.getServerErrorState('Invalid data from server');\n                }\n            })\n            .finally(() => {\n                this.setState({ isLoading: false, ...resultState});\n            });\n    }\n\n    handleRoomsFilterChange = (e) => {\n        this.setState({roomsFilterValue: e.target.value})\n    }\n\n    /*\n     * return object with timeline details for full day\n     * e.g. current time is 10:30\n    {\n        nowIndex: 0,\n            nowLabel: 10:30,\n            items[\n                {\n                    { label:00:00, date: new Date(00:00)},\n                    ...\n                    { label:23:30, date: new Date(23:30)}\n                }\n            ]\n    }\n    */\n    getTimeLine() {\n        const timeLineLen = (60 / this.stepMinutes) * 24;\n        let selectedDate = dayjs(this.state.selectedDate);\n        let now = dayjs();\n        // now = now.hour(1).minute(1);\n        let timeLineDate = dayjs(selectedDate).hour(now.hour()).minute(now.minute()).second(0).millisecond(0);\n\n        // for client last possible time button is 23:30\n        if (timeLineDate.hour() === 23 && timeLineDate.minute() > 30) {\n            timeLineDate = timeLineDate.minute(30);\n        }\n        else {\n            timeLineDate = timeLineDate.minute(this.stepMinutes * (Math.ceil(timeLineDate.minute() / this.stepMinutes)));\n        }\n\n        let nowLabel = null;\n        let nowIndex = null;\n        nowLabel = timeLineDate.format(this.timeLineLabelFormat);\n\n        // if (now.format('YYYY-MM-DD') !== timeLineDate.format('YYYY-MM-DD')) {\n        //     // for now working day starts at 09.00, but maybe in future its will be config from use profile page :)\n        //     // nowLabel = dayjs(timeLineDate).hour(9).format(this.timeLineLabelFormat);\n        // }\n        // else {\n        //     nowLabel = timeLineDate.format(timeLineLabelFormat);\n        // }\n        // const now = dayjs('18 apr 2021 23:00').second(0).millisecond(0);\n\n        const startOfDay = dayjs(timeLineDate).startOf('day');\n\n        let allItems = [];\n\n        for(let i = 0; i < timeLineLen; i++) {\n            let date = startOfDay.add(i * this.stepMinutes, 'minute')\n            let label = date.format(this.timeLineLabelFormat);\n\n            if (label === nowLabel) {\n                nowIndex = i;\n            }\n\n            allItems.push({\n                label: label,\n                date: date,\n            });\n        }\n\n        let timeLine = {\n            items: allItems,\n            nowLabel: nowLabel,\n            nowIndex: nowIndex,\n        };\n\n        return timeLine;\n\n    }\n\n    handleDateChange = async(date) => {\n        this.setState({ selectedDate: date, renderState: RENDER_STATES.UPDATE });\n        this.loadRoomsWithEventsOfDay(date);\n    }\n\n    render() {\n        console.info(' Events page render', this.state.renderState);\n        let component = null;\n        switch(this.state.renderState) {\n            case RENDER_STATES.FAILURE:\n                component = <ServerError data={this.state.serviceMessage}/>;\n                break;\n            case RENDER_STATES.INIT:\n                component = <Bayan/>;\n                break;\n            case RENDER_STATES.UPDATE:\n                component = this.prevRoomList;\n                break;\n            case RENDER_STATES.NO_ROOMS:\n                component = <NoRooms/>;\n                break;\n            case RENDER_STATES.COMMON:\n                this.timeLine = this.getTimeLine();\n                let rooms = null;\n                if (this.state.roomsFilterValue.length) {\n                    rooms = this.filter(this.state.rooms, this.state.roomsFilterValue);\n                }\n                else {\n                    rooms = this.state.rooms;\n                }\n                let breakPoints = { xs: 12, sm: 12, md: 6, lg: 6, xl: 6, };\n                let spacing = 4;\n\n                if (this.state.rooms.length === 1) {\n                    breakPoints = { xs: 12, sm: 12, md: 12, lg: 12, xl: 12, };\n                    spacing = 0;\n                }\n\n\n                const loopRooms = (rooms) => {\n                    const list = [];\n                    rooms.forEach(room => {\n                        list.push(\n                            <Grid key={room._id} item {...breakPoints}>\n                                <RoomEvents date={this.state.selectedDate} stepMinutes={this.stepMinutes} timeLine={this.timeLine} room={room}/>\n                            </Grid>\n                        );\n                    });\n                    return list;\n                };\n\n                component = (\n                    <>\n                        <Grid container className=\"filter\" justify=\"center\" spacing={4}>\n                            <Grid item xs={6} >\n                                <RoomFilter applyFilter={this.applyRoomFilterValue}\n                                    handleChange={this.handleRoomsFilterChange}\n                                    value={this.state.roomsFilterValue}/>\n                            </Grid>\n                            <Grid item xs={6}>\n                                <EventsDatePicker selectedDate={this.state.selectedDate} applyDate={this.handleDateChange}/>\n                            </Grid>\n                        </Grid>\n                        {!rooms.length && (\n                            <div className=\"filterEmptyResult\">\n                                <h2>No rooms founded</h2>\n                            </div>\n                        )}\n                        <Grid container className={`roomEvents roomsLen${rooms.length}`} spacing={spacing} ref={this.roomEventsRef}>\n                            {loopRooms(rooms)}\n                        </Grid>\n                    </>\n                );\n                this.prevRoomList = component;\n                break;\n            default:\n                component = <AppError/>;\n        }\n\n        return(\n            <Container maxWidth=\"md\" className={`events page ${String(this.state.renderState).toLowerCase()}`}>\n                {component}\n            </Container>\n        );\n    }\n}\n\nclass RoomFilter extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = { value: props.value };\n        this.timeout = null;\n        this.applyFilter = props.applyFilter;\n    }\n\n    handleChange = (e) => {\n        this.setState({ value: e.target.value });\n        clearTimeout(this.timeout);\n        setTimeout(() => {\n            this.applyFilter(this.state.value);\n        }, 400);\n    };\n    render() {\n        const inputLabelProps = { shrink: true, };\n        const inputProps = {\n            type: 'text',\n        };\n        return (\n            <div className=\"roomsFilterValueWrapper\">\n                <TextField label=\"Room\" inputProps={inputProps} InputLabelProps={inputLabelProps} id=\"roomsFilterValue\"\n                    onChange={this.handleChange}\n                    value={this.state.value} />\n            </div>\n        );\n    }\n}\n\nclass EventsDatePicker extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = { selectedDate: props.selectedDate };\n        this.timeout = null;\n        this.applyDate = props.applyDate;\n    }\n    handleChange = (date) => {\n        this.setState({ selectedDate: date });\n        setTimeout(() => {\n            clearTimeout(this.timeout);\n            this.applyDate(this.state.selectedDate);\n        }, 500);\n    }\n    render() {\n        const inputLabelProps = { shrink: true, };\n        return(\n            <MuiPickersUtilsProvider utils={DateUtils}>\n                <KeyboardDatePicker\n                    id=\"date-dialog\"\n                    label=\"Date\"\n                    format=\"YYYY/MM/DD\"\n                    InputLabelProps={inputLabelProps}\n                    value={this.state.selectedDate}\n                    onChange={this.handleChange}\n                    KeyboardButtonProps={{\n                        'aria-label': 'change date',\n                    }}\n                />\n            </MuiPickersUtilsProvider>\n        );\n    }\n}\n","import { EventHelper } from '../includes/modelsHelpers';\n\nimport ApiDataTypeError from '../services/error';\nimport roomsApi from '../services/roomsApi'\nimport eventsApi from '../services/eventsApi'\nimport CODES from '../services/codes'\n\nimport BaseComponent, { RENDER_STATES as BASE_RENDER_STATES } from '../components/BaseComponent';\n\nexport const RENDER_STATES = {\n    ...BASE_RENDER_STATES,\n    NO_ROOMS: 'NO_ROOMS',\n    SAVED: 'SAVED',\n};\n\nexport default class SaveEvent extends BaseComponent {\n\n    getPostData() {\n        const dateStart = EventHelper.dateFormat(this.state.event.date_start);\n        const dateEnd = EventHelper.dateFormat(this.state.event.date_end);\n        const postData = {\n            room: this.state.event.room._id,\n            title: this.state.event.title,\n            description: this.state.event.description,\n            date_start: dateStart,\n            date_end: dateEnd,\n        };\n        return postData;\n\n    }\n\n    async loadRoomList(setRoomState = true) {\n        const result = await roomsApi.list();\n        if (result.error) {\n            if (result.error instanceof ApiDataTypeError) {\n                console.error('ApiDataTypeError');\n            }\n            console.log('Invalid data from server');\n            return this.getServerErrorState('Invalid data type from server');\n        }\n        else {\n            const apiData = result.response.getApiData();\n            if (false === Array.isArray(apiData['rooms'])) {\n                console.log('Invalid rooms data. Expected rooms[]');\n                return this.getServerErrorState('Invalid data from server');\n            }\n            const stateProps = {};\n            stateProps.serviceMessage = '';\n            stateProps.roomsList = apiData.rooms;\n            stateProps.renderState = RENDER_STATES.COMMON;\n            if (!apiData.rooms.length) {\n                stateProps.renderState = RENDER_STATES.NO_ROOMS;\n            }\n            else if (setRoomState) {\n                const _id = apiData.rooms[0]['_id'];\n                console.info('state.event', this.state.event);\n                stateProps.event = {...this.state.event, room: { _id: _id }};\n                console.info('stateProps', stateProps);\n            }\n            return stateProps;\n        }\n    }\n\n    async loadEventDetails() {\n        const result = await eventsApi.getEvent(this.state.event._id);\n        const apiData = result.response.getApiData();\n        const apiCode = result.response.getApiCode();\n        if (result.error) {\n            if (result.error instanceof ApiDataTypeError) {\n                console.error('ApiDataTypeError');\n                return this.getServerErrorState('Invalid data type from server');\n            }\n            else if (404 === result.response.status) {\n                console.log('Event not found');\n                return this.getServerErrorState('Event not found');\n            }\n            if (apiCode === CODES.EVENTS.DETAILS_ID_REQUIRED) {\n                console.log('eventId is required');\n                return this.getServerErrorState('Event Id is required');\n            }\n            else if (apiCode === CODES.EVENTS.DETAILS_ID_INVALID) {\n                console.log('Invalid eventId');\n                return this.getServerErrorState('Invalid event Id');\n            }\n            else {\n                console.log('Invalid data from server');\n                return this.getServerErrorState('Invalid data from server');\n            }\n        }\n        else {\n            console.info(apiData.event.user._id);\n            if ('object' !== typeof apiData.event) {\n                console.log('Invalid data. Expected object event');\n                return this.getServerErrorState('Invalid data from serverq');\n            }\n            else if (apiData.event.user._id !== this.props.userStore.user.id) {\n                console.log('owner error', this.props.userStore.user.id, apiData.event.user._id);\n                return this.getServerErrorState('Permission denined!');\n            }\n            else {\n                const state = {\n                    serviceMessage: '',\n                    renderState: RENDER_STATES.COMMON,\n                    event: apiData.event,\n                };\n                return state;\n            }\n        }\n    }\n\n    handleDateStartChange = (datetime) => {\n        let errors = this.state.errors;\n        const validate = this.validateDateStart(datetime);\n        true === validate ? delete errors.date_start : errors.date_start = validate;\n        this.setState({event: { ...this.state.event, date_start: datetime }});\n    };\n\n    handleDateEndChange = (datetime) => {\n        let errors = this.state.errors;\n        const validate = this.validateDateEnd(datetime);\n        true === validate ? delete errors.date_end : errors.date_end = validate;\n        this.setState({event: {...this.state.event, date_end: datetime}});\n    };\n\n    handleRoomChange = (e) => {\n        const event = this.state.event;\n        event.room._id = e.target.value;\n        this.setState({event: event});\n    };\n\n    handleTitleChange = (e) => {\n        let errors = this.state.errors;\n        const validate = this.validateTitle(e.target.value);\n        true === validate ? delete errors.title : errors.title = validate;\n        this.setState({event: { ...this.state.event, title: e.target.value, errors }});\n    };\n\n    handleDescriptionChange = (e) => {\n        this.setState({event: { ...this.state.event, description: e.target.value }});\n    };\n\n    validateDateStart = (dateStart = '') => {\n        const date = new Date(dateStart);\n        const valid = !isNaN(date.getTime());\n        return valid ? true : { message: 'Invalid date' };\n    }\n\n    validateDateEnd = (date) => {\n        const dateStart = new Date(this.state.event.date_start);\n        const dateEnd = new Date(date);\n        console.log('validateDateEnd');\n        console.log(dateStart, dateEnd);\n        if (isNaN(dateEnd.getTime())) {\n            return { message: 'Invalid date' };\n        }\n        if (dateStart >= dateEnd) {\n            return { message: 'should be future' };\n        }\n        return true;\n    }\n\n    validateTitle = (title = '') => {\n        const valid = title.length > 2;\n        return valid ? true : { message: 'Less than 3 symbols' };\n    }\n\n    validate = () => {\n        let errors = {};\n        let validate = null;\n        if (true !== (validate = this.validateDateStart(this.state.event.date_start))) {\n            errors.date_start = validate;\n        }\n        if (true !== (validate = this.validateDateEnd(this.state.event.date_end))) {\n            errors.date_end = validate;\n        }\n        if (true !== (validate = this.validateTitle(this.state.event.title))) {\n            errors.title = validate;\n        }\n\n        return Object.keys(errors).length ? errors : true;\n    };\n}\n","import React from 'react';\nimport dayjs from 'dayjs';\nimport DateUtils from '@date-io/dayjs';\nimport { Link as routerLink } from 'react-router-dom';\nimport {\n    FormControl,\n    Select,\n    TextField,\n    MenuItem,\n    FormHelperText,\n    Button,\n    Grid,\n    Link,\n} from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport {\n    DateTimePicker,\n    KeyboardTimePicker,\n    MuiPickersUtilsProvider,\n} from '@material-ui/pickers';\nimport Bayan from '../../components/Bayan'\n\nimport './index.scss';\n\nexport default class EventForm extends React.Component {\n    constructor(props) {\n        super(props);\n        this.submitBtnText = this.props.action;\n    }\n    render() {\n        console.info('EventForm render');\n        console.log(this.props);\n        console.log('roomId', this.props.event.room._id);\n\n        return (\n            <Grid container spacing={3} className=\"eventForm\">\n                <Grid item xs={4}>\n                    <FormControl fullWidth error={!!this.props.errors && !!this.props.errors.room}>\n                    <FormHelperText>Rooms list</FormHelperText>\n                    <Select\n                        onChange={this.props.handleRoomChange}\n                        value={this.props.event.room._id}\n                    >\n                    {Array.isArray(this.props.roomsList) && this.props.roomsList.map((room, index) => (\n                        <MenuItem key={room._id} value={room._id}>{room.number}</MenuItem>\n                    ))}\n                    </Select>\n                    </FormControl>\n                </Grid>\n                <MuiPickersUtilsProvider utils={DateUtils}>\n                <Grid item xs={4}>\n                <FormControl error={!!this.props.errors && !!this.props.errors.date_start}>\n                    <FormHelperText>Start time</FormHelperText>\n                        <DateTimePicker\n                            value={this.props.event.date_start}\n                            ampm={false}\n                            minutesStep={5}\n                            onChange={this.props.handleDateStartChange} />\n                </FormControl>\n                </Grid>\n                <Grid item xs={4}>\n                    <FormControl error={!!this.props.errors && !!this.props.errors.date_end}>\n                        <FormHelperText>Time end</FormHelperText>\n                        <KeyboardTimePicker\n                            value={this.props.event.date_end}\n                            onChange={this.props.handleDateEndChange}\n                            minutesStep={5}\n                            ampm={false}\n                        />\n                    </FormControl>\n                </Grid>\n                </MuiPickersUtilsProvider>\n                <Grid item xs={4}>\n                    <FormControl error={!!this.props.errors && !!this.props.errors.title}>\n                        <FormHelperText>Title</FormHelperText>\n                        <TextField value={this.props.event.title} onChange={this.props.handleTitleChange}/>\n                    </FormControl>\n                </Grid>\n                <Grid item xs={8}>\n                    <FormControl fullWidth error={!!this.props.errors && !!this.props.errors.description}>\n                        <FormHelperText>Description</FormHelperText>\n                        <TextField multiline fullWidth value={this.props.event.description} onChange={this.props.handleDescriptionChange}/>\n                    </FormControl>\n                </Grid>\n                {this.props.alert &&(\n                <Grid item xs={12}>\n                        <Alert severity={this.props.alert.severity}>\n                            {this.props.alert.message}\n                        </Alert>\n                </Grid>\n                )}\n                {this.props.serviceMessage &&(\n                    <Grid item className=\"qq\" xs={12}>\n                        <Alert severity=\"error\">\n                            <div>{this.props.serviceMessage}</div>\n                                {Array.isArray(this.props.crossedEvents) && this.props.crossedEvents.map((event, index) => (\n                                    <div className=\"crossedEvents\" key={index}>\n                                        {dayjs(event.date_start).format('DD-MM-YY HH:mm')}\n                                        -{dayjs(event.date_end).format('HH:mm')}\n                                        &nbsp; reserved by <Link component={routerLink} variant=\"inherit\" to={`/@${event.user.name}`}>{event.user.name}</Link>\n                                    </div>\n                                ))}\n                        </Alert>\n                    </Grid>\n                )}\n                <Grid item xs={12} className=\"bayanNearButton\">\n                    {this.props.isLoading && <Bayan/>}\n                </Grid>\n                <Grid item xs={12} className=\"btnContainer\">\n                    <Button disabled={this.props.isLoading} className=\"submit\" variant=\"contained\" fullWidth\n                        type=\"button\" color=\"primary\" onClick={this.props.handleSubmit}>{this.props.action}\n                    </Button>\n                </Grid>\n            </Grid>\n        );\n    }\n}\n","import React from 'react';\nimport { Skeleton } from '@material-ui/lab';\nimport { Grid, } from '@material-ui/core';\n\nexport default class EventFormSkeleton extends React.Component {\n    render() {\n        return (\n            <Grid container spacing={3}>\n                <Grid item xs={4}>\n                    <Skeleton height=\"4rem\"/>\n                </Grid>\n                <Grid item xs={4}>\n                    <Skeleton height=\"4rem\"/>\n                </Grid>\n                <Grid item xs={4}>\n                    <Skeleton height=\"4rem\"/>\n                </Grid>\n                <Grid item xs={4}>\n                    <Skeleton height=\"4rem\"/>\n                </Grid>\n                <Grid item xs={8}>\n                    <Skeleton height=\"4rem\"/>\n                </Grid>\n                <Grid item xs={12}>\n                    <Skeleton height=\"4rem\"/>\n                </Grid>\n            </Grid>\n        );\n    }\n}\n","import React from 'react';\nimport dayjs from 'dayjs';\nimport { withRouter } from \"react-router\";\nimport { Link as routerLink } from 'react-router-dom';\nimport { Container, Link } from '@material-ui/core';\n\nimport eventsApi from '../../services/eventsApi';\nimport ApiDataTypeError from '../../services/error';\nimport CODES from '../../services/codes';\n\nimport { Event } from '../../includes/models';\nimport { EventHelper } from '../../includes/modelsHelpers';\n\nimport SaveEvent, { RENDER_STATES } from '../../components/SaveEvent';\nimport EventForm from '../../components/EventForm';\nimport NoRooms from '../../components/NoRooms';\nimport EventFormSkeleton from '../../components/EventFormSkeleton';\nimport ServerError from '../../components/ServerError';\nimport AppError from '../../components/AppError';\n\nimport './index.scss';\n\n\n@withRouter\nclass AddEvent extends SaveEvent {\n    constructor(props) {\n        super(props)\n        this.state = {\n            ...this.state,\n            roomsList: [],\n            createdEvent: null,\n            crossedEvents: null,\n        };\n        this.initEventState();\n        this.handleAddEvent = this.handleAddEvent.bind(this);\n    }\n\n    initEventState() {\n        const defaultStartFrom = new Date();\n        defaultStartFrom.setMinutes(5 * (Math.round(defaultStartFrom.getMinutes() / 5)));\n        let defaultEvent = new Event({\n            date_start: defaultStartFrom,\n            date_end: dayjs(defaultStartFrom).add(30, 'minute'),\n        });\n\n        if (this.props.match.params.roomId) {\n            this.state.event = this.getEventFromUrl(defaultEvent);\n        }\n        else {\n            this.state.event = defaultEvent;\n        }\n    }\n\n    getEventFromUrl(event = {}) {\n        const roomId = this.props.match.params.roomId;\n        const dateFrom = this.props.match.params?.from ? dayjs(this.props.match.params.from) : undefined;\n        const dateTo = this.props.match.params?.to? dayjs(this.props.match.params.to) : undefined;\n\n        event.room = { _id: roomId, };\n\n        if (dateFrom && dateFrom.isValid()) {\n            event.date_start = dateFrom;\n            event.date_end = dateTo && dateTo.isValid() ? dateTo : dateFrom.add(30, 'minute');\n        }\n\n        return event;\n    }\n\n\n    async componentDidMount() {\n        this.setState({ isLoading: false, });\n        const setRoomState = !(this.state.event.room?._id);\n        const newStateOpts = await this.loadRoomList(setRoomState);\n        this.setState({ ...newStateOpts, isLoading: false, });\n    }\n\n    async addEvent() {\n        const postData = this.getPostData();\n        console.info('addEvent with:', postData);\n        try {\n            const result = await eventsApi.addEvent(postData);\n            const apiData = result.response.getApiData();\n            if (null === apiData.event || 'object' !== typeof apiData.event) {\n                console.log('addEvent>Invalid rooms data. Expected event object');\n                console.log(apiData);\n                return this.getServerErrorState('Invalid data from server');\n            }\n            if (!apiData.event._id) {\n                console.log('addEvent>Invalid rooms data. Expected event id');\n                console.log(apiData);\n                return this.getServerErrorState('Invalid data from server');\n            }\n            const state = {\n                renderState: RENDER_STATES.SAVED,\n                createdEvent: apiData.event,\n            };\n            return state;\n        }\n        catch ({ response, error }) {\n            if (response) {\n                const apiCode = response.getApiCode();\n                const apiData = response.getApiData();\n                const apiMessage = response.getApiMessage();\n                if (apiCode === CODES.EVENTS.VALIDATION) {\n                    const errorFields = response.getErrorFields();\n                    console.log('AddEvent->Validation error', errorFields);\n                    return this.getValidationErrorState('Validation error', errorFields);\n                }\n                else if (apiCode === CODES.EVENTS.CROSS_DATES) {\n                    const dbEvents = apiData.events;\n                    if (false === Array.isArray(dbEvents)) {\n                        console.log('Expected array of events from database', apiMessage);\n                        return this.getServerErrorState('Invalid data from server');\n                    }\n                    const errorFields = {date_start: true, date_end: true};\n                    const serviceMessage = 'Date is crossed with enother events';\n                    console.log('AddEvent->Validation error', errorFields);\n                    return this.getValidationErrorState(serviceMessage, errorFields, {crossedEvents:dbEvents});\n                }\n                else if (apiCode === CODES.EVENTS.ROOM_NOT_EXISTS) {\n                    const serviceMessage = 'Room does not exist. Please try another room';\n                    console.log('Room does not exists', apiMessage);\n                    return this.getValidationErrorState(serviceMessage);\n                }\n                else if (apiCode === CODES.EVENTS.ROOM_NOT_ACTIVE) {\n                    const serviceMessage = 'Room is closed. Please try another room';\n                    console.log('Room not active', apiMessage);\n                    return this.getValidationErrorState(serviceMessage);\n                }\n            }\n            else {\n                if (error instanceof ApiDataTypeError) {\n                    console.error('addEvent->ApiDataTypeError');\n                }\n                console.log('AddEvent->Invalid data from server');\n                return this.getServerErrorState('Invalid data from server');\n            }\n        }\n    }\n\n    async handleAddEvent() {\n        let validate = this.validate();\n        if (true !== validate ) {\n            this.setState({ errors: validate });\n            return;\n        }\n        this.setState({\n            isLoading: true,\n            errors: {},\n        });\n        const newStateOpts = await this.addEvent();\n        this.setState({\n            isLoading: false,\n            ...newStateOpts,\n        });\n    }\n\n    render() {\n        console.info('render', this.state.renderState);\n        let component = null;\n        switch(this.state.renderState) {\n            case RENDER_STATES.SAVED:\n                component = <EventCreated event={this.state.createdEvent}/>;\n                break;\n            case RENDER_STATES.NO_ROOMS:\n                component = <NoRooms/>;\n                break;\n            case RENDER_STATES.FAILURE:\n                component = <ServerError data={this.state.serviceMessage}/>;\n                break;\n            case RENDER_STATES.INIT:\n                component = <EventFormSkeleton/>;\n                break;\n            case RENDER_STATES.COMMON:\n                component = (\n                    <>\n                        <h2 className=\"text-center\">Add event</h2>\n                        <EventForm\n                            isLoading={this.state.isLoading}\n                            errors={this.state.errors}\n                            serviceMessage={this.state.serviceMessage}\n                            roomsList={this.state.roomsList}\n                            crossedEvents={this.state.crossedEvents}\n\n                            action=\"add\"\n                            renderState={this.state.renderState}\n\n                            event={this.state.event}\n\n                            handleRoomChange={this.handleRoomChange}\n                            handleDateStartChange={this.handleDateStartChange}\n                            handleDateEndChange={this.handleDateEndChange}\n                            handleTitleChange={this.handleTitleChange}\n                            handleDescriptionChange={this.handleDescriptionChange}\n                            handleSubmit={this.handleAddEvent} />\n                    </>\n                );\n                break;\n            default:\n                component = <AppError data=\"Application error\"/>;\n        }\n\n        return(\n            <Container maxWidth=\"md\" className={`addEvent page ${String(this.state.renderState).toLowerCase()}`}>\n                {component}\n            </Container>\n        );\n    }\n}\n\nfunction EventCreated(props) {\n    return (\n        <div className=\"created text-center\">\n            <h2>Event created successfuly in room #{props.event.room.number}.</h2>\n            <p>Start at: {EventHelper.dateFormat(props.event.date_start, 'DD-MM-YYYY HH:mm')}</p>\n            <p>End at: {EventHelper.dateFormat(props.event.date_end, 'DD-MM-YYYY HH:mm')}</p>\n            <p>\n                You can <Link component={routerLink} variant=\"inherit\" to={`/events/change/${props.event._id}`}>change</Link>&nbsp;or&nbsp;\n                <Link component={routerLink} variant=\"inherit\" to={`/events/delete/${props.event._id}`}>delete</Link>\n            </p>\n        </div>\n    );\n}\n\nexport default AddEvent;\n","import React from 'react';\nimport { Container } from '@material-ui/core';\n\nimport { inject } from 'mobx-react';\n\nimport eventsApi from '../../services/eventsApi';\nimport ApiDataTypeError from '../../services/error';\nimport CODES from '../../services/codes';\n\nimport { Event } from '../../includes/models';\n\nimport SaveEvent, { RENDER_STATES } from '../../components/SaveEvent';\nimport EventForm from '../../components/EventForm'\nimport EventFormSkeleton from '../../components/EventFormSkeleton';\nimport NoRooms from '../../components/NoRooms';\nimport ServerError from '../../components/ServerError';\nimport AppError from '../../components/AppError';\n\nimport './index.scss';\n\n\n@inject('userStore')\nclass ChangeEvent extends SaveEvent {\n    constructor(props) {\n        super(props)\n        const eventId = this.props.match.params.id;\n        const eventModel = new Event({\n            _id: eventId,\n        });\n        this.state = {\n            ...this.state,\n            event: eventModel,\n            roomsList: [],\n            changed: false,\n            crossedEvents: null,\n        }\n    }\n\n    async componentDidMount() {\n        this.setState({ isLoading: true, });\n        let roomState = await this.loadRoomList(false);\n        if ('renderState' in roomState && roomState.renderState !== RENDER_STATES.COMMON) {\n            this.setState({...roomState, isLoading: false});\n            return;\n        }\n        let eventState = await this.loadEventDetails();\n        if ('renderState' in eventState && eventState.renderState !== RENDER_STATES.COMMON) {\n            this.setState({...eventState, isLoading: false});\n            return;\n        }\n        else {\n            this.setState({...roomState, ...eventState, isLoading: false,});\n        }\n    }\n\n    async changeEvent() {\n        const postData = this.getPostData();\n        console.info('changeEvent with:', postData);\n        const result = await eventsApi.changeEvent(this.state.event._id, postData);\n        if (result.error) {\n            const apiCode = result.response.getApiCode();\n            const apiData = result.response.getApiData();\n            const apiMessage = result.response.getApiMessage();\n            if (apiCode === CODES.EVENTS.NOT_BELONG_TO_YOU) {\n                console.log('permission error', apiMessage);\n                return this.getServerErrorState('Permission denined!');\n            }\n            else if (apiCode === CODES.EVENTS.VALIDATION) {\n                const errorFields = result.response.getErrorFields();\n                console.log('changeEvent->Validation error', errorFields);\n                return this.getValidationErrorState('Validation error', errorFields);\n            }\n            else if (apiCode === CODES.EVENTS.CROSS_DATES) {\n                const dbEvents = apiData.events;\n                if (false === Array.isArray(dbEvents)) {\n                    console.log('Expected array of events from database', apiMessage);\n                    return this.getServerErrorState('Invalid data from server');\n                }\n                const errorFields = {date_start: true, date_end: true};\n                const serviceMessage = 'Date is crossed with enother events';\n                console.log('changeEvent->Validation error', errorFields);\n                this.getValidationErrorState(serviceMessage, errorFields, {crossedEvents:dbEvents});\n            }\n            else if (apiCode === CODES.EVENTS.ROOM_NOT_EXISTS) {\n                const serviceMessage = 'Room does not exist. Please try another room';\n                console.log('Room does not exists', apiMessage);\n                return this.getValidationErrorState(serviceMessage);\n            }\n            else if (apiCode === CODES.EVENTS.ROOM_NOT_ACTIVE) {\n                const serviceMessage = 'Room is closed. Please try another room';\n                console.log('Room not active', apiMessage);\n                return this.getValidationErrorState(serviceMessage);\n            }\n            else {\n                if (result.error instanceof ApiDataTypeError) {\n                    console.error('changeEvent->ApiDataTypeError');\n                }\n                console.log('changeEvent->Invalid data from server', result.error);\n                return this.getServerErrorState('Invalid data from server');\n            }\n        }\n        else {\n            const apiData = result.response.getApiData();\n            if (null === apiData.event || 'object' !== typeof apiData.event) {\n                console.log('changeEvent->Invalid rooms data. Expected event object');\n                console.log(apiData);\n                return this.getServerErrorState('Invalid data from server');\n            }\n            if (!apiData.event._id) {\n                console.log('changeEvent>Invalid rooms data. Expected event id');\n                console.log(apiData);\n                return this.getServerErrorState('Invalid data from server');\n            }\n\n            return {\n                changedEvent: apiData.event,\n                renderState: RENDER_STATES.SAVED,\n            };\n        }\n    }\n\n    handleSubmit = async () => {\n        const validate = this.validate();\n        if (true !== validate) {\n            this.setState({ errors: validate });\n            return;\n        }\n        this.setState({\n            isLoading: true,\n            errors: {},\n            changed: false,\n            serviceMessage: '',\n            renderState: RENDER_STATES.COMMON,\n        });\n        const state = await this.changeEvent();\n        this.setState({ isLoading: false, ...state });\n    }\n\n    render() {\n        console.info('render', this.state.renderState);\n        let alert = null;\n        let component = null;\n        if (this.state.renderState === RENDER_STATES.SAVED) {\n            alert = { message: 'Event saved', severity: 'success' };\n        }\n        switch(this.state.renderState) {\n            case RENDER_STATES.NO_ROOMS:\n                component = <NoRooms/>;\n                break;\n            case RENDER_STATES.FAILURE:\n                component = <ServerError data={this.state.serviceMessage}/>;\n                break;\n            case RENDER_STATES.INIT:\n                component = (\n                    <>\n                        <h2 className=\"text-center\">Change event</h2>\n                        <EventFormSkeleton/>\n                    </>\n                );\n                break;\n            case RENDER_STATES.SAVED:\n            case RENDER_STATES.COMMON:\n                component = (\n                    <>\n                        <h2 className=\"text-center\">Change event</h2>\n                        <EventForm\n                            isLoading={this.state.isLoading}\n                            errors={this.state.errors}\n                            serviceMessage={this.state.serviceMessage}\n                            roomsList={this.state.roomsList}\n                            crossedEvents={this.state.crossedEvents}\n\n                            action=\"change\"\n                            renderState={this.state.renderState}\n\n                            event={this.state.event}\n                            alert={alert}\n\n                            handleRoomChange={this.handleRoomChange}\n                            handleDateStartChange={this.handleDateStartChange}\n                            handleDateEndChange={this.handleDateEndChange}\n                            handleTitleChange={this.handleTitleChange}\n                            handleDescriptionChange={this.handleDescriptionChange}\n                            handleSubmit={this.handleSubmit} />\n                    </>\n                );\n                break;\n            default:\n                component = <AppError data=\"Application error\"/>;\n        }\n\n        return(\n            <Container maxWidth=\"md\" className={`addEvent page ${String(this.state.renderState).toLowerCase()}`}>\n                {component}\n            </Container>\n        );\n    }\n}\n\nexport default ChangeEvent;\n","import React from 'react';\nimport { Link as routerLink } from 'react-router-dom';\nimport { withRouter } from \"react-router\";\n\nimport { inject } from 'mobx-react';\nimport dayjs from 'dayjs';\nimport {\n    Container,\n    Grid,\n    Button,\n} from '@material-ui/core';\n\nimport { Event } from '../../includes/models';\n\nimport eventsApi from '../../services/eventsApi';\nimport CODES from '../../services/codes';\n\nimport SaveEvent, { RENDER_STATES } from '../../components/SaveEvent';\nimport Bayan from '../../components/Bayan'\nimport NoRooms from '../../components/NoRooms';\nimport ServerError from '../../components/ServerError';\nimport AppError from '../../components/AppError';\n\nimport './index.scss';\n\n\n@inject('userStore')\n@withRouter\nclass DeleteEvent extends SaveEvent {\n    constructor(props) {\n        super(props)\n        const eventId = this.props.match.params.id;\n        const eventModel = new Event({\n            _id: eventId,\n        });\n        this.state = { ...this.state, event: eventModel }\n    }\n\n    async componentDidMount() {\n        this.setState({ isLoading: true, });\n        const newProps = await this.loadEventDetails();\n        this.setState({\n            isLoading: false,\n            ...newProps,\n        });\n    }\n\n    deleteEvent = async() => {\n        const result = await eventsApi.deleteEvent(this.state.event._id);\n        const apiMessage = result.response.getApiMessage();\n        const apiCode = result.response.getApiCode();\n        if (result.error) {\n            if (apiCode === CODES.EVENTS.NOT_BELONG_TO_YOU) {\n                console.log('permission error', apiMessage);\n                return this.getServerErrorState('Permission denined!');\n            }\n            else {\n                console.log('server error', apiMessage);\n                return this.getServerErrorState('Server error');\n            }\n        }\n        else {\n            return { renderState: RENDER_STATES.SAVED };\n        }\n    }\n\n    handleDeleteEvent = async() => {\n        console.log('handleDeleteEvent');\n        this.setState({ isLoading: true });\n        const newProps = await this.deleteEvent();\n        this.setState({ isLoading: false, ...newProps });\n    };\n\n    render() {\n        let component = null;\n        switch(this.state.renderState) {\n            case RENDER_STATES.INIT:\n                component = <Bayan/>;\n                break;\n            case RENDER_STATES.NO_ROOMS:\n                component = <NoRooms/>;\n                break;\n            case RENDER_STATES.FAILURE:\n                component = <ServerError data={this.state.serviceMessage}/>;\n                break;\n            case RENDER_STATES.SAVED:\n                component = <EventDeleted/>;\n                break;\n            case RENDER_STATES.COMMON:\n                console.log(this.state.event);\n                component = <DeleteComfirm handleDeleteEvent={this.handleDeleteEvent} isLoading={this.state.isLoading} event={this.state.event}/>;\n                break;\n            default:\n                component = <AppError data=\"Application error\"/>;\n        }\n        return (\n            <Container maxWidth=\"md\" className={`deleteEvent page ${this.state.renderState}`}>\n                {component}\n            </Container>\n        );\n    }\n}\n\nfunction DeleteComfirm(props) {\n    return(\n        <>\n            <h2 className=\"text-center\">Are you sure to delete event?</h2>\n            <Grid className=\"eventDetails\">\n                <p><b>Room#:</b> {props.event.room.number}</p>\n                <p><b>Title:</b> {props.event.title}</p>\n                <p><b>Description:</b> {props.event.description}</p>\n                <p><b>Date start:</b> {dayjs(props.event.date_start).format('DD-MM-YYYY HH:mm')}</p>\n                <p><b>Date end:</b> {dayjs(props.event.date_end).format('DD-MM-YYYY HH:mm')}</p>\n            </Grid>\n            <Grid container className=\"btnContainer\">\n                <Button disabled={props.isLoading} className=\"btnAddEvent\" variant=\"contained\" fullWidth\n                    type=\"button\" color=\"primary\" onClick={props.handleDeleteEvent}>Delete event\n                </Button>\n                {props.isLoading && <Bayan/>}\n            </Grid>\n        </>\n    );\n\n}\n\nfunction EventDeleted(props) {\n    return(\n        <>\n            <div className=\"created text-center\">\n                <h2>Event deleted successfuly.</h2>\n                <Grid container className=\"btnContainer\">\n                    <Button component={routerLink} to=\"/events/add\" variant=\"contained\" color=\"primary\" fullWidth type=\"submit\">\n                        Add event\n                    </Button>\n                </Grid>\n            </div>\n        </>\n    );\n}\n\nexport default DeleteEvent;\n","import React from 'react';\n\nimport './index.scss'\n\n const Page404 = ({ location }) => (\n   <div className=\"page404 page\">\n      <h3 className=\"text-center\">No match found for <code>{location.pathname}</code></h3>\n   </div>\n);\n\nexport default Page404;\n","import React from 'react';\nimport Button from '@material-ui/core/Button'\n\nimport './index.scss'\n\nexport default class ServerError extends React.Component {\n\n\treloadWindow() {\n\t\twindow.location.reload();\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"serverError page\">\n\t\t\t\t<center>\n\t\t\t\t\t<h2>Hmm. Were having trouble loading that application</h2>\n\t\t\t\t\t<Button variant=\"contained\" type=\"button\" color=\"secondary\" onClick={this.reloadWindow}>reload</Button>\n\t\t\t\t</center>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button'\n\nimport './index.scss'\n\nexport default class AppError extends React.Component {\n\n\treloadWindow() {\n\t\twindow.location.reload();\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"appError page\">\n\t\t\t\t<center>\n                    <h2 className=\"error\">Something went wrong.</h2>\n\t\t\t\t\t<Button variant=\"contained\" type=\"button\" color=\"secondary\" onClick={this.reloadWindow}>reload</Button>\n\t\t\t\t</center>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button'\n\nimport './index.scss'\n\nexport default class Offline extends React.Component {\n\n\treloadWindow() {\n\t\twindow.location.reload();\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"offline page\">\n\t\t\t\t<center>\n\t\t\t\t\t<h2>No internet connection</h2>\n\t\t\t\t\t<Button variant=\"contained\" type=\"button\" color=\"secondary\" onClick={this.reloadWindow}>reload</Button>\n\t\t\t\t</center>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React from 'react';\nimport { inject, observer } from 'mobx-react';\nimport {\n    Container,\n    Button,\n    IconButton,\n    TextField,\n    CircularProgress,\n    FormControl,\n    FormHelperText,\n} from '@material-ui/core';\n\nimport Alert from '@material-ui/lab/Alert';\n\nimport {\n    Delete as DeleteIcon,\n    LockOutlined as LockIcon,\n    LockOpenOutlined as LockOpenIcon,\n    Refresh as RefreshIcon\n} from '@material-ui/icons';\n\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\n\nimport './index.scss';\n\n@inject('adminRoomsStore')\n@observer\nclass adminRooms extends React.Component {\n    constructor(props) {\n        super(props);\n        this.inputSavingDelay = 500;\n        this.inputTimeoutx = undefined;\n    }\n    scrollTop() {\n        const element = document.querySelector('.rooms')\n        if (element) {\n            element.scrollIntoView({behavior: \"smooth\"});\n        }\n    }\n\n    async componentDidMount() {\n        this.props.adminRoomsStore.loadRoomList();\n    }\n\n    refreshListHandler = () => {\n        this.props.adminRoomsStore.loadRoomList();\n    }\n\n    toggleStatusHandler = (roomId) => {\n        this.props.adminRoomsStore.toggleRoomsStatus(roomId);\n    }\n\n    updateRoomHandler = (e, roomId) => {\n        clearTimeout(this.inputTimeoutx);\n        const fieldName = e.target.name;\n        if (!Object.keys(this.props.adminRoomsStore.fields).includes(fieldName)) {\n            console.error('invalid target field')\n            return;\n        }\n        const fieldValue = e.target.value;\n        if (this.props.adminRoomsStore.setRoomField(roomId, fieldName, fieldValue)) {\n            this.inputTimeoutx = setTimeout(() => {\n                this.props.adminRoomsStore.updateField(roomId, fieldName, fieldValue);\n            }, this.inputSavingDelay);\n        }\n    }\n\n    addRoomHandler = () => {\n        this.props.adminRoomsStore.addFreshRoom();\n    }\n\n    removeRoomHandler = (roomId) => {\n        this.props.adminRoomsStore.deleteRoom(roomId);\n    }\n\n    textFieldFocusHandler = (e) => {\n        this.props.adminRoomsStore.saveFocus(e.target);\n    }\n\n    render() {\n        const isLoading = this.props.adminRoomsStore.isLoading;\n        const errorMessage = this.props.adminRoomsStore.errorMessage;\n        return (\n            <Container maxWidth=\"md\">\n\n                <div className=\"component rooms\">\n                    {true === isLoading && <div className=\"rooms__isLoading\"><CircularProgress className=\"\" color=\"secondary\" /></div> }\n                    <div className=\"rooms__header\">\n                        <h2>Rooms Settings</h2>\n                        <IconButton onClick={this.refreshListHandler} edge=\"end\" aria-label=\"unlock\">\n                            <RefreshIcon />\n                        </IconButton>\n                    </div>\n                    <div id=\"rooms__errorMessage\">\n                        {errorMessage && (\n                            <Alert className=\"rooms__alert\" severity=\"warning\">{errorMessage}</Alert>\n                        )}\n                    </div>\n                    <TableContainer component={Paper} className=\"rooms__listRoom\">\n                        <Table aria-label=\"rooms\">\n                            <TableHead>\n                                <TableRow>\n                                    <TableCell aria-label=\"Number\" className=\"rooms__cellNumber\">Number</TableCell>\n                                    <TableCell aria-label=\"Title\">Title</TableCell>\n                                    <TableCell aria-label=\"Status\">Status</TableCell>\n                                    <TableCell aria-label=\"\" className=\"rooms__cellActions\"></TableCell>\n                                </TableRow>\n                            </TableHead>\n                            <TableBody>\n                                {this.props.adminRoomsStore.rooms.map((room, index) => (\n                                    <React.Fragment key={room._id}>\n                                        <TableRow>\n                                            <TableCell className=\"rooms__cellNumber\">\n                                                <TextField\n                                                    disabled={isLoading}\n                                                    name=\"number\"\n                                                    type=\"text\"\n                                                    error={!!room?.errors?.number}\n                                                    fullWidth\n                                                    label=\"#\"\n                                                    variant=\"outlined\"\n                                                    onFocus={this.textFieldFocusHandler}\n                                                    onChange={(e) => this.updateRoomHandler(e, room._id)}\n                                                    defaultValue={room.number}/>\n                                            </TableCell>\n                                            <TableCell>\n                                                <TextField\n                                                    disabled={isLoading}\n                                                    name=\"title\"\n                                                    type=\"text\"\n                                                    fullWidth\n                                                    error={!!room?.errors?.title}\n                                                    variant=\"outlined\"\n                                                    label=\"Title:\"\n                                                    onFocus={this.textFieldFocusHandler}\n                                                    onChange={(e) => this.updateRoomHandler(e, room._id)}\n                                                    defaultValue={room.title}/>\n                                            </TableCell>\n                                            <TableCell className=\"rooms__cellActions\">\n                                                <div className=\"rooms__actionsContainer\">\n                                                    {'active' === room.status && (\n                                                        <IconButton\n                                                            onClick={(e) => this.toggleStatusHandler(room._id)}\n                                                            disabled={isLoading} edge=\"end\" aria-label=\"lock\">\n                                                            <LockOpenIcon />\n                                                        </IconButton>\n                                                    )}\n                                                    {'active' !== room.status && (\n                                                        <IconButton disabled={isLoading}\n                                                            onClick={(e) => this.toggleStatusHandler(room._id)} edge=\"end\" aria-label=\"unlock\">\n                                                            <LockIcon />\n                                                        </IconButton>\n                                                    )}\n                                                </div>\n                                            </TableCell>\n                                            <TableCell align=\"right\">\n                                                <IconButton disabled={isLoading}\n                                                    onClick={() => this.removeRoomHandler(room._id)} edge=\"end\" aria-label=\"delete\">\n                                                    <DeleteIcon />\n                                                </IconButton>\n                                            </TableCell>\n                                        </TableRow>\n                                        <TableRow>\n                                            <TableCell colSpan={4}>\n                                                <FormControl error={true}>\n                                                {!!room?.errors?.number && <FormHelperText>Number: {room.errors.number.message}</FormHelperText> }\n                                                {!!room?.errors?.title && <FormHelperText>Title: {room.errors.title.message}</FormHelperText> }\n                                                </FormControl>\n                                            </TableCell>\n                                        </TableRow>\n                                    </React.Fragment>\n                                ))}\n                            </TableBody>\n                        </Table>\n                    </TableContainer>\n                    <FormControl>\n                        <Button onClick={this.addRoomHandler}\n                            variant=\"contained\" size=\"large\" color=\"primary\"\n                            fullWidth type=\"button\" disabled={isLoading}>New room</Button>\n                    </FormControl>\n                </div>\n            </Container>\n        );\n    }\n}\n\nexport default adminRooms;\n","import { createMuiTheme } from '@material-ui/core/styles';\nimport { colors } from '@material-ui/core/';\nimport memoizeOne from 'memoize-one';\n\nconst getMuiTheme = memoizeOne((darkMode = true) => {\n    let palette = {}, textColor = '#fff';\n    switch(darkMode) {\n        case true:\n            textColor = '#fff';\n            palette =  {\n                type: 'dark',\n                background: {\n                    default: '#191919',\n                    paper: '#313131',\n                },\n                primary: {\n                    textColor: '#fff',\n                    main: colors.green[700],\n                    dark: colors.green[900],\n                    light: colors.green[700],\n                },\n                secondary: {\n                    main: colors.indigo[500],\n                    light: colors.indigo[400],\n                    dark: colors.indigo[900],\n                },\n                error: {\n                    main: colors.red[300],\n                },\n                text: {\n                    primary: '#fff',\n                },\n                status: {\n                    available: colors.green[700],\n                    pending: colors.yellow[500],\n                    reserved: colors.red[500],\n                }\n            };\n            break;\n        default:\n            textColor = '#000';\n            palette =  {\n                type: 'light',\n                background: {\n                    default: '#fff',\n                    paper: '#eee'\n                },\n                primary: {\n                    main: colors.green[500],\n                    light: colors.green[400],\n                    dark: colors.green[900],\n                },\n                status: {\n                    available: colors.green[700],\n                    pending: colors.yellow[600],\n                    reserved: colors.red[500],\n                }\n            };\n            break;\n    };\n    const theme = createMuiTheme({\n        palette: palette,\n        overrides: {\n            MuiTypography: {\n                colorPrimary: {\n                    color: textColor,\n                }\n            },\n        }\n    });\n    return theme;\n});\n\nexport default getMuiTheme;\n\n\n// primary.main\n// secondary.main\n// error.main\n// warning.main\n// info.main\n// success.main\n// text.primary\n// text.secondary\n// text.disabled\n","import React from 'react';\nimport { inject, observer } from 'mobx-react';\nimport { Switch, withRouter, Route } from \"react-router-dom\";\n\nimport authApi from './services/authApi';\nimport PrivateRoute from './routes/PrivateRoute'\nimport AdminRoute from './routes/AdminRoute'\nimport Bayan from './components/Bayan';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport Profile from './pages/Profile';\nimport Events from './pages/Events';\nimport AddEvent from './pages/AddEvent';\nimport ChangeEvent from './pages/ChangeEvent';\nimport DeleteEvent from './pages/DeleteEvent';\nimport Page404 from './pages/Page404';\nimport ServerError from './pages/ServerError';\nimport AppError from './pages/AppError';\nimport Offline from './pages/Offline';\nimport { RENDER_STATES } from './stores/appStore';\n\nimport adminRooms from './pages/admin/Rooms';\n\nimport Container from '@material-ui/core/Container';\n\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport getMuiTheme from './themes/';\n\nimport './App.scss'\n\n\n@inject('userStore', 'appStore')\n@withRouter\n@observer\nclass App extends React.Component {\n    async componentDidMount() {\n        const appStore = this.props.appStore;\n        const userStore = this.props.userStore;\n        if (!appStore.isOnline) {\n            appStore.setRenderState(RENDER_STATES.OFFLINE);\n            return;\n        }\n\n        authApi.verify()\n            .then(({ response }) => {\n                const apiData = response.getApiData();\n                if (!apiData.user) {\n                    appStore.setErrorMessage('Server error')\n                    appStore.setRenderState(RENDER_STATES.ERROR);\n                    console.log('invalid response', apiData);\n                }\n\n                userStore.setUser(apiData.user);\n                this.props.appStore.setRenderState(RENDER_STATES.COMMON);\n            })\n            .catch(({ error, response }) => {\n                if (error && error.response?.status !== 403) {\n                    appStore.setErrorMessage('Server error')\n                    appStore.setRenderState(RENDER_STATES.ERROR);\n                    console.log(response.message);\n                    return;\n                }\n\n                this.props.appStore.setRenderState(RENDER_STATES.COMMON);\n\n            });\n\n    }\n\n    render() {\n        console.info('App render', this.props.appStore.renderState);\n        const userStore = this.props.userStore;\n        const theme = getMuiTheme(this.props.appStore.preferDarkMode);\n        let page = null;\n        switch(this.props.appStore.renderState) {\n            case RENDER_STATES.LOADER:\n                page = <Bayan/>;\n                break;\n            case RENDER_STATES.ERROR:\n                page = <ServerError/>;\n                break;\n            case RENDER_STATES.OFFLINE:\n                page = <Offline/>;\n                break;\n            case RENDER_STATES.COMMON:\n                page = (\n                    <Switch>\n                    <Route path=\"/login\" component={Login}/>\n                    <Route path=\"/register\" component={Register}/>\n\n                    <PrivateRoute path=\"/events\" exact component={Events} isLoggedIn={userStore.isLoggedIn}/>\n                    <PrivateRoute path=\"/events/add/:roomId?/:from?/:to?\" component={AddEvent} isLoggedIn={userStore.isLoggedIn}/>\n                    <PrivateRoute path=\"/events/change/:id\" exact component={ChangeEvent} isLoggedIn={userStore.isLoggedIn}/>\n                    <PrivateRoute path=\"/events/delete/:id\" exact component={DeleteEvent} isLoggedIn={userStore.isLoggedIn}/>\n                    <PrivateRoute path=\"/\" exact component={Events} isLoggedIn={userStore.isLoggedIn}/>\n                    <PrivateRoute path=\"/@:username\" component={Profile} isLoggedIn={userStore.isLoggedIn}/>\n\n                    <AdminRoute path=\"/rooms\" exact component={adminRooms} isAdmin={userStore.isAdmin} isLoggedIn={userStore.isLoggedIn}/>\n\n                    <Route component={Page404} />\n                    </Switch>\n                );\n                break;\n            default:\n                page = <AppError/>\n        }\n        return (\n            <ThemeProvider theme={theme}>\n                <CssBaseline/>\n                <div className=\"app\">\n                    <Header/>\n                    <main>\n                        <Container maxWidth=\"lg\">\n                            {page}\n                        </Container>\n                    </main>\n                    <Footer/>\n                </div>\n            </ThemeProvider>\n        );\n\n    }\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'mobx-react';\nimport { HashRouter } from \"react-router-dom\";\nimport userStore from './stores/userStore';\nimport appStore from './stores/appStore';\nimport profileStore from './stores/profileStore';\nimport authStore from './stores/authStore';\nimport adminRoomsStore from './stores/admin/roomsStore';\nimport App from './App';\nimport './index.scss';\n\n\nconst stores = {\n    userStore, appStore, profileStore, authStore,\n    adminRoomsStore,\n};\n\nwindow.___XSTORES = stores;\n\n// <React.StrictMode>\n//   <App />\n// </React.StrictMode>\nReactDOM.render(\n    <Provider {...stores}>\n        <HashRouter>\n            <React.StrictMode>\n                <App />\n            </React.StrictMode>\n        </HashRouter>\n    </Provider>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}